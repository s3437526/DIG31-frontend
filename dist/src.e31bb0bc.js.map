{"version":3,"sources":["../src/lib/directive.ts","../src/lib/dom.ts","../src/lib/part.ts","../src/lib/template.ts","../src/lib/template-instance.ts","../src/lib/template-result.ts","../src/lib/parts.ts","../src/lib/default-template-processor.ts","../src/lib/template-factory.ts","../src/lib/render.ts","src/lit-html.ts","views/partials/splash.js","../node_modules/gsap/gsap-core.js","../node_modules/gsap/CSSPlugin.js","../node_modules/gsap/index.js","Toast.js","FetchAPI.js","Auth.js","Utils.js","../node_modules/chart.js/dist/chunks/helpers.segment.js","../node_modules/chart.js/dist/chart.esm.js","views/pages/home.js","views/pages/404.js","views/pages/places.js","../src/lib/modify-template.ts","../src/lib/shady-render.ts","../src/lib/updating-element.ts","../src/lib/decorators.ts","../src/lib/css-tag.ts","src/lit-element.ts","components/aa-light-dialog.js","views/pages/devices.js","views/pages/guide.js","views/pages/usersView.js","Router.js","App.js","components/va-app-header.js","components/aa-accordion-button.js","components/aa-panel-template.js","index.js","../node_modules/parcel-bundler/src/builtins/bundle-url.js","../node_modules/parcel-bundler/src/builtins/css-loader.js","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["splash","html","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","__proto__","_config","autoSleep","force3D","nullTargetWarn","units","lineHeight","_defaults","duration","overwrite","delay","_suppressOverwrites","_bigNum","_tinyNum","_2PI","Math","PI","_HALF_PI","_gsID","_sqrt","sqrt","_cos","cos","_sin","sin","_isString","value","_isFunction","_isNumber","_isUndefined","_isObject","_isNotFalse","_windowExists","window","_isFuncOrString","_isTypedArray","ArrayBuffer","isView","_isArray","Array","isArray","_strictNumExp","_numExp","_numWithUnitExp","_complexStringNumExp","_relExp","_delimitedValueExp","_unitExp","_globalTimeline","_win","_coreInitted","_doc","_globals","_installScope","_coreReady","_install","scope","_merge","gsap","_missingPlugin","property","console","warn","_warn","message","suppress","_addGlobal","name","obj","_emptyFunc","_reservedProps","_lazyTweens","_lazyLookup","_lastRenderedFrame","_plugins","_effects","_nextGCFrame","_harnessPlugins","_callbackNames","_harness","targets","target","harnessPlugin","i","_gsap","harness","length","targetTest","GSCache","splice","_getCache","toArray","_getProperty","v","getAttribute","_forEachName","names","func","split","forEach","_round","round","_arrayContainsAny","toSearch","toFind","l","indexOf","_parseVars","params","type","parent","isLegacy","varsIndex","vars","irVars","defaults","inherit","immediateRender","runBackwards","startAt","_lazyRender","a","slice","tween","_lazy","render","_lazySafeRender","animation","time","suppressEvents","force","_numericIfPossible","n","parseFloat","match","trim","_passThrough","p","_setDefaults","_setKeyframeDefaults","base","toMerge","_mergeDeep","_copyExcluding","excluding","copy","_inheritDefaults","keyframes","_dp","_arraysMatch","a1","a2","_addLinkedListItem","child","firstProp","lastProp","sortBy","prev","t","_prev","_next","_removeLinkedListItem","next","_removeFromParent","onlyIfParentHasAutoRemove","autoRemoveChildren","remove","_act","_uncache","_end","_dur","_start","_dirty","_recacheAncestors","totalDuration","_hasNoPausedAncestors","_ts","_elapsedCycleDuration","_repeat","_animationCycle","_tTime","_rDelay","tTime","cycleDuration","whole","floor","_parentToChildTotalTime","parentTime","_tDur","_setEnd","abs","_rts","_alignPlayhead","totalTime","smoothChildTiming","_time","_postAddChecks","timeline","_initted","rawTime","_clamp","_zTime","_addToTimeline","position","skipChecks","_delay","timeScale","_sort","_recent","_scrollTrigger","trigger","ScrollTrigger","_attemptInitTween","_initTween","_pt","lazy","_ticker","frame","push","_parentPlayheadIsBeforeStart","_ref","_lock","_renderZeroDurationTween","prevRatio","ratio","data","repeatDelay","pt","iteration","prevIteration","_yoyo","repeatRefresh","invalidate","_from","_callback","r","d","_startAt","_onUpdate","_prom","_findNextPauseTween","prevTime","_first","_last","_setDuration","skipUncache","leavePlayhead","repeat","dur","totalProgress","_onUpdateTotalDuration","Timeline","_zeroPosition","endTime","_parsePosition","labels","recent","clippedDuration","offset","isNaN","charAt","substr","_conditionalReturn","min","max","getUnit","exec","index","clamp","_slice","_isArrayLike","nonEmpty","nodeType","_flatten","ar","leaveStrings","accumulator","_accumulator","apply","_wake","call","querySelectorAll","shuffle","sort","random","distribute","each","ease","_parseEase","from","cache","isDecimal","ratios","axis","ratioX","ratioY","center","edges","end","distances","originX","originY","x","y","j","wrapAt","grid","getBoundingClientRect","left","amount","b","u","_invertEase","_roundModifier","pow","raw","snap","snapTo","radius","is2D","values","increment","closest","dx","dy","roundingIncrement","returnFunction","pipe","_len","arguments","functions","_key","reduce","f","unitize","unit","normalize","mapRange","_wrapArray","wrapper","wrap","range","wrapYoyo","total","_replaceRandom","s","nums","inMin","inMax","outMin","outMax","inRange","outRange","interpolate","start","progress","mutate","isString","master","interpolators","il","_addPropTween","_renderPropTweens","_getLabelInDirection","fromTime","backward","distance","label","executeLazyFirst","callback","callbackScope","_interrupt","_quickTween","_createPlugin","config","isFunc","Plugin","init","_props","instanceDefaults","add","kill","_killPropTweensOf","modifier","_addPluginModifier","rawVars","statics","get","getSetter","_getSetter","aliases","register","prop","toUpperCase","PropTween","_255","_colorLookup","aqua","lime","silver","black","maroon","teal","blue","navy","white","olive","yellow","orange","gray","purple","green","red","pink","cyan","transparent","_hue","h","m1","m2","splitColor","toHSL","forceAlpha","g","wasHSL","parseInt","map","Number","_colorOrderData","c","_colorExp","_formatColors","orderMatchData","result","colors","shell","color","join","replace","shift","RegExp","_hslExp","_colorStringFilter","combined","lastIndex","test","_tickerActive","_getTime","Date","now","_lagThreshold","_adjustedLag","_startTime","_lastUpdate","_gap","_nextTime","_listeners","_id","_req","_raf","_self","_delta","_i","_tick","elapsed","manual","overlap","dispatch","tick","deltaRatio","fps","wake","document","gsapVersions","version","GreenSockGlobals","requestAnimationFrame","sleep","setTimeout","cancelAnimationFrame","clearTimeout","lagSmoothing","threshold","adjustedLag","_fps","_easeMap","_customEaseExp","_quotesExp","_parseObjectInString","key","val","parsedVal","lastIndexOf","_valueInParentheses","open","close","nested","substring","_configEaseFromString","_CE","_propagateYoyoEase","isYoyo","yoyoEase","_ease","_yEase","defaultEase","_insertEase","easeIn","easeOut","easeInOut","lowercaseName","toLowerCase","_easeInOutFromOut","_configElastic","amplitude","period","p1","p2","p3","asin","_configBack","overshoot","power","Linear","easeNone","none","n1","n2","n3","SteppedEase","steps","immediateStart","id","set","Animation","Infinity","yoyo","reversed","reverse","paused","_proto","startTime","_totalTime","_ptLookup","_pTime","_ps","includeRepeats","wrapRepeats","globalTime","seek","restart","includeDelay","play","pause","atTime","resume","isActive","eventCallback","then","onFulfilled","Promise","resolve","_resolve","_then","_Animation","_this","sortChildren","scrollTrigger","_proto2","to","Tween","fromTo","fromVars","toVars","delayedCall","staggerTo","stagger","onCompleteAll","onCompleteAllParams","onComplete","onCompleteParams","staggerFrom","staggerFromTo","tDur","crossingStart","prevPaused","pauseTween","prevStart","rewinding","doesWrap","_hasPause","_forcing","onUpdate","adjustedTime","_this2","addLabel","getChildren","tweens","timelines","ignoreBeforeTime","getById","animations","removeLabel","killTweensOf","_totalTime2","addPause","removePause","props","onlyActive","getTweensOf","_overwritingTween","parsedTargets","isGlobalTime","children","_targets","tweenTo","tl","_vars","_onStart","onStart","onStartParams","tweenFromTo","fromPosition","toPosition","nextLabel","afterTime","previousLabel","beforeTime","currentLabel","shiftChildren","adjustLabels","clear","includeLabels","updateRoot","_addComplexStringPropTween","setter","stringFilter","funcParam","_renderComplexString","matchIndex","startNums","endNum","chunk","startNum","hasRandom","e","m","fp","currentValue","parsedStart","_setterPlain","_setterFuncWithParam","_setterFunc","_renderBoolean","_renderPlain","_processVars","_parseFuncOrString","style","_checkPlugin","plugin","ptLookup","priority","onUpdateParams","autoRevert","prevStartAt","fullTargets","autoOverwrite","_overwrite","cleanVars","hasPriority","gsData","harnessVars","overwritten","_op","_sortPropTweensByPriority","_onInit","_addAliasesToVars","propertyAliases","_staggerTweenProps","_staggerPropsToSkip","_Animation2","skipInherit","_this3","_this3$vars","curTarget","staggerFunc","staggerVarsToMerge","_proto3","onRepeat","killingTargets","propTweenLookup","firstPT","overwrittenProps","curLookup","curOverwriteProps","onReverseComplete","onReverseCompleteParams","_setterAttribute","setAttribute","hasNonDependentRemaining","op","dep","_setterWithModifier","mSet","mt","pt2","first","last","pr","change","renderer","_proto4","TweenMax","TweenLite","TimelineLite","TimelineMax","registerPlugin","_len2","args","_key2","getProperty","uncache","getter","format","quickSetter","setters","isTweening","registerEffect","_ref2","effect","plugins","extendTimeline","pluginName","registerEase","parseEase","exportRoot","includeDelayedCalls","utils","install","effects","ticker","globalTimeline","core","globals","getCache","suppressOverwrites","_getPluginPropTween","_addModifiers","modifiers","_buildModifierPlugin","temp","Power0","Power1","Power2","Power3","Power4","Quad","Cubic","Quart","Quint","Strong","Elastic","Back","Bounce","Sine","Expo","Circ","_docElement","_pluginInitted","_tempDiv","_tempDivStyler","_recentSetterPlugin","_transformProps","_RAD2DEG","_DEG2RAD","_atan2","atan2","_capsExp","_horizontalExp","_complexExp","_propertyAliases","autoAlpha","scale","alpha","_renderCSSProp","_renderPropWithEnd","_renderCSSPropWithBeginning","_renderRoundedCSSProp","_renderNonTweeningValue","_renderNonTweeningValueOnlyAtEnd","_setterCSSStyle","_setterCSSProp","setProperty","_setterTransform","_setterScale","scaleX","scaleY","_setterScaleWithRender","renderTransform","_setterTransformWithRender","_transformProp","_transformOriginProp","_supports3D","_createElement","ns","createElementNS","createElement","_getComputedProperty","skipPrefixFallback","cs","getComputedStyle","getPropertyValue","_checkPropPrefix","_prefixes","element","preferPrefix","_initCore","documentElement","cssText","_getBBoxHack","swapIfPossible","svg","ownerSVGElement","oldParent","parentNode","oldSibling","nextSibling","oldCSS","bbox","appendChild","display","getBBox","_gsapBBox","insertBefore","removeChild","_getAttributeFallbacks","attributesArray","hasAttribute","_getBBox","bounds","error","width","height","_isSVG","getCTM","_removeProperty","removeProperty","removeAttribute","_addNonTweeningPT","beginning","onlySetAtEnd","_nonConvertibleUnits","deg","rad","turn","_convertToUnit","curValue","curUnit","horizontal","isRootSVG","tagName","measureProperty","toPixels","toPercent","px","isSVG","body","_get","_parseTransform","_firstTwoOnly","zOrigin","_specialProps","_tweenComplexCSSString","startValues","startValue","endValue","endUnit","startUnit","relative","endValues","_keywordToPercent","top","bottom","right","_convertKeywordsToPercentages","_renderClearProps","clearTransforms","clearProps","_identity2DMatrix","_rotationalProperties","_isNullTransform","_getComputedTransformMatrixAsArray","matrixString","_getMatrix","force2D","matrix","addedToDOM","transform","baseVal","consolidate","offsetParent","_applySVGOrigin","origin","originIsAbsolute","smooth","matrixArray","pluginToAddPropTweensTo","xOriginOld","xOrigin","yOriginOld","yOrigin","xOffsetOld","xOffset","yOffsetOld","yOffset","tx","ty","originSplit","determinant","invertedScaleX","z","rotation","rotationX","rotationY","skewX","skewY","perspective","angle","a12","a22","t1","t2","t3","a13","a23","a33","a42","a43","a32","forceCSS","xPercent","offsetWidth","yPercent","offsetHeight","transformPerspective","_renderSVGTransforms","_renderCSSTransforms","_renderNon3DTransforms","_addPxTranslate","_zeroDeg","_zeroPx","_endParenthesis","transforms","use3D","a11","a21","tan","_addRotationalPropTween","cap","finalValue","direction","_addRawTransformPTs","startCache","exclude","endCache","side","CSSPlugin","specialProp","isTransformRelated","transformPropTween","parseTransform","smoothOrigin","autoRound","checkPrefix","positionAndScale","others","all","gsapWithCSS","TweenMaxWithCSS","Toast","showDuration","containerEl","show","content","toastEl","className","classList","innerText","opacity","marginTop","headers","FetchAPI","getPlacesAsync","response","fetch","App","apiBase","method","localStorage","accessToken","ok","status","Error","json","getItemsAsync","getDevicesAsync","accessLevel","getLocationsAsync","getUsersAsync","postPlaceAsync","formData","postItemAsync","putItemAsync","log","JSON","stringify","Auth","currentUser","signUp","userData","fail","pass","err","signIn","user","firstName","setItem","Router","location","reload","check","success","rootEl","removeItem","signOut","Utils","isMobile","viewportWidth","innerWidth","pageIntroAnim","pageContent","querySelector","fontString","pixelSize","fontStyle","fontFamily","requestAnimFrame","throttled","fn","thisArg","updateFn","updateArgs","ticking","rest","debounce","timeout","_toLeftRightCenter","align","_alignStartEnd","_textX","noop","uid","isNullOrUndef","toString","isObject","isNumberFinite","isFinite","finiteOrDefault","defaultValue","valueOrDefault","toPercentage","dimension","endsWith","toDimension","loopable","len","keys","_elementsEqual","a0","ilen","v0","v1","datasetIndex","clone$1","source","klen","k","isValidKey","_merger","options","tval","sval","merge","sources","merger","mergeIf","_mergerIf","hasOwnProperty","_deprecated","previous","current","undefined","emptyString","dot","indexOfDotOrLength","idx","resolveObjectKey","pos","_capitalize","str","defined","isFunction","setsEqual","size","item","has","TAU","PITAU","INFINITY","POSITIVE_INFINITY","RAD_PER_DEG","HALF_PI","QUARTER_PI","TWO_THIRDS_PI","log10","sign","niceNum","niceRange","fraction","niceFraction","_factorize","pop","isNumber","almostEquals","epsilon","almostWhole","rounded","_setMinAndMaxByKey","array","toRadians","degrees","toDegrees","radians","_decimalPlaces","getAngleFromPoint","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","distanceBetweenPoints","pt1","_angleDiff","_normalizeAngle","_angleBetween","angleToStart","angleToEnd","startToAngle","endToAngle","_limitValue","_int16Range","atEdge","elasticIn","elasticOut","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","A","B","C","D","E","F","hex","h1","h2","eq","isShort","hexParse","ret","hexString","lim","p2b","n2b","b2n","n2p","RGB_RE","rgbParse","rgbString","HUE_RE","hsl2rgbn","hsv2rgbn","hwb2rgbn","w","rgb","rgb2hsl","calln","hsl2rgb","hwb2rgb","hsv2rgb","hue","hueParse","rotate","hslString","map$1","Z","Y","X","W","V","U","T","S","R","Q","P","O","N","M","L","K","G","H","I","J","OiceXe","antiquewEte","aquamarRe","azuY","beige","bisque","blanKedOmond","Xe","XeviTet","bPwn","burlywood","caMtXe","KartYuse","KocTate","cSO","cSnflowerXe","cSnsilk","crimson","xXe","xcyan","xgTMnPd","xWay","xgYF","xgYy","xkhaki","xmagFta","xTivegYF","xSange","xScEd","xYd","xsOmon","xsHgYF","xUXe","xUWay","xUgYy","xQe","xviTet","dAppRk","dApskyXe","dimWay","dimgYy","dodgerXe","fiYbrick","flSOwEte","foYstWAn","fuKsia","gaRsbSo","ghostwEte","gTd","gTMnPd","Way","gYF","gYFLw","gYy","honeyMw","hotpRk","RdianYd","Rdigo","ivSy","khaki","lavFMr","lavFMrXsh","lawngYF","NmoncEffon","ZXe","ZcSO","Zcyan","ZgTMnPdLw","ZWay","ZgYF","ZgYy","ZpRk","ZsOmon","ZsHgYF","ZskyXe","ZUWay","ZUgYy","ZstAlXe","ZLw","limegYF","lRF","magFta","maPon","VaquamarRe","VXe","VScEd","VpurpN","VsHgYF","VUXe","VsprRggYF","VQe","VviTetYd","midnightXe","mRtcYam","mistyPse","moccasR","navajowEte","Tdlace","Tive","TivedBb","Sange","SangeYd","ScEd","pOegTMnPd","pOegYF","pOeQe","pOeviTetYd","papayawEp","pHKpuff","peru","pRk","plum","powMrXe","purpN","YbeccapurpN","Yd","Psybrown","PyOXe","saddNbPwn","sOmon","sandybPwn","sHgYF","sHshell","siFna","skyXe","UXe","UWay","UgYy","snow","sprRggYF","stAlXe","teO","tEstN","tomato","Qe","viTet","JHt","wEte","wEtesmoke","Lw","LwgYF","unpack","unpacked","tkeys","nk","names$1","nameParse","modHSL","tmp","clone","proto","assign","fromObject","input","functionParse","Color","_rgb","_valid","valid","mix","weight","me","c1","c2","w2","w1","clearer","greyscale","opaquer","negate","lighten","darken","saturate","desaturate","index_esm","isPatternOrGradient","CanvasGradient","CanvasPattern","getHoverColor","overrides","descriptors","getScope$1","node","root","Defaults","_descriptors","backgroundColor","borderColor","datasets","devicePixelRatio","context","chart","platform","getDevicePixelRatio","elements","events","font","family","hover","hoverBackgroundColor","ctx","hoverBorderColor","hoverColor","indexAxis","interaction","mode","intersect","maintainAspectRatio","onHover","onClick","parsing","responsive","scales","showLine","describe","override","route","targetScope","targetName","scopeObject","targetScopeObject","privateName","defineProperties","writable","enumerable","local","_scriptable","startsWith","_indexable","_fallback","toFontString","_measureText","gc","longest","string","textWidth","measureText","_longestText","arrayOfThings","garbageCollect","save","jlen","thing","nestedThing","restore","gcLen","_alignPixel","pixel","currentDevicePixelRatio","halfWidth","clearCanvas","canvas","getContext","resetTransform","clearRect","drawPoint","cornerRadius","pointStyle","translate","drawImage","beginPath","arc","closePath","moveTo","lineTo","SQRT1_2","rect","fill","borderWidth","stroke","_isPointInArea","point","area","margin","clipArea","clip","unclipArea","_steppedLineTo","flip","midpoint","_bezierCurveTo","bezierCurveTo","cp1x","cp2x","cp1y","cp2y","renderText","text","opts","lines","strokeWidth","strokeColor","line","translation","fillStyle","textAlign","textBaseline","strokeStyle","lineWidth","strokeText","maxWidth","fillText","strikethrough","underline","metrics","actualBoundingBoxLeft","actualBoundingBoxRight","actualBoundingBoxAscent","actualBoundingBoxDescent","yDecoration","decorationWidth","addRoundedRectPath","topLeft","bottomLeft","bottomRight","topRight","LINE_HEIGHT","FONT_STYLE","toLineHeight","matches","numberOrZero","_readValueToProps","objProps","read","toTRBL","toTRBLCorners","toPadding","toFont","fallback","inputs","info","cacheable","_addGrace","minmax","grace","_lookup","table","cmp","hi","lo","mid","_lookupByKey","_rlookupByKey","_filterBetween","arrayEvents","listenArrayEvents","listener","_chartjs","listeners","defineProperty","configurable","res","object","unlistenArrayEvents","stub","_arrayUnique","items","Set","_createResolver","scopes","prefixes","rootScopes","getTarget","Symbol","toStringTag","_cacheable","_scopes","_rootScopes","_getTarget","Proxy","deleteProperty","_keys","_cached","_resolveWithPrefixes","getOwnPropertyDescriptor","Reflect","getPrototypeOf","getKeysFromAllScopes","includes","ownKeys","storage","_storage","_attachContext","proxy","subProxy","descriptorDefaults","_proxy","_context","_subProxy","_stack","setContext","receiver","_resolveWithContext","allKeys","scriptable","indexable","_allKeys","isScriptable","isIndexable","readKey","prefix","needsSubResolver","_resolveScriptable","_resolveArray","delete","createSubResolver","arr","filter","resolver","resolveFallback","getScope","addScopes","parentScopes","parentFallback","allScopes","addScopesFromKey","resolveKeysFromAllScopes","EPSILON","getPoint","points","skip","splineCurve","firstPoint","middlePoint","afterPoint","d01","d12","s01","s12","fa","fb","monotoneAdjust","deltaK","mK","pointsLen","alphaK","betaK","tauK","squaredMagnitude","pointCurrent","pointAfter","monotoneCompute","deltaX","pointBefore","splineCurveMonotone","slopeDeltaX","capControlPoint","capBezierPoints","inArea","inAreaPrev","inAreaNext","_updateBezierControlPoints","loop","controlPoints","spanGaps","cubicInterpolationMode","tension","_getParentNode","domNode","host","parseMaxStyle","styleValue","parentProperty","valueInPixels","getStyle","el","positions","getPositionedStyle","styles","suffix","useOffsetPos","shadowRoot","getCanvasPosition","evt","native","touches","offsetX","offsetY","box","clientX","clientY","getRelativePosition","borderBox","boxSizing","paddings","borders","getContainerSize","maxHeight","container","clientWidth","clientHeight","containerStyle","containerBorder","containerPadding","round1","getMaximumSize","bbWidth","bbHeight","aspectRatio","margins","containerSize","retinaScale","forceRatio","forceStyle","pixelRatio","setTransform","supportsEventListenerOptions","passiveSupported","passive","addEventListener","removeEventListener","readUsedSize","_pointInLine","_steppedInterpolation","_bezierInterpolation","cp1","cp2","intlCache","Map","getNumberFormat","locale","cacheKey","formatter","Intl","NumberFormat","formatNumber","num","getRightToLeftAdapter","rectX","setWidth","xPlus","leftForLtr","itemWidth","getLeftToRightAdapter","_itemWidth","getRtlAdapter","rtl","overrideTextDirection","original","getPropertyPriority","prevTextDirection","restoreTextDirection","propertyFn","between","compare","normalizeSegment","count","getSegment","segment","startBound","endBound","_boundSegment","inside","subStart","prevValue","startIsBefore","endIsBefore","shouldStart","shouldStop","_boundSegments","segments","sub","findStartAndEnd","solidSegments","cur","stop","_computeSegments","segmentOptions","_loop","splitByStyles","completeLoop","_fullLoop","doSplitByStyles","prevStyle","readStyle","p0","styleChanged","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","Animator","_request","_charts","_running","_lastDate","_notify","anims","date","callbacks","numSteps","initial","currentStep","_refresh","_update","remaining","running","draw","_active","_total","_getAnims","charts","complete","listen","event","cb","acc","_duration","cancel","animator","boolean","factor","c0","number","cfg","_fn","_easing","easing","_target","_prop","_to","_promises","active","update","remain","wait","promises","rej","resolved","numbers","animationOptions","properties","resize","visible","hide","Animations","_chart","_properties","configure","animatedProps","getOwnPropertyNames","option","_animateOptions","newOptions","resolveTargetOptions","_createAnimations","$shared","awaitAll","$animations","anim","scaleClip","allowedOverflow","defaultClip","xScale","yScale","toClip","getSortedDatasetIndices","filterVisible","metasets","_getSortedDatasetMetas","applyStack","stack","dsIndex","singleMode","otherValue","convertObjectDataToArray","adata","isStacked","meta","stacked","getStackKey","indexScale","valueScale","getUserBounds","minDefined","maxDefined","NEGATIVE_INFINITY","getOrCreateStack","stacks","stackKey","indexValue","subStack","getLastIndexInStack","vScale","positive","getMatchingVisibleMetas","updateStacks","controller","parsed","_cachedMeta","_stacks","iScale","iAxis","vAxis","itemStacks","_top","_bottom","getFirstScaleId","createDatasetContext","dataset","createDataContext","dataIndex","clearStacks","_parsed","isDirectUpdateMode","cloneIfNotShared","cached","shared","DatasetController","_ctx","_cachedDataOpts","getMeta","_type","_parsing","_data","_objectData","_sharedOptions","_drawStart","_drawCount","enableOptionSharing","$context","initialize","linkScales","_stacked","addElements","updateIndex","getDataset","chooseId","xid","xAxisID","yid","yAxisID","rid","rAxisID","iid","iAxisID","vid","vAxisID","getScaleForId","rScale","getDatasetMeta","scaleID","_getOtherScale","reset","_destroy","_dataCheck","isExtensible","datasetElementType","buildOrUpdateElements","resetNewElements","stackChanged","_resyncElements","scopeKeys","datasetScopeKeys","getOptionScopes","createResolver","parse","sorted","_sorted","parseArrayData","parseObjectData","parsePrimitiveData","isNotInOrderComparedToPrev","getLabels","singleScale","xAxisKey","yAxisKey","getParsed","getDataElement","updateRangeFromParsed","parsedValue","NaN","getMinMax","canStack","otherScale","otherMin","otherMax","_skip","getAllParsedValues","getMaxOverflow","getLabelAndValue","getLabelForValue","_clip","chartArea","resolveDatasetElementOptions","resolveDataElementOptions","_resolveElementOptions","dataElementType","elementType","sharing","datasetElementScopeKeys","resolveNamedOptions","freeze","_resolveAnimations","transition","datasetAnimationScopeKeys","getSharedOptions","includeOptions","sharedOptions","_animationsDisabled","updateElement","updateSharedOptions","_setStyle","removeHoverStyle","setHoverStyle","_removeDatasetHoverStyle","_setDatasetHoverStyle","numMeta","numData","_insertElements","_removeElements","move","updateElements","removed","_onDataPush","_onDataPop","_onDataShift","_onDataSplice","_onDataUnshift","getAllScaleValues","_cache","$bar","metas","concat","computeMinSampleSize","_length","curr","updateMinAndPrev","getPixelForValue","ticks","getPixelForTick","computeFitCategoryTraits","ruler","stackCount","thickness","barThickness","categoryPercentage","barPercentage","pixels","computeFlexCategoryTraits","percent","parseFloatBar","entry","barStart","barEnd","_custom","parseValue","parseArrayOrPrimitive","isFloatBar","custom","BarController","iAxisKey","vAxisKey","bars","getBasePixel","isHorizontal","_getRuler","firstOpts","vpixels","head","_calculateBarValuePixels","ipixels","_calculateBarIndexPixels","enableBorderRadius","_getStacks","_getStackCount","_getStackIndex","_startPixel","_endPixel","grouped","baseValue","minBarLength","floating","getDataVisibility","actualBase","halfGrid","getLineWidthForValue","skipNull","maxBarThickness","stackIndex","rects","_index_","_value_","beginAtZero","BubbleController","getPixelForDecimal","tooltip","title","getRatioAndOffset","circumference","cutout","startAngle","endAngle","startX","startY","endX","endY","calcMax","calcMin","maxX","maxY","minX","minY","DoughnutController","innerRadius","outerRadius","_getRotation","_getCircumference","_getRotationExtents","isDatasetVisible","arcs","spacing","getMaxBorderWidth","getMaxOffset","maxSize","chartWeight","_getRingWeight","maxRadius","radiusLength","_getVisibleDatasetWeightTotal","calculateTotal","_getRingWeightOffset","_circumference","animateRotate","calculateCircumference","animationOpts","centerX","centerY","animateScale","metaData","borderAlign","hoverBorderWidth","hoverOffset","ringWeightOffset","legend","generateLabels","hidden","legendItem","toggleDataVisibility","tooltipItem","dataLabel","formattedValue","LineController","_dataset","animationsDisabled","getStartAndCountOfVisiblePoints","scaleRangesChanged","_decimated","animated","maxGapLength","directUpdate","prevParsed","nullData","border","lastPoint","updateControlPoints","pointCount","_scaleRanges","newRanges","xmin","xmax","ymin","ymax","changed","PolarAreaController","_updateRadius","minSize","cutoutPercentage","getVisibleDatasetCount","xCenter","yCenter","datasetStartAngle","getIndexAngle","defaultAngle","countVisibleElements","_computeAngle","getDistanceFromCenterForValue","angleLines","circular","pointLabels","PieController","RadarController","pointPosition","getPointPositionForValue","ScatterController","controllers","abstract","DateAdapter","formats","timestamp","diff","startOf","weekday","endOf","members","adapters","_date","evaluateAllVisibleItems","handler","getSortedVisibleDatasetMetas","binarySearch","metaset","lookupMethod","_reversePixels","getRange","optimizedEvaluateItems","getDistanceMetricForAxis","useX","useY","deltaY","getIntersectItems","useFinalPosition","_minPadding","evaluationFunc","getNearestItems","distanceMetric","minDistance","getCenterPoint","getAxisItems","rangeMethod","intersectsItem","Interaction","modes","nearest","STATIC_POSITIONS","filterByPosition","filterDynamicPositionByAxis","sortByWeight","wrapBoxes","boxes","layoutBoxes","setLayoutDims","layouts","layout","fullSize","availableWidth","hBoxMaxHeight","vBoxMaxWidth","availableHeight","buildLayoutBoxes","centerHorizontal","centerVertical","leftAndTop","rightAndBottom","vertical","getCombinedMax","maxPadding","updateMaxPadding","boxPadding","updateDims","getPadding","newWidth","outerWidth","newHeight","outerHeight","widthChanged","heightChanged","same","other","handleMaxPadding","updatePos","getMargins","marginForPositions","fitBoxes","refitBoxes","refit","placeBoxes","userPadding","padding","addBox","_layers","removeBox","layoutItem","minPadding","verticalBoxes","horizontalBoxes","beforeLayout","visibleVerticalBoxCount","BasePlatform","acquireContext","releaseContext","isAttached","BasicPlatform","EXPANDO_KEY","EVENT_TYPES","touchstart","touchmove","touchend","pointerenter","pointerdown","pointermove","pointerup","pointerleave","pointerout","isNullOrEmpty","initCanvas","renderHeight","renderWidth","displayWidth","displayHeight","eventListenerOptions","addListener","removeListener","fromNativeEvent","createAttachObserver","observer","MutationObserver","entries","addedNodes","added","observe","childList","subtree","createDetachObserver","removedNodes","drpListeningCharts","oldDevicePixelRatio","onWindowResize","dpr","listenDevicePixelRatioChanges","unlistenDevicePixelRatioChanges","createResizeObserver","ResizeObserver","contentRect","releaseObserver","disconnect","createProxyAndListen","DomPlatform","proxies","$proxies","handlers","attach","detach","Element","tooltipPosition","getProps","hasValue","final","defaultRoutes","formatters","numeric","tickValue","notation","delta","maxTick","calculateDelta","logDelta","numDecimal","minimumFractionDigits","maximumFractionDigits","logarithmic","Ticks","drawBorder","drawOnChartArea","drawTicks","tickLength","tickWidth","tickColor","minRotation","maxRotation","mirror","textStrokeWidth","textStrokeColor","autoSkip","autoSkipPadding","labelOffset","minor","major","crossAlign","showLabelBackdrop","backdropColor","backdropPadding","tickOpts","ticksLimit","maxTicksLimit","determineMaxTicks","majorIndices","enabled","getMajorIndices","numMajorIndices","newTicks","skipMajors","calculateSpacing","avgMajorSpacing","_tickSize","maxScale","maxChart","_maxLength","evenMajorSpacing","getEvenSpacing","factors","ceil","majorStart","majorEnd","reverseAlign","offsetFromEdge","edge","sample","numItems","getPixelForGridLine","offsetGridLines","validIndex","lineValue","caches","getTickMarkLength","getTitleHeight","createScaleContext","createTickContext","titleAlign","titleArgs","titleX","titleY","Scale","_margins","paddingTop","paddingBottom","paddingLeft","paddingRight","labelRotation","_range","_gridLineItems","_labelItems","_labelSizes","_longestTextCache","_userMax","_userMin","_suggestedMax","_suggestedMin","_ticksLength","_borderValue","_dataLimitsCached","suggestedMin","suggestedMax","getTicks","xLabels","yLabels","beforeUpdate","sampleSize","beforeSetDimensions","setDimensions","afterSetDimensions","beforeDataLimits","determineDataLimits","afterDataLimits","beforeBuildTicks","buildTicks","afterBuildTicks","samplingEnabled","_convertTicksToLabels","beforeCalculateLabelRotation","calculateLabelRotation","afterCalculateLabelRotation","beforeFit","fit","afterFit","afterUpdate","reversePixels","startPixel","endPixel","_alignToPixels","alignToPixels","_callHooks","notifyPlugins","beforeTickToLabelConversion","generateTickLabels","afterTickToLabelConversion","numTicks","maxLabelDiagonal","_isVisible","labelSizes","_getLabelSizes","maxLabelWidth","widest","maxLabelHeight","highest","titleOpts","gridOpts","titleHeight","tickPadding","angleRadians","labelHeight","labelWidth","_calculatePadding","_handleMargins","isRotated","labelsBelowTicks","offsetLeft","offsetRight","isFullSize","_computeLabelSizes","widths","heights","widestLabelSize","highestLabelSize","tickFont","nestedLabel","_resolveTickFontOptions","valueAt","getValueForPixel","decimal","getDecimalForPixel","getBaseValue","optionTicks","rot","_computeGridLineItems","ticksLength","borderOpts","axisWidth","axisHalfWidth","alignBorderValue","borderValue","alignedLineValue","tx1","ty1","tx2","ty2","x1","y1","x2","y2","positionAxisID","optsAtIndex","lineColor","tickBorderDash","tickBorderDashOffset","_computeLabelItems","tickAndPadding","hTickAndPadding","lineCount","textOffset","_getXAxisLabelAlignment","_getYAxisLabelAlignment","halfCount","backdrop","labelPadding","_computeLabelArea","drawBackground","fillRect","findIndex","drawGrid","drawLine","setLineDash","lineDashOffset","lastLineWidth","drawLabels","drawTitle","tz","gz","axisID","_maxDigits","fontSize","TypedRegistry","isForType","isPrototypeOf","parentScope","isIChartComponent","registerDefaults","unregister","itemDefaults","routeDefaults","routes","propertyParts","sourceName","sourceScope","parts","Registry","_typedRegistries","_each","addControllers","addPlugins","addScales","getController","getElement","getPlugin","getScale","removeControllers","removeElements","removePlugins","removeScales","typedRegistry","arg","reg","_getRegistryForType","_exec","itemReg","registry","component","camelMethod","PluginService","_init","notify","hook","_createDescriptors","descriptor","cancelable","_oldCache","_notifyStateChanges","allPlugins","createDescriptors","previousDescriptors","some","getOpts","pluginOpts","pluginScopeKeys","getIndexAxis","datasetDefaults","datasetOptions","getAxisFromDefaultScaleID","getDefaultScaleIDFromAxis","axisFromPosition","determineAxis","scaleOptions","mergeScaleConfig","chartDefaults","configScales","chartIndexAxis","firstIDs","scaleConf","defaultId","defaultScaleOptions","defaultID","initOptions","initData","initConfig","keyCache","keysCached","cachedKeys","generate","addIfFound","Config","_scopeCache","_resolverCache","clearCache","datasetType","additionalOptionScopes","_cachedScopes","mainScope","resetCache","keyLists","chartOptionScopes","subPrefixes","getResolver","needContext","subResolver","resolverCache","KNOWN_POSITIONS","positionIsHorizontal","compare2Level","l1","l2","onAnimationsComplete","onAnimationProgress","onProgress","isDomSupported","getCanvas","getElementById","instances","getChart","Chart","initialCanvas","existingChart","_initializePlatform","_options","_aspectRatio","_metasets","_lastEvent","_sortedMetasets","_hiddenIndices","attached","_doResize","resizeDelay","_initialize","bindEvents","OffscreenCanvas","_resize","_resizeBeforeDraw","newSize","oldRatio","newRatio","onResize","ensureScalesHaveIDs","scalesOptions","axisOptions","buildOrUpdateScales","scaleOpts","updated","isRadial","dposition","dtype","scaleType","scaleClass","hasUpdated","_updateMetasetIndex","oldIndex","_updateMetasets","_destroyDatasetMeta","_removeUnreferencedMetasets","buildOrUpdateControllers","newControllers","order","ControllerClass","_resetElements","animsDisabled","existingEvents","newEvents","unbindEvents","_updateLayout","_updateDatasets","_eventHandler","noArea","_idx","_updateDataset","layers","_drawDatasets","_drawDataset","getElementsAtEventForMode","setDatasetVisibility","_updateDatasetVisibility","destroy","toBase64Image","toDataURL","_add","_remove","detached","updateHoverStyle","getActiveElements","setActiveElements","activeElements","lastActive","_updateHoverStyles","replay","hoverOptions","deactivated","activated","eventFilter","_handleEvent","lastEvent","invalidatePlugins","clipArc","pixelMargin","angleMargin","toRadiusCorners","parseBorderRadius$1","angleDelta","o","borderRadius","halfThickness","innerLimit","computeOuterLimit","outerArcLimit","outerStart","outerEnd","innerStart","innerEnd","rThetaToXY","theta","pathArc","outerStartAdjustedRadius","outerEndAdjustedRadius","outerStartAdjustedAngle","outerEndAdjustedAngle","innerStartAdjustedRadius","innerEndAdjustedRadius","innerStartAdjustedAngle","innerEndAdjustedAngle","pCenter","p4","p8","drawArc","fullCircles","drawFullCircleBorders","inner","lineJoin","ArcElement","chartX","chartY","betweenAngles","withinRadius","halfAngle","halfRadius","setStyle","lineCap","getLineMethod","stepped","pathVars","paramsStart","paramsEnd","segmentStart","segmentEnd","outside","pathSegment","lineMethod","fastPathSegment","avgX","countX","prevX","lastY","pointIndex","drawX","truncX","_getSegmentMethod","useFastPath","_getInterpolationMethod","strokePathWithCache","path","_path","Path2D","strokePathDirect","segmentMethod","usePath2D","LineElement","_points","_segments","_pointsUpdated","_interpolate","interpolated","inRange$1","hitRadius","PointElement","mouseX","mouseY","inXRange","inYRange","hoverRadius","getBarBounds","bar","half","parseBorderSkipped","borderSkipped","parseEdge","swap","startEnd","orig","v2","skipOrLimit","parseBorderWidth","maxW","maxH","parseBorderRadius","maxR","enableBorder","boundingRects","outer","skipX","skipY","skipBoth","hasRadius","addNormalRectPath","BarElement","addRectPath","lttbDecimation","samples","decimated","bucketWidth","sampledIndex","endIndex","maxAreaPoint","maxArea","nextA","avgY","avgRangeStart","avgRangeEnd","avgRangeLength","rangeOffs","rangeTo","pointAx","pointAy","minMaxDecimation","minIndex","maxIndex","startIndex","xMin","xMax","intermediateIndex1","intermediateIndex2","cleanDecimatedDataset","cleanDecimatedData","getStartAndCountOfVisiblePointsSimplified","plugin_decimation","algorithm","beforeElementsUpdate","xAxis","getLineByIndex","parseFillOption","fillOption","decodeFill","computeLinearBoundary","simpleArc","computeCircularBoundary","computeBoundary","pointsFromSegments","boundary","linePoints","buildStackLine","sourcePoints","linesBelow","getLinesBelow","createBoundaryLine","addPointsBelow","isLineAndNotInHideAnimation","below","unshift","sourcePoint","postponed","findPoint","pointValue","firstValue","lastValue","resolveTarget","propagate","visited","clipY","getBounds","_getEdge","tpoints","targetSegments","tgt","subBounds","fillSources","fillSource","clipBounds","interpolatedLineTo","interpolatedPoint","_fill","src","lineLoop","targetLoop","doFill","above","drawfill","lineOpts","plugin_filler","afterDatasetsUpdate","_args","$filler","beforeDraw","drawTime","beforeDatasetsDraw","beforeDatasetDraw","getBoxSize","labelOpts","boxHeight","boxWidth","usePointStyle","itemHeight","itemsEqual","Legend","_added","legendHitBoxes","_hoveredItem","doughnutMode","legendItems","columnSizes","lineWidths","buildLabels","labelFont","_computeTitleHeight","_fitRows","_fitCols","hitboxes","totalHeight","row","heightLimit","totalWidth","currentColWidth","currentColHeight","col","adjustHitBoxes","hitbox","_draw","defaultColor","rtlHelper","fontColor","halfFontSize","cursor","drawLegendBox","lineDash","drawOptions","SQRT2","yBoxTop","xBoxLeft","textDirection","realX","titleFont","titlePadding","topPaddingPlusHalfFontSize","_getLegendItemAt","hitBox","lh","handleEvent","isListened","hoveredItem","sameItem","onLeave","plugin_legend","_element","afterEvent","ci","Title","_padding","textSize","_drawArgs","fontOpts","createTitle","titleBlock","plugin_title","positioners","average","eventPosition","nearestElement","tp","pushOrConcat","toPush","splitNewlines","String","createTooltipItem","getTooltipSize","footer","bodyFont","footerFont","titleLineCount","footerLineCount","bodyLineItemCount","combinedBodyLength","bodyItem","before","after","beforeBody","afterBody","titleSpacing","titleMarginBottom","bodyLineHeight","displayColors","bodySpacing","footerMarginTop","footerSpacing","widthPadding","maxLineWidth","determineYAlign","doesNotFitWithAlign","xAlign","caret","caretSize","caretPadding","determineXAlign","yAlign","chartWidth","determineAlignment","alignX","alignY","paddingAndSize","getBackgroundPoint","alignment","radiusAndPadding","getAlignedX","getBeforeAfterBodyLines","createTooltipContext","tooltipItems","overrideCallbacks","Tooltip","_eventPosition","_size","_cachedAnimations","_tooltipItems","dataPoints","caretX","caretY","labelColors","labelPointStyles","labelTextColors","getTitle","beforeTitle","afterTitle","getBeforeBody","getBody","bodyItems","scoped","beforeLabel","afterLabel","getAfterBody","getFooter","beforeFooter","afterFooter","_createItems","itemSort","labelColor","labelPointStyle","labelTextColor","positionAndSize","backgroundPoint","external","drawCaret","tooltipPoint","caretPosition","getCaretPosition","x3","y3","ptX","ptY","titleColor","_drawColorBox","colorX","rtlColorX","yOffSet","colorY","multiKeyBackground","outerX","innerX","strokeRect","drawBody","bodyAlign","xLinePadding","fillLineOfText","bodyAlignForCalculation","textColor","bodyColor","drawFooter","footerAlign","footerColor","tooltipSize","quadraticCurveTo","_updateAnimationTarget","animX","animY","hasTooltipContent","globalAlpha","positionChanged","_positionChanged","plugin_tooltip","afterInit","afterDraw","labelCount","Decimation","Filler","addIfString","findOrAddLabel","CategoryScale","_startValue","_valueRange","generateTicks$1","generationOptions","dataRange","MIN_SPACING","step","precision","maxTicks","maxDigits","maxSpaces","rmin","rmax","countDefined","minSpacing","niceMin","niceMax","numSpaces","LinearScaleBase","_endValue","handleTickRangeOptions","setMin","setMax","minSign","maxSign","getTickLimit","stepSize","computeTickLimit","numericGeneratorOptions","LinearScale","isMajor","tickVal","generateTicks","endExp","endSignificand","exp","significand","lastTick","LogarithmicScale","_zero","getTickBackdropHeight","measureLabelSize","determineLimits","fitWithPointLabels","furthestLimits","furthestAngles","valueCount","getPointPosition","drawingArea","plFont","_pointLabels","hLimits","vLimits","_setReductions","_pointLabelItems","tickBackdropHeight","outerDistance","extra","pointLabelPosition","adjustPointPositionForLabelHeight","getTextAlignForAngle","drawPointLabels","pathRadiusLine","drawRadiusLine","gridLineOpts","param","RadialLinearScale","setCenterPoint","largestPossibleRadius","radiusReductionLeft","radiusReductionRight","radiusReductionTop","radiusReductionBottom","leftMovement","rightMovement","topMovement","bottomMovement","maxRight","maxLeft","maxTop","maxBottom","angleMultiplier","scalingFactor","getValueForDistanceFromCenter","scaledDistance","distanceFromCenter","getBasePosition","getPointLabelPosition","animate","INTERVALS","millisecond","common","second","minute","hour","day","week","month","quarter","year","UNITS","sorter","adapter","_adapter","parser","isoWeekday","_parseOpts","determineUnitForAutoTicks","minUnit","capacity","interval","MAX_SAFE_INTEGER","determineUnitForFormatting","determineMajorUnit","addTick","timestamps","setMajorTicks","majorUnit","ticksFromTimestamps","TimeScale","_unit","_majorUnit","_offsets","_normalized","displayFormats","normalized","_applyBounds","_getLabelBounds","getLabelTimestamps","timeOpts","_generate","_getLabelCapacity","initOffsets","getDecimalForValue","limit","hasWeekday","getDataTimestamps","tooltipFormat","datetime","_tickFormatFunction","minorFormat","majorFormat","offsets","_getLabelSize","ticksOpts","tickLabelWidth","cosRotation","sinRotation","tickFontSize","exampleTime","exampleLabel","prevSource","nextSource","prevTarget","nextTarget","span","TimeSeriesScale","_table","_maxIndex","_getTimestampsForTable","buildLookupTable","registerables","users","places","HomeView","renderCharts","handleClick","ctx1","myChart1","ctx2","durations","colours","activityHistory","activityDuration","counter","myChart2","ctx3","myChart3","ctx4","myChart4","ctx5","myChart5","ctx6","myChart6","template","FourOFourView","PlacesView","place","locationType","iconURL","placeName","LightDialog","devices","device","textContent","icon","firstUpdated","renderDialog","renderDevices","registerSubmitHandler","preventDefault","detail","submitBtn","cancelBtn","registerDeviceDialog","advancedToggle","manAutoToggle","deviceName","selectedObjectValue","locationObjectValue","typeObjectId","placeObjectId","deviceObject","collections","locationObject","ipInput","mqttInput","checked","append","handleAdvancedSettings","advancedDeviceSettings","toggle","handleEnabledDisabled","disableEnable","handleLevelInputValues","sliderLvlVal","handleLevelSliderValues","lvlInputVal","handlePinnedUnpinned","pinnedInput","handlePowerStatus","lightDialog","dialogContent","reportingRate","pollRate","ipAddress","mqttTopic","DevicesView","animateStatus","tl1","state","level","pinned","GuideView","UsersView","imageURL","lastName","homeView","guideView","usersView","fourOFourView","placesView","devicesView","pathname","fullPathname","gotoRoute","history","pushState","AppRouter","anchorRoute","locations","customElements","define","AppHeader","LitElement","navActiveLinks","signinDialog","signupDialog","registerPlaceDialog","menuItems","registerPlaceDropdown","registerDeviceDropdown","registerDeviceLocationDropdown","menuItem","details","renderPlacesButtons","renderItemsButtons","renderUsersButtons","toggleDialogs","toggleDialog","dropdown","innerHTML","list","entity","itemElement","renderImage","renderIcon","currentPath","navLinks","navLink","href","hamburgerClick","appMenu","menuClick","appSideMenu","signInSubmitHandler","registerPlaceSubmitHandler","objectId","pair","registerDeviceSubmitHandler","handleAutoManagement","minOnSetting","minOffSetting","minInputVal","maxInputVal","handleMinSliderValues","handleMaxSliderValues","handleMinInputValues","handleMaxInputValues","avatar","AccordionButton","button","PanelTemplate","bundleURL","getBundleURLCached","getBundleURL","getBaseURL","url","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","cssTimeout","reloadCSS","links","module","OVERLAY_ID","OldModule","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","hmrApply","hmrAcceptRun","onclose","removeErrorOverlay","overlay","createErrorOverlay","stackTrace","getParents","modules","parents","Function","deps"],"mappings":"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","file":"src.e31bb0bc.js","sourceRoot":"..\\src","sourcesContent":["/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {Part} from './part.js';\n\nconst directives = new WeakMap<object, true>();\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport type DirectiveFactory = (...args: any[]) => object;\n\nexport type DirectiveFn = (part: Part) => void;\n\n/**\n * Brands a function as a directive factory function so that lit-html will call\n * the function during template rendering, rather than passing as a value.\n *\n * A _directive_ is a function that takes a Part as an argument. It has the\n * signature: `(part: Part) => void`.\n *\n * A directive _factory_ is a function that takes arguments for data and\n * configuration and returns a directive. Users of directive usually refer to\n * the directive factory as the directive. For example, \"The repeat directive\".\n *\n * Usually a template author will invoke a directive factory in their template\n * with relevant arguments, which will then return a directive function.\n *\n * Here's an example of using the `repeat()` directive factory that takes an\n * array and a function to render an item:\n *\n * ```js\n * html`<ul><${repeat(items, (item) => html`<li>${item}</li>`)}</ul>`\n * ```\n *\n * When `repeat` is invoked, it returns a directive function that closes over\n * `items` and the template function. When the outer template is rendered, the\n * return directive function is called with the Part for the expression.\n * `repeat` then performs it's custom logic to render multiple items.\n *\n * @param f The directive factory function. Must be a function that returns a\n * function of the signature `(part: Part) => void`. The returned function will\n * be called with the part object.\n *\n * @example\n *\n * import {directive, html} from 'lit-html';\n *\n * const immutable = directive((v) => (part) => {\n *   if (part.value !== v) {\n *     part.setValue(v)\n *   }\n * });\n */\nexport const directive = <F extends DirectiveFactory>(f: F): F =>\n    ((...args: unknown[]) => {\n      const d = f(...args);\n      directives.set(d, true);\n      return d;\n    }) as F;\n\nexport const isDirective = (o: unknown): o is DirectiveFn => {\n  return typeof o === 'function' && directives.has(o);\n};\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\ninterface MaybePolyfilledCe extends CustomElementRegistry {\n  readonly polyfillWrapFlushCallback?: object;\n}\n\n/**\n * True if the custom elements polyfill is in use.\n */\nexport const isCEPolyfill = typeof window !== 'undefined' &&\n    window.customElements != null &&\n    (window.customElements as MaybePolyfilledCe).polyfillWrapFlushCallback !==\n        undefined;\n\n/**\n * Reparents nodes, starting from `start` (inclusive) to `end` (exclusive),\n * into another container (could be the same container), before `before`. If\n * `before` is null, it appends the nodes to the container.\n */\nexport const reparentNodes =\n    (container: Node,\n     start: Node|null,\n     end: Node|null = null,\n     before: Node|null = null): void => {\n      while (start !== end) {\n        const n = start!.nextSibling;\n        container.insertBefore(start!, before);\n        start = n;\n      }\n    };\n\n/**\n * Removes nodes, starting from `start` (inclusive) to `end` (exclusive), from\n * `container`.\n */\nexport const removeNodes =\n    (container: Node, start: Node|null, end: Node|null = null): void => {\n      while (start !== end) {\n        const n = start!.nextSibling;\n        container.removeChild(start!);\n        start = n;\n      }\n    };\n","/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * The Part interface represents a dynamic part of a template instance rendered\n * by lit-html.\n */\nexport interface Part {\n  readonly value: unknown;\n\n  /**\n   * Sets the current part value, but does not write it to the DOM.\n   * @param value The value that will be committed.\n   */\n  setValue(value: unknown): void;\n\n  /**\n   * Commits the current part value, causing it to actually be written to the\n   * DOM.\n   *\n   * Directives are run at the start of `commit`, so that if they call\n   * `part.setValue(...)` synchronously that value will be used in the current\n   * commit, and there's no need to call `part.commit()` within the directive.\n   * If directives set a part value asynchronously, then they must call\n   * `part.commit()` manually.\n   */\n  commit(): void;\n}\n\n/**\n * A sentinel value that signals that a value was handled by a directive and\n * should not be written to the DOM.\n */\nexport const noChange = {};\n\n/**\n * A sentinel value that signals a NodePart to fully clear its content.\n */\nexport const nothing = {};\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {TemplateResult} from './template-result.js';\n\n/**\n * An expression marker with embedded unique key to avoid collision with\n * possible text in templates.\n */\nexport const marker = `{{lit-${String(Math.random()).slice(2)}}}`;\n\n/**\n * An expression marker used text-positions, multi-binding attributes, and\n * attributes with markup-like text values.\n */\nexport const nodeMarker = `<!--${marker}-->`;\n\nexport const markerRegex = new RegExp(`${marker}|${nodeMarker}`);\n\n/**\n * Suffix appended to all bound attribute names.\n */\nexport const boundAttributeSuffix = '$lit$';\n\n/**\n * An updatable Template that tracks the location of dynamic parts.\n */\nexport class Template {\n  readonly parts: TemplatePart[] = [];\n  readonly element: HTMLTemplateElement;\n\n  constructor(result: TemplateResult, element: HTMLTemplateElement) {\n    this.element = element;\n\n    const nodesToRemove: Node[] = [];\n    const stack: Node[] = [];\n    // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n    const walker = document.createTreeWalker(\n        element.content,\n        133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */,\n        null,\n        false);\n    // Keeps track of the last index associated with a part. We try to delete\n    // unnecessary nodes, but we never want to associate two different parts\n    // to the same index. They must have a constant node between.\n    let lastPartIndex = 0;\n    let index = -1;\n    let partIndex = 0;\n    const {strings, values: {length}} = result;\n    while (partIndex < length) {\n      const node = walker.nextNode() as Element | Comment | Text | null;\n      if (node === null) {\n        // We've exhausted the content inside a nested template element.\n        // Because we still have parts (the outer for-loop), we know:\n        // - There is a template in the stack\n        // - The walker will find a nextNode outside the template\n        walker.currentNode = stack.pop()!;\n        continue;\n      }\n      index++;\n\n      if (node.nodeType === 1 /* Node.ELEMENT_NODE */) {\n        if ((node as Element).hasAttributes()) {\n          const attributes = (node as Element).attributes;\n          const {length} = attributes;\n          // Per\n          // https://developer.mozilla.org/en-US/docs/Web/API/NamedNodeMap,\n          // attributes are not guaranteed to be returned in document order.\n          // In particular, Edge/IE can return them out of order, so we cannot\n          // assume a correspondence between part index and attribute index.\n          let count = 0;\n          for (let i = 0; i < length; i++) {\n            if (endsWith(attributes[i].name, boundAttributeSuffix)) {\n              count++;\n            }\n          }\n          while (count-- > 0) {\n            // Get the template literal section leading up to the first\n            // expression in this attribute\n            const stringForPart = strings[partIndex];\n            // Find the attribute name\n            const name = lastAttributeNameRegex.exec(stringForPart)![2];\n            // Find the corresponding attribute\n            // All bound attributes have had a suffix added in\n            // TemplateResult#getHTML to opt out of special attribute\n            // handling. To look up the attribute value we also need to add\n            // the suffix.\n            const attributeLookupName =\n                name.toLowerCase() + boundAttributeSuffix;\n            const attributeValue =\n                (node as Element).getAttribute(attributeLookupName)!;\n            (node as Element).removeAttribute(attributeLookupName);\n            const statics = attributeValue.split(markerRegex);\n            this.parts.push({type: 'attribute', index, name, strings: statics});\n            partIndex += statics.length - 1;\n          }\n        }\n        if ((node as Element).tagName === 'TEMPLATE') {\n          stack.push(node);\n          walker.currentNode = (node as HTMLTemplateElement).content;\n        }\n      } else if (node.nodeType === 3 /* Node.TEXT_NODE */) {\n        const data = (node as Text).data;\n        if (data.indexOf(marker) >= 0) {\n          const parent = node.parentNode!;\n          const strings = data.split(markerRegex);\n          const lastIndex = strings.length - 1;\n          // Generate a new text node for each literal section\n          // These nodes are also used as the markers for node parts\n          for (let i = 0; i < lastIndex; i++) {\n            let insert: Node;\n            let s = strings[i];\n            if (s === '') {\n              insert = createMarker();\n            } else {\n              const match = lastAttributeNameRegex.exec(s);\n              if (match !== null && endsWith(match[2], boundAttributeSuffix)) {\n                s = s.slice(0, match.index) + match[1] +\n                    match[2].slice(0, -boundAttributeSuffix.length) + match[3];\n              }\n              insert = document.createTextNode(s);\n            }\n            parent.insertBefore(insert, node);\n            this.parts.push({type: 'node', index: ++index});\n          }\n          // If there's no text, we must insert a comment to mark our place.\n          // Else, we can trust it will stick around after cloning.\n          if (strings[lastIndex] === '') {\n            parent.insertBefore(createMarker(), node);\n            nodesToRemove.push(node);\n          } else {\n            (node as Text).data = strings[lastIndex];\n          }\n          // We have a part for each match found\n          partIndex += lastIndex;\n        }\n      } else if (node.nodeType === 8 /* Node.COMMENT_NODE */) {\n        if ((node as Comment).data === marker) {\n          const parent = node.parentNode!;\n          // Add a new marker node to be the startNode of the Part if any of\n          // the following are true:\n          //  * We don't have a previousSibling\n          //  * The previousSibling is already the start of a previous part\n          if (node.previousSibling === null || index === lastPartIndex) {\n            index++;\n            parent.insertBefore(createMarker(), node);\n          }\n          lastPartIndex = index;\n          this.parts.push({type: 'node', index});\n          // If we don't have a nextSibling, keep this node so we have an end.\n          // Else, we can remove it to save future costs.\n          if (node.nextSibling === null) {\n            (node as Comment).data = '';\n          } else {\n            nodesToRemove.push(node);\n            index--;\n          }\n          partIndex++;\n        } else {\n          let i = -1;\n          while ((i = (node as Comment).data.indexOf(marker, i + 1)) !== -1) {\n            // Comment node has a binding marker inside, make an inactive part\n            // The binding won't work, but subsequent bindings will\n            // TODO (justinfagnani): consider whether it's even worth it to\n            // make bindings in comments work\n            this.parts.push({type: 'node', index: -1});\n            partIndex++;\n          }\n        }\n      }\n    }\n\n    // Remove text binding nodes after the walk to not disturb the TreeWalker\n    for (const n of nodesToRemove) {\n      n.parentNode!.removeChild(n);\n    }\n  }\n}\n\nconst endsWith = (str: string, suffix: string): boolean => {\n  const index = str.length - suffix.length;\n  return index >= 0 && str.slice(index) === suffix;\n};\n\n/**\n * A placeholder for a dynamic expression in an HTML template.\n *\n * There are two built-in part types: AttributePart and NodePart. NodeParts\n * always represent a single dynamic expression, while AttributeParts may\n * represent as many expressions are contained in the attribute.\n *\n * A Template's parts are mutable, so parts can be replaced or modified\n * (possibly to implement different template semantics). The contract is that\n * parts can only be replaced, not removed, added or reordered, and parts must\n * always consume the correct number of values in their `update()` method.\n *\n * TODO(justinfagnani): That requirement is a little fragile. A\n * TemplateInstance could instead be more careful about which values it gives\n * to Part.update().\n */\nexport type TemplatePart = {\n  readonly type: 'node'; index: number;\n}|{\n  readonly type: 'attribute';\n  index: number;\n  readonly name: string;\n  readonly strings: ReadonlyArray<string>;\n};\n\nexport const isTemplatePartActive = (part: TemplatePart) => part.index !== -1;\n\n// Allows `document.createComment('')` to be renamed for a\n// small manual size-savings.\nexport const createMarker = () => document.createComment('');\n\n/**\n * This regex extracts the attribute name preceding an attribute-position\n * expression. It does this by matching the syntax allowed for attributes\n * against the string literal directly preceding the expression, assuming that\n * the expression is in an attribute-value position.\n *\n * See attributes in the HTML spec:\n * https://www.w3.org/TR/html5/syntax.html#elements-attributes\n *\n * \" \\x09\\x0a\\x0c\\x0d\" are HTML space characters:\n * https://www.w3.org/TR/html5/infrastructure.html#space-characters\n *\n * \"\\0-\\x1F\\x7F-\\x9F\" are Unicode control characters, which includes every\n * space character except \" \".\n *\n * So an attribute is:\n *  * The name: any character except a control character, space character, ('),\n *    (\"), \">\", \"=\", or \"/\"\n *  * Followed by zero or more space characters\n *  * Followed by \"=\"\n *  * Followed by zero or more space characters\n *  * Followed by:\n *    * Any character except space, ('), (\"), \"<\", \">\", \"=\", (`), or\n *    * (\") then any non-(\"), or\n *    * (') then any non-(')\n */\nexport const lastAttributeNameRegex =\n    // eslint-disable-next-line no-control-regex\n    /([ \\x09\\x0a\\x0c\\x0d])([^\\0-\\x1F\\x7F-\\x9F \"'>=/]+)([ \\x09\\x0a\\x0c\\x0d]*=[ \\x09\\x0a\\x0c\\x0d]*(?:[^ \\x09\\x0a\\x0c\\x0d\"'`<>=]*|\"[^\"]*|'[^']*))$/;\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {isCEPolyfill} from './dom.js';\nimport {Part} from './part.js';\nimport {RenderOptions} from './render-options.js';\nimport {TemplateProcessor} from './template-processor.js';\nimport {isTemplatePartActive, Template, TemplatePart} from './template.js';\n\n/**\n * An instance of a `Template` that can be attached to the DOM and updated\n * with new values.\n */\nexport class TemplateInstance {\n  private readonly __parts: Array<Part|undefined> = [];\n  readonly processor: TemplateProcessor;\n  readonly options: RenderOptions;\n  readonly template: Template;\n\n  constructor(\n      template: Template, processor: TemplateProcessor,\n      options: RenderOptions) {\n    this.template = template;\n    this.processor = processor;\n    this.options = options;\n  }\n\n  update(values: readonly unknown[]) {\n    let i = 0;\n    for (const part of this.__parts) {\n      if (part !== undefined) {\n        part.setValue(values[i]);\n      }\n      i++;\n    }\n    for (const part of this.__parts) {\n      if (part !== undefined) {\n        part.commit();\n      }\n    }\n  }\n\n  _clone(): DocumentFragment {\n    // There are a number of steps in the lifecycle of a template instance's\n    // DOM fragment:\n    //  1. Clone - create the instance fragment\n    //  2. Adopt - adopt into the main document\n    //  3. Process - find part markers and create parts\n    //  4. Upgrade - upgrade custom elements\n    //  5. Update - set node, attribute, property, etc., values\n    //  6. Connect - connect to the document. Optional and outside of this\n    //     method.\n    //\n    // We have a few constraints on the ordering of these steps:\n    //  * We need to upgrade before updating, so that property values will pass\n    //    through any property setters.\n    //  * We would like to process before upgrading so that we're sure that the\n    //    cloned fragment is inert and not disturbed by self-modifying DOM.\n    //  * We want custom elements to upgrade even in disconnected fragments.\n    //\n    // Given these constraints, with full custom elements support we would\n    // prefer the order: Clone, Process, Adopt, Upgrade, Update, Connect\n    //\n    // But Safari does not implement CustomElementRegistry#upgrade, so we\n    // can not implement that order and still have upgrade-before-update and\n    // upgrade disconnected fragments. So we instead sacrifice the\n    // process-before-upgrade constraint, since in Custom Elements v1 elements\n    // must not modify their light DOM in the constructor. We still have issues\n    // when co-existing with CEv0 elements like Polymer 1, and with polyfills\n    // that don't strictly adhere to the no-modification rule because shadow\n    // DOM, which may be created in the constructor, is emulated by being placed\n    // in the light DOM.\n    //\n    // The resulting order is on native is: Clone, Adopt, Upgrade, Process,\n    // Update, Connect. document.importNode() performs Clone, Adopt, and Upgrade\n    // in one step.\n    //\n    // The Custom Elements v1 polyfill supports upgrade(), so the order when\n    // polyfilled is the more ideal: Clone, Process, Adopt, Upgrade, Update,\n    // Connect.\n\n    const fragment = isCEPolyfill ?\n        this.template.element.content.cloneNode(true) as DocumentFragment :\n        document.importNode(this.template.element.content, true);\n\n    const stack: Node[] = [];\n    const parts = this.template.parts;\n    // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n    const walker = document.createTreeWalker(\n        fragment,\n        133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */,\n        null,\n        false);\n    let partIndex = 0;\n    let nodeIndex = 0;\n    let part: TemplatePart;\n    let node = walker.nextNode();\n    // Loop through all the nodes and parts of a template\n    while (partIndex < parts.length) {\n      part = parts[partIndex];\n      if (!isTemplatePartActive(part)) {\n        this.__parts.push(undefined);\n        partIndex++;\n        continue;\n      }\n\n      // Progress the tree walker until we find our next part's node.\n      // Note that multiple parts may share the same node (attribute parts\n      // on a single element), so this loop may not run at all.\n      while (nodeIndex < part.index) {\n        nodeIndex++;\n        if (node!.nodeName === 'TEMPLATE') {\n          stack.push(node!);\n          walker.currentNode = (node as HTMLTemplateElement).content;\n        }\n        if ((node = walker.nextNode()) === null) {\n          // We've exhausted the content inside a nested template element.\n          // Because we still have parts (the outer for-loop), we know:\n          // - There is a template in the stack\n          // - The walker will find a nextNode outside the template\n          walker.currentNode = stack.pop()!;\n          node = walker.nextNode();\n        }\n      }\n\n      // We've arrived at our part's node.\n      if (part.type === 'node') {\n        const part = this.processor.handleTextExpression(this.options);\n        part.insertAfterNode(node!.previousSibling!);\n        this.__parts.push(part);\n      } else {\n        this.__parts.push(...this.processor.handleAttributeExpressions(\n            node as Element, part.name, part.strings, this.options));\n      }\n      partIndex++;\n    }\n\n    if (isCEPolyfill) {\n      document.adoptNode(fragment);\n      customElements.upgrade(fragment);\n    }\n    return fragment;\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {reparentNodes} from './dom.js';\nimport {TemplateProcessor} from './template-processor.js';\nimport {boundAttributeSuffix, lastAttributeNameRegex, marker, nodeMarker} from './template.js';\n\ndeclare const trustedTypes: typeof window.trustedTypes;\n/**\n * Our TrustedTypePolicy for HTML which is declared using the html template\n * tag function.\n *\n * That HTML is a developer-authored constant, and is parsed with innerHTML\n * before any untrusted expressions have been mixed in. Therefor it is\n * considered safe by construction.\n */\nconst policy = window.trustedTypes &&\n    trustedTypes!.createPolicy('lit-html', {createHTML: (s) => s});\n\nconst commentMarker = ` ${marker} `;\n\n/**\n * The return type of `html`, which holds a Template and the values from\n * interpolated expressions.\n */\nexport class TemplateResult {\n  readonly strings: TemplateStringsArray;\n  readonly values: readonly unknown[];\n  readonly type: string;\n  readonly processor: TemplateProcessor;\n\n  constructor(\n      strings: TemplateStringsArray, values: readonly unknown[], type: string,\n      processor: TemplateProcessor) {\n    this.strings = strings;\n    this.values = values;\n    this.type = type;\n    this.processor = processor;\n  }\n\n  /**\n   * Returns a string of HTML used to create a `<template>` element.\n   */\n  getHTML(): string {\n    const l = this.strings.length - 1;\n    let html = '';\n    let isCommentBinding = false;\n\n    for (let i = 0; i < l; i++) {\n      const s = this.strings[i];\n      // For each binding we want to determine the kind of marker to insert\n      // into the template source before it's parsed by the browser's HTML\n      // parser. The marker type is based on whether the expression is in an\n      // attribute, text, or comment position.\n      //   * For node-position bindings we insert a comment with the marker\n      //     sentinel as its text content, like <!--{{lit-guid}}-->.\n      //   * For attribute bindings we insert just the marker sentinel for the\n      //     first binding, so that we support unquoted attribute bindings.\n      //     Subsequent bindings can use a comment marker because multi-binding\n      //     attributes must be quoted.\n      //   * For comment bindings we insert just the marker sentinel so we don't\n      //     close the comment.\n      //\n      // The following code scans the template source, but is *not* an HTML\n      // parser. We don't need to track the tree structure of the HTML, only\n      // whether a binding is inside a comment, and if not, if it appears to be\n      // the first binding in an attribute.\n      const commentOpen = s.lastIndexOf('<!--');\n      // We're in comment position if we have a comment open with no following\n      // comment close. Because <-- can appear in an attribute value there can\n      // be false positives.\n      isCommentBinding = (commentOpen > -1 || isCommentBinding) &&\n          s.indexOf('-->', commentOpen + 1) === -1;\n      // Check to see if we have an attribute-like sequence preceding the\n      // expression. This can match \"name=value\" like structures in text,\n      // comments, and attribute values, so there can be false-positives.\n      const attributeMatch = lastAttributeNameRegex.exec(s);\n      if (attributeMatch === null) {\n        // We're only in this branch if we don't have a attribute-like\n        // preceding sequence. For comments, this guards against unusual\n        // attribute values like <div foo=\"<!--${'bar'}\">. Cases like\n        // <!-- foo=${'bar'}--> are handled correctly in the attribute branch\n        // below.\n        html += s + (isCommentBinding ? commentMarker : nodeMarker);\n      } else {\n        // For attributes we use just a marker sentinel, and also append a\n        // $lit$ suffix to the name to opt-out of attribute-specific parsing\n        // that IE and Edge do for style and certain SVG attributes.\n        html += s.substr(0, attributeMatch.index) + attributeMatch[1] +\n            attributeMatch[2] + boundAttributeSuffix + attributeMatch[3] +\n            marker;\n      }\n    }\n    html += this.strings[l];\n    return html;\n  }\n\n  getTemplateElement(): HTMLTemplateElement {\n    const template = document.createElement('template');\n    let value = this.getHTML();\n    if (policy !== undefined) {\n      // this is secure because `this.strings` is a TemplateStringsArray.\n      // TODO: validate this when\n      // https://github.com/tc39/proposal-array-is-template-object is\n      // implemented.\n      value = policy.createHTML(value) as unknown as string;\n    }\n    template.innerHTML = value;\n    return template;\n  }\n}\n\n/**\n * A TemplateResult for SVG fragments.\n *\n * This class wraps HTML in an `<svg>` tag in order to parse its contents in the\n * SVG namespace, then modifies the template to remove the `<svg>` tag so that\n * clones only container the original fragment.\n */\nexport class SVGTemplateResult extends TemplateResult {\n  getHTML(): string {\n    return `<svg>${super.getHTML()}</svg>`;\n  }\n\n  getTemplateElement(): HTMLTemplateElement {\n    const template = super.getTemplateElement();\n    const content = template.content;\n    const svgElement = content.firstChild!;\n    content.removeChild(svgElement);\n    reparentNodes(content, svgElement.firstChild);\n    return template;\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {isDirective} from './directive.js';\nimport {removeNodes} from './dom.js';\nimport {noChange, nothing, Part} from './part.js';\nimport {RenderOptions} from './render-options.js';\nimport {TemplateInstance} from './template-instance.js';\nimport {TemplateResult} from './template-result.js';\nimport {createMarker} from './template.js';\n\n// https://tc39.github.io/ecma262/#sec-typeof-operator\nexport type Primitive = null|undefined|boolean|number|string|symbol|bigint;\nexport const isPrimitive = (value: unknown): value is Primitive => {\n  return (\n      value === null ||\n      !(typeof value === 'object' || typeof value === 'function'));\n};\nexport const isIterable = (value: unknown): value is Iterable<unknown> => {\n  return Array.isArray(value) ||\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      !!(value && (value as any)[Symbol.iterator]);\n};\n\n/**\n * Writes attribute values to the DOM for a group of AttributeParts bound to a\n * single attribute. The value is only set once even if there are multiple parts\n * for an attribute.\n */\nexport class AttributeCommitter {\n  readonly element: Element;\n  readonly name: string;\n  readonly strings: ReadonlyArray<string>;\n  readonly parts: ReadonlyArray<AttributePart>;\n  dirty = true;\n\n  constructor(element: Element, name: string, strings: ReadonlyArray<string>) {\n    this.element = element;\n    this.name = name;\n    this.strings = strings;\n    this.parts = [];\n    for (let i = 0; i < strings.length - 1; i++) {\n      (this.parts as AttributePart[])[i] = this._createPart();\n    }\n  }\n\n  /**\n   * Creates a single part. Override this to create a differnt type of part.\n   */\n  protected _createPart(): AttributePart {\n    return new AttributePart(this);\n  }\n\n  protected _getValue(): unknown {\n    const strings = this.strings;\n    const l = strings.length - 1;\n    const parts = this.parts;\n\n    // If we're assigning an attribute via syntax like:\n    //    attr=\"${foo}\"  or  attr=${foo}\n    // but not\n    //    attr=\"${foo} ${bar}\" or attr=\"${foo} baz\"\n    // then we don't want to coerce the attribute value into one long\n    // string. Instead we want to just return the value itself directly,\n    // so that sanitizeDOMValue can get the actual value rather than\n    // String(value)\n    // The exception is if v is an array, in which case we do want to smash\n    // it together into a string without calling String() on the array.\n    //\n    // This also allows trusted values (when using TrustedTypes) being\n    // assigned to DOM sinks without being stringified in the process.\n    if (l === 1 && strings[0] === '' && strings[1] === '') {\n      const v = parts[0].value;\n      if (typeof v === 'symbol') {\n        return String(v);\n      }\n      if (typeof v === 'string' || !isIterable(v)) {\n        return v;\n      }\n    }\n    let text = '';\n\n    for (let i = 0; i < l; i++) {\n      text += strings[i];\n      const part = parts[i];\n      if (part !== undefined) {\n        const v = part.value;\n        if (isPrimitive(v) || !isIterable(v)) {\n          text += typeof v === 'string' ? v : String(v);\n        } else {\n          for (const t of v) {\n            text += typeof t === 'string' ? t : String(t);\n          }\n        }\n      }\n    }\n\n    text += strings[l];\n    return text;\n  }\n\n  commit(): void {\n    if (this.dirty) {\n      this.dirty = false;\n      this.element.setAttribute(this.name, this._getValue() as string);\n    }\n  }\n}\n\n/**\n * A Part that controls all or part of an attribute value.\n */\nexport class AttributePart implements Part {\n  readonly committer: AttributeCommitter;\n  value: unknown = undefined;\n\n  constructor(committer: AttributeCommitter) {\n    this.committer = committer;\n  }\n\n  setValue(value: unknown): void {\n    if (value !== noChange && (!isPrimitive(value) || value !== this.value)) {\n      this.value = value;\n      // If the value is a not a directive, dirty the committer so that it'll\n      // call setAttribute. If the value is a directive, it'll dirty the\n      // committer if it calls setValue().\n      if (!isDirective(value)) {\n        this.committer.dirty = true;\n      }\n    }\n  }\n\n  commit() {\n    while (isDirective(this.value)) {\n      const directive = this.value;\n      this.value = noChange;\n      directive(this);\n    }\n    if (this.value === noChange) {\n      return;\n    }\n    this.committer.commit();\n  }\n}\n\n/**\n * A Part that controls a location within a Node tree. Like a Range, NodePart\n * has start and end locations and can set and update the Nodes between those\n * locations.\n *\n * NodeParts support several value types: primitives, Nodes, TemplateResults,\n * as well as arrays and iterables of those types.\n */\nexport class NodePart implements Part {\n  readonly options: RenderOptions;\n  startNode!: Node;\n  endNode!: Node;\n  value: unknown = undefined;\n  private __pendingValue: unknown = undefined;\n\n  constructor(options: RenderOptions) {\n    this.options = options;\n  }\n\n  /**\n   * Appends this part into a container.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  appendInto(container: Node) {\n    this.startNode = container.appendChild(createMarker());\n    this.endNode = container.appendChild(createMarker());\n  }\n\n  /**\n   * Inserts this part after the `ref` node (between `ref` and `ref`'s next\n   * sibling). Both `ref` and its next sibling must be static, unchanging nodes\n   * such as those that appear in a literal section of a template.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  insertAfterNode(ref: Node) {\n    this.startNode = ref;\n    this.endNode = ref.nextSibling!;\n  }\n\n  /**\n   * Appends this part into a parent part.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  appendIntoPart(part: NodePart) {\n    part.__insert(this.startNode = createMarker());\n    part.__insert(this.endNode = createMarker());\n  }\n\n  /**\n   * Inserts this part after the `ref` part.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  insertAfterPart(ref: NodePart) {\n    ref.__insert(this.startNode = createMarker());\n    this.endNode = ref.endNode;\n    ref.endNode = this.startNode;\n  }\n\n  setValue(value: unknown): void {\n    this.__pendingValue = value;\n  }\n\n  commit() {\n    if (this.startNode.parentNode === null) {\n      return;\n    }\n    while (isDirective(this.__pendingValue)) {\n      const directive = this.__pendingValue;\n      this.__pendingValue = noChange;\n      directive(this);\n    }\n    const value = this.__pendingValue;\n    if (value === noChange) {\n      return;\n    }\n    if (isPrimitive(value)) {\n      if (value !== this.value) {\n        this.__commitText(value);\n      }\n    } else if (value instanceof TemplateResult) {\n      this.__commitTemplateResult(value);\n    } else if (value instanceof Node) {\n      this.__commitNode(value);\n    } else if (isIterable(value)) {\n      this.__commitIterable(value);\n    } else if (value === nothing) {\n      this.value = nothing;\n      this.clear();\n    } else {\n      // Fallback, will render the string representation\n      this.__commitText(value);\n    }\n  }\n\n  private __insert(node: Node) {\n    this.endNode.parentNode!.insertBefore(node, this.endNode);\n  }\n\n  private __commitNode(value: Node): void {\n    if (this.value === value) {\n      return;\n    }\n    this.clear();\n    this.__insert(value);\n    this.value = value;\n  }\n\n  private __commitText(value: unknown): void {\n    const node = this.startNode.nextSibling!;\n    value = value == null ? '' : value;\n    // If `value` isn't already a string, we explicitly convert it here in case\n    // it can't be implicitly converted - i.e. it's a symbol.\n    const valueAsString: string =\n        typeof value === 'string' ? value : String(value);\n    if (node === this.endNode.previousSibling &&\n        node.nodeType === 3 /* Node.TEXT_NODE */) {\n      // If we only have a single text node between the markers, we can just\n      // set its value, rather than replacing it.\n      // TODO(justinfagnani): Can we just check if this.value is primitive?\n      (node as Text).data = valueAsString;\n    } else {\n      this.__commitNode(document.createTextNode(valueAsString));\n    }\n    this.value = value;\n  }\n\n  private __commitTemplateResult(value: TemplateResult): void {\n    const template = this.options.templateFactory(value);\n    if (this.value instanceof TemplateInstance &&\n        this.value.template === template) {\n      this.value.update(value.values);\n    } else {\n      // Make sure we propagate the template processor from the TemplateResult\n      // so that we use its syntax extension, etc. The template factory comes\n      // from the render function options so that it can control template\n      // caching and preprocessing.\n      const instance =\n          new TemplateInstance(template, value.processor, this.options);\n      const fragment = instance._clone();\n      instance.update(value.values);\n      this.__commitNode(fragment);\n      this.value = instance;\n    }\n  }\n\n  private __commitIterable(value: Iterable<unknown>): void {\n    // For an Iterable, we create a new InstancePart per item, then set its\n    // value to the item. This is a little bit of overhead for every item in\n    // an Iterable, but it lets us recurse easily and efficiently update Arrays\n    // of TemplateResults that will be commonly returned from expressions like:\n    // array.map((i) => html`${i}`), by reusing existing TemplateInstances.\n\n    // If _value is an array, then the previous render was of an\n    // iterable and _value will contain the NodeParts from the previous\n    // render. If _value is not an array, clear this part and make a new\n    // array for NodeParts.\n    if (!Array.isArray(this.value)) {\n      this.value = [];\n      this.clear();\n    }\n\n    // Lets us keep track of how many items we stamped so we can clear leftover\n    // items from a previous render\n    const itemParts = this.value as NodePart[];\n    let partIndex = 0;\n    let itemPart: NodePart|undefined;\n\n    for (const item of value) {\n      // Try to reuse an existing part\n      itemPart = itemParts[partIndex];\n\n      // If no existing part, create a new one\n      if (itemPart === undefined) {\n        itemPart = new NodePart(this.options);\n        itemParts.push(itemPart);\n        if (partIndex === 0) {\n          itemPart.appendIntoPart(this);\n        } else {\n          itemPart.insertAfterPart(itemParts[partIndex - 1]);\n        }\n      }\n      itemPart.setValue(item);\n      itemPart.commit();\n      partIndex++;\n    }\n\n    if (partIndex < itemParts.length) {\n      // Truncate the parts array so _value reflects the current state\n      itemParts.length = partIndex;\n      this.clear(itemPart && itemPart.endNode);\n    }\n  }\n\n  clear(startNode: Node = this.startNode) {\n    removeNodes(\n        this.startNode.parentNode!, startNode.nextSibling!, this.endNode);\n  }\n}\n\n/**\n * Implements a boolean attribute, roughly as defined in the HTML\n * specification.\n *\n * If the value is truthy, then the attribute is present with a value of\n * ''. If the value is falsey, the attribute is removed.\n */\nexport class BooleanAttributePart implements Part {\n  readonly element: Element;\n  readonly name: string;\n  readonly strings: readonly string[];\n  value: unknown = undefined;\n  private __pendingValue: unknown = undefined;\n\n  constructor(element: Element, name: string, strings: readonly string[]) {\n    if (strings.length !== 2 || strings[0] !== '' || strings[1] !== '') {\n      throw new Error(\n          'Boolean attributes can only contain a single expression');\n    }\n    this.element = element;\n    this.name = name;\n    this.strings = strings;\n  }\n\n  setValue(value: unknown): void {\n    this.__pendingValue = value;\n  }\n\n  commit() {\n    while (isDirective(this.__pendingValue)) {\n      const directive = this.__pendingValue;\n      this.__pendingValue = noChange;\n      directive(this);\n    }\n    if (this.__pendingValue === noChange) {\n      return;\n    }\n    const value = !!this.__pendingValue;\n    if (this.value !== value) {\n      if (value) {\n        this.element.setAttribute(this.name, '');\n      } else {\n        this.element.removeAttribute(this.name);\n      }\n      this.value = value;\n    }\n    this.__pendingValue = noChange;\n  }\n}\n\n/**\n * Sets attribute values for PropertyParts, so that the value is only set once\n * even if there are multiple parts for a property.\n *\n * If an expression controls the whole property value, then the value is simply\n * assigned to the property under control. If there are string literals or\n * multiple expressions, then the strings are expressions are interpolated into\n * a string first.\n */\nexport class PropertyCommitter extends AttributeCommitter {\n  readonly single: boolean;\n\n  constructor(element: Element, name: string, strings: ReadonlyArray<string>) {\n    super(element, name, strings);\n    this.single =\n        (strings.length === 2 && strings[0] === '' && strings[1] === '');\n  }\n\n  protected _createPart(): PropertyPart {\n    return new PropertyPart(this);\n  }\n\n  protected _getValue() {\n    if (this.single) {\n      return this.parts[0].value;\n    }\n    return super._getValue();\n  }\n\n  commit(): void {\n    if (this.dirty) {\n      this.dirty = false;\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      (this.element as any)[this.name] = this._getValue();\n    }\n  }\n}\n\nexport class PropertyPart extends AttributePart {}\n\n// Detect event listener options support. If the `capture` property is read\n// from the options object, then options are supported. If not, then the third\n// argument to add/removeEventListener is interpreted as the boolean capture\n// value so we should only pass the `capture` property.\nlet eventOptionsSupported = false;\n\n// Wrap into an IIFE because MS Edge <= v41 does not support having try/catch\n// blocks right into the body of a module\n(() => {\n  try {\n    const options = {\n      get capture() {\n        eventOptionsSupported = true;\n        return false;\n      }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    window.addEventListener('test', options as any, options);\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    window.removeEventListener('test', options as any, options);\n  } catch (_e) {\n    // event options not supported\n  }\n})();\n\ntype EventHandlerWithOptions =\n    EventListenerOrEventListenerObject&Partial<AddEventListenerOptions>;\nexport class EventPart implements Part {\n  readonly element: Element;\n  readonly eventName: string;\n  readonly eventContext?: EventTarget;\n  value: undefined|EventHandlerWithOptions = undefined;\n  private __options?: AddEventListenerOptions;\n  private __pendingValue: undefined|EventHandlerWithOptions = undefined;\n  private readonly __boundHandleEvent: (event: Event) => void;\n\n  constructor(element: Element, eventName: string, eventContext?: EventTarget) {\n    this.element = element;\n    this.eventName = eventName;\n    this.eventContext = eventContext;\n    this.__boundHandleEvent = (e) => this.handleEvent(e);\n  }\n\n  setValue(value: undefined|EventHandlerWithOptions): void {\n    this.__pendingValue = value;\n  }\n\n  commit() {\n    while (isDirective(this.__pendingValue)) {\n      const directive = this.__pendingValue;\n      this.__pendingValue = noChange as EventHandlerWithOptions;\n      directive(this);\n    }\n    if (this.__pendingValue === noChange) {\n      return;\n    }\n\n    const newListener = this.__pendingValue;\n    const oldListener = this.value;\n    const shouldRemoveListener = newListener == null ||\n        oldListener != null &&\n            (newListener.capture !== oldListener.capture ||\n             newListener.once !== oldListener.once ||\n             newListener.passive !== oldListener.passive);\n    const shouldAddListener =\n        newListener != null && (oldListener == null || shouldRemoveListener);\n\n    if (shouldRemoveListener) {\n      this.element.removeEventListener(\n          this.eventName, this.__boundHandleEvent, this.__options);\n    }\n    if (shouldAddListener) {\n      this.__options = getOptions(newListener);\n      this.element.addEventListener(\n          this.eventName, this.__boundHandleEvent, this.__options);\n    }\n    this.value = newListener;\n    this.__pendingValue = noChange as EventHandlerWithOptions;\n  }\n\n  handleEvent(event: Event) {\n    if (typeof this.value === 'function') {\n      this.value.call(this.eventContext || this.element, event);\n    } else {\n      (this.value as EventListenerObject).handleEvent(event);\n    }\n  }\n}\n\n// We copy options because of the inconsistent behavior of browsers when reading\n// the third argument of add/removeEventListener. IE11 doesn't support options\n// at all. Chrome 41 only reads `capture` if the argument is an object.\nconst getOptions = (o: AddEventListenerOptions|undefined) => o &&\n    (eventOptionsSupported ?\n         {capture: o.capture, passive: o.passive, once: o.once} :\n         o.capture as AddEventListenerOptions);\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {Part} from './part.js';\nimport {AttributeCommitter, BooleanAttributePart, EventPart, NodePart, PropertyCommitter} from './parts.js';\nimport {RenderOptions} from './render-options.js';\nimport {TemplateProcessor} from './template-processor.js';\n\n/**\n * Creates Parts when a template is instantiated.\n */\nexport class DefaultTemplateProcessor implements TemplateProcessor {\n  /**\n   * Create parts for an attribute-position binding, given the event, attribute\n   * name, and string literals.\n   *\n   * @param element The element containing the binding\n   * @param name  The attribute name\n   * @param strings The string literals. There are always at least two strings,\n   *   event for fully-controlled bindings with a single expression.\n   */\n  handleAttributeExpressions(\n      element: Element, name: string, strings: string[],\n      options: RenderOptions): ReadonlyArray<Part> {\n    const prefix = name[0];\n    if (prefix === '.') {\n      const committer = new PropertyCommitter(element, name.slice(1), strings);\n      return committer.parts;\n    }\n    if (prefix === '@') {\n      return [new EventPart(element, name.slice(1), options.eventContext)];\n    }\n    if (prefix === '?') {\n      return [new BooleanAttributePart(element, name.slice(1), strings)];\n    }\n    const committer = new AttributeCommitter(element, name, strings);\n    return committer.parts;\n  }\n  /**\n   * Create parts for a text-position binding.\n   * @param templateFactory\n   */\n  handleTextExpression(options: RenderOptions) {\n    return new NodePart(options);\n  }\n}\n\nexport const defaultTemplateProcessor = new DefaultTemplateProcessor();\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {TemplateResult} from './template-result.js';\nimport {marker, Template} from './template.js';\n\n/**\n * A function type that creates a Template from a TemplateResult.\n *\n * This is a hook into the template-creation process for rendering that\n * requires some modification of templates before they're used, like ShadyCSS,\n * which must add classes to elements and remove styles.\n *\n * Templates should be cached as aggressively as possible, so that many\n * TemplateResults produced from the same expression only do the work of\n * creating the Template the first time.\n *\n * Templates are usually cached by TemplateResult.strings and\n * TemplateResult.type, but may be cached by other keys if this function\n * modifies the template.\n *\n * Note that currently TemplateFactories must not add, remove, or reorder\n * expressions, because there is no way to describe such a modification\n * to render() so that values are interpolated to the correct place in the\n * template instances.\n */\nexport type TemplateFactory = (result: TemplateResult) => Template;\n\n/**\n * The default TemplateFactory which caches Templates keyed on\n * result.type and result.strings.\n */\nexport function templateFactory(result: TemplateResult) {\n  let templateCache = templateCaches.get(result.type);\n  if (templateCache === undefined) {\n    templateCache = {\n      stringsArray: new WeakMap<TemplateStringsArray, Template>(),\n      keyString: new Map<string, Template>()\n    };\n    templateCaches.set(result.type, templateCache);\n  }\n\n  let template = templateCache.stringsArray.get(result.strings);\n  if (template !== undefined) {\n    return template;\n  }\n\n  // If the TemplateStringsArray is new, generate a key from the strings\n  // This key is shared between all templates with identical content\n  const key = result.strings.join(marker);\n\n  // Check if we already have a Template for this key\n  template = templateCache.keyString.get(key);\n  if (template === undefined) {\n    // If we have not seen this key before, create a new Template\n    template = new Template(result, result.getTemplateElement());\n    // Cache the Template for this key\n    templateCache.keyString.set(key, template);\n  }\n\n  // Cache all future queries for this TemplateStringsArray\n  templateCache.stringsArray.set(result.strings, template);\n  return template;\n}\n\n/**\n * The first argument to JS template tags retain identity across multiple\n * calls to a tag for the same literal, so we can cache work done per literal\n * in a Map.\n *\n * Safari currently has a bug which occasionally breaks this behavior, so we\n * need to cache the Template at two levels. We first cache the\n * TemplateStringsArray, and if that fails, we cache a key constructed by\n * joining the strings array.\n */\nexport interface TemplateCache {\n  readonly stringsArray: WeakMap<TemplateStringsArray, Template>;\n  readonly keyString: Map<string, Template>;\n}\n\nexport const templateCaches = new Map<string, TemplateCache>();\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {removeNodes} from './dom.js';\nimport {NodePart} from './parts.js';\nimport {RenderOptions} from './render-options.js';\nimport {templateFactory} from './template-factory.js';\n\nexport const parts = new WeakMap<Node, NodePart>();\n\n/**\n * Renders a template result or other value to a container.\n *\n * To update a container with new values, reevaluate the template literal and\n * call `render` with the new result.\n *\n * @param result Any value renderable by NodePart - typically a TemplateResult\n *     created by evaluating a template tag like `html` or `svg`.\n * @param container A DOM parent to render to. The entire contents are either\n *     replaced, or efficiently updated if the same result type was previous\n *     rendered there.\n * @param options RenderOptions for the entire render tree rendered to this\n *     container. Render options must *not* change between renders to the same\n *     container, as those changes will not effect previously rendered DOM.\n */\nexport const render =\n    (result: unknown,\n     container: Element|DocumentFragment,\n     options?: Partial<RenderOptions>) => {\n      let part = parts.get(container);\n      if (part === undefined) {\n        removeNodes(container, container.firstChild);\n        parts.set(container, part = new NodePart({\n                               templateFactory,\n                               ...options,\n                             }));\n        part.appendInto(container);\n      }\n      part.setValue(result);\n      part.commit();\n    };\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n *\n * Main lit-html module.\n *\n * Main exports:\n *\n * -  [[html]]\n * -  [[svg]]\n * -  [[render]]\n *\n * @packageDocumentation\n */\n\n/**\n * Do not remove this comment; it keeps typedoc from misplacing the module\n * docs.\n */\nimport {defaultTemplateProcessor} from './lib/default-template-processor.js';\nimport {SVGTemplateResult, TemplateResult} from './lib/template-result.js';\n\nexport {DefaultTemplateProcessor, defaultTemplateProcessor} from './lib/default-template-processor.js';\nexport {directive, DirectiveFn, isDirective} from './lib/directive.js';\n// TODO(justinfagnani): remove line when we get NodePart moving methods\nexport {removeNodes, reparentNodes} from './lib/dom.js';\nexport {noChange, nothing, Part} from './lib/part.js';\nexport {AttributeCommitter, AttributePart, BooleanAttributePart, EventPart, isIterable, isPrimitive, NodePart, PropertyCommitter, PropertyPart} from './lib/parts.js';\nexport {RenderOptions} from './lib/render-options.js';\nexport {parts, render} from './lib/render.js';\nexport {templateCaches, templateFactory} from './lib/template-factory.js';\nexport {TemplateInstance} from './lib/template-instance.js';\nexport {TemplateProcessor} from './lib/template-processor.js';\nexport {SVGTemplateResult, TemplateResult} from './lib/template-result.js';\nexport {createMarker, isTemplatePartActive, Template} from './lib/template.js';\n\ndeclare global {\n  interface Window {\n    litHtmlVersions: string[];\n  }\n}\n\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for lit-html usage.\n// TODO(justinfagnani): inject version number at build time\nif (typeof window !== 'undefined') {\n  (window['litHtmlVersions'] || (window['litHtmlVersions'] = [])).push('1.3.0');\n}\n\n/**\n * Interprets a template literal as an HTML template that can efficiently\n * render to and update a container.\n */\nexport const html = (strings: TemplateStringsArray, ...values: unknown[]) =>\n    new TemplateResult(strings, values, 'html', defaultTemplateProcessor);\n\n/**\n * Interprets a template literal as an SVG template that can efficiently\n * render to and update a container.\n */\nexport const svg = (strings: TemplateStringsArray, ...values: unknown[]) =>\n    new SVGTemplateResult(strings, values, 'svg', defaultTemplateProcessor);\n","import {html } from 'lit-html'\n\nconst splash = html`\n\n  <div class=\"app-splash\">\n    <div class=\"inner\">\n      <img class=\"app-logo\" src=\"/images/logo.svg\" />\n      <sl-spinner style=\"font-size: 2em;\"></sl-spinner>\n    </div>\n  </div>\n`\nexport default splash","function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\n/*!\n * GSAP 3.6.0\n * https://greensock.com\n *\n * @license Copyright 2008-2021, GreenSock. All rights reserved.\n * Subject to the terms at https://greensock.com/standard-license or for\n * Club GreenSock members, the agreement issued with that membership.\n * @author: Jack Doyle, jack@greensock.com\n*/\n\n/* eslint-disable */\nvar _config = {\n  autoSleep: 120,\n  force3D: \"auto\",\n  nullTargetWarn: 1,\n  units: {\n    lineHeight: \"\"\n  }\n},\n    _defaults = {\n  duration: .5,\n  overwrite: false,\n  delay: 0\n},\n    _suppressOverwrites,\n    _bigNum = 1e8,\n    _tinyNum = 1 / _bigNum,\n    _2PI = Math.PI * 2,\n    _HALF_PI = _2PI / 4,\n    _gsID = 0,\n    _sqrt = Math.sqrt,\n    _cos = Math.cos,\n    _sin = Math.sin,\n    _isString = function _isString(value) {\n  return typeof value === \"string\";\n},\n    _isFunction = function _isFunction(value) {\n  return typeof value === \"function\";\n},\n    _isNumber = function _isNumber(value) {\n  return typeof value === \"number\";\n},\n    _isUndefined = function _isUndefined(value) {\n  return typeof value === \"undefined\";\n},\n    _isObject = function _isObject(value) {\n  return typeof value === \"object\";\n},\n    _isNotFalse = function _isNotFalse(value) {\n  return value !== false;\n},\n    _windowExists = function _windowExists() {\n  return typeof window !== \"undefined\";\n},\n    _isFuncOrString = function _isFuncOrString(value) {\n  return _isFunction(value) || _isString(value);\n},\n    _isTypedArray = typeof ArrayBuffer === \"function\" && ArrayBuffer.isView || function () {},\n    // note: IE10 has ArrayBuffer, but NOT ArrayBuffer.isView().\n_isArray = Array.isArray,\n    _strictNumExp = /(?:-?\\.?\\d|\\.)+/gi,\n    //only numbers (including negatives and decimals) but NOT relative values.\n_numExp = /[-+=.]*\\d+[.e\\-+]*\\d*[e\\-+]*\\d*/g,\n    //finds any numbers, including ones that start with += or -=, negative numbers, and ones in scientific notation like 1e-8.\n_numWithUnitExp = /[-+=.]*\\d+[.e-]*\\d*[a-z%]*/g,\n    _complexStringNumExp = /[-+=.]*\\d+\\.?\\d*(?:e-|e\\+)?\\d*/gi,\n    //duplicate so that while we're looping through matches from exec(), it doesn't contaminate the lastIndex of _numExp which we use to search for colors too.\n_relExp = /[+-]=-?[.\\d]+/,\n    _delimitedValueExp = /[#\\-+.]*\\b[a-z\\d-=+%.]+/gi,\n    _unitExp = /[\\d.+\\-=]+(?:e[-+]\\d*)*/i,\n    _globalTimeline,\n    _win,\n    _coreInitted,\n    _doc,\n    _globals = {},\n    _installScope = {},\n    _coreReady,\n    _install = function _install(scope) {\n  return (_installScope = _merge(scope, _globals)) && gsap;\n},\n    _missingPlugin = function _missingPlugin(property, value) {\n  return console.warn(\"Invalid property\", property, \"set to\", value, \"Missing plugin? gsap.registerPlugin()\");\n},\n    _warn = function _warn(message, suppress) {\n  return !suppress && console.warn(message);\n},\n    _addGlobal = function _addGlobal(name, obj) {\n  return name && (_globals[name] = obj) && _installScope && (_installScope[name] = obj) || _globals;\n},\n    _emptyFunc = function _emptyFunc() {\n  return 0;\n},\n    _reservedProps = {},\n    _lazyTweens = [],\n    _lazyLookup = {},\n    _lastRenderedFrame,\n    _plugins = {},\n    _effects = {},\n    _nextGCFrame = 30,\n    _harnessPlugins = [],\n    _callbackNames = \"\",\n    _harness = function _harness(targets) {\n  var target = targets[0],\n      harnessPlugin,\n      i;\n  _isObject(target) || _isFunction(target) || (targets = [targets]);\n\n  if (!(harnessPlugin = (target._gsap || {}).harness)) {\n    // find the first target with a harness. We assume targets passed into an animation will be of similar type, meaning the same kind of harness can be used for them all (performance optimization)\n    i = _harnessPlugins.length;\n\n    while (i-- && !_harnessPlugins[i].targetTest(target)) {}\n\n    harnessPlugin = _harnessPlugins[i];\n  }\n\n  i = targets.length;\n\n  while (i--) {\n    targets[i] && (targets[i]._gsap || (targets[i]._gsap = new GSCache(targets[i], harnessPlugin))) || targets.splice(i, 1);\n  }\n\n  return targets;\n},\n    _getCache = function _getCache(target) {\n  return target._gsap || _harness(toArray(target))[0]._gsap;\n},\n    _getProperty = function _getProperty(target, property, v) {\n  return (v = target[property]) && _isFunction(v) ? target[property]() : _isUndefined(v) && target.getAttribute && target.getAttribute(property) || v;\n},\n    _forEachName = function _forEachName(names, func) {\n  return (names = names.split(\",\")).forEach(func) || names;\n},\n    //split a comma-delimited list of names into an array, then run a forEach() function and return the split array (this is just a way to consolidate/shorten some code).\n_round = function _round(value) {\n  return Math.round(value * 100000) / 100000 || 0;\n},\n    _arrayContainsAny = function _arrayContainsAny(toSearch, toFind) {\n  //searches one array to find matches for any of the items in the toFind array. As soon as one is found, it returns true. It does NOT return all the matches; it's simply a boolean search.\n  var l = toFind.length,\n      i = 0;\n\n  for (; toSearch.indexOf(toFind[i]) < 0 && ++i < l;) {}\n\n  return i < l;\n},\n    _parseVars = function _parseVars(params, type, parent) {\n  //reads the arguments passed to one of the key methods and figures out if the user is defining things with the OLD/legacy syntax where the duration is the 2nd parameter, and then it adjusts things accordingly and spits back the corrected vars object (with the duration added if necessary, as well as runBackwards or startAt or immediateRender). type 0 = to()/staggerTo(), 1 = from()/staggerFrom(), 2 = fromTo()/staggerFromTo()\n  var isLegacy = _isNumber(params[1]),\n      varsIndex = (isLegacy ? 2 : 1) + (type < 2 ? 0 : 1),\n      vars = params[varsIndex],\n      irVars;\n\n  isLegacy && (vars.duration = params[1]);\n  vars.parent = parent;\n\n  if (type) {\n    irVars = vars;\n\n    while (parent && !(\"immediateRender\" in irVars)) {\n      // inheritance hasn't happened yet, but someone may have set a default in an ancestor timeline. We could do vars.immediateRender = _isNotFalse(_inheritDefaults(vars).immediateRender) but that'd exact a slight performance penalty because _inheritDefaults() also runs in the Tween constructor. We're paying a small kb price here to gain speed.\n      irVars = parent.vars.defaults || {};\n      parent = _isNotFalse(parent.vars.inherit) && parent.parent;\n    }\n\n    vars.immediateRender = _isNotFalse(irVars.immediateRender);\n    type < 2 ? vars.runBackwards = 1 : vars.startAt = params[varsIndex - 1]; // \"from\" vars\n  }\n\n  return vars;\n},\n    _lazyRender = function _lazyRender() {\n  var l = _lazyTweens.length,\n      a = _lazyTweens.slice(0),\n      i,\n      tween;\n\n  _lazyLookup = {};\n  _lazyTweens.length = 0;\n\n  for (i = 0; i < l; i++) {\n    tween = a[i];\n    tween && tween._lazy && (tween.render(tween._lazy[0], tween._lazy[1], true)._lazy = 0);\n  }\n},\n    _lazySafeRender = function _lazySafeRender(animation, time, suppressEvents, force) {\n  _lazyTweens.length && _lazyRender();\n  animation.render(time, suppressEvents, force);\n  _lazyTweens.length && _lazyRender(); //in case rendering caused any tweens to lazy-init, we should render them because typically when someone calls seek() or time() or progress(), they expect an immediate render.\n},\n    _numericIfPossible = function _numericIfPossible(value) {\n  var n = parseFloat(value);\n  return (n || n === 0) && (value + \"\").match(_delimitedValueExp).length < 2 ? n : _isString(value) ? value.trim() : value;\n},\n    _passThrough = function _passThrough(p) {\n  return p;\n},\n    _setDefaults = function _setDefaults(obj, defaults) {\n  for (var p in defaults) {\n    p in obj || (obj[p] = defaults[p]);\n  }\n\n  return obj;\n},\n    _setKeyframeDefaults = function _setKeyframeDefaults(obj, defaults) {\n  for (var p in defaults) {\n    p in obj || p === \"duration\" || p === \"ease\" || (obj[p] = defaults[p]);\n  }\n},\n    _merge = function _merge(base, toMerge) {\n  for (var p in toMerge) {\n    base[p] = toMerge[p];\n  }\n\n  return base;\n},\n    _mergeDeep = function _mergeDeep(base, toMerge) {\n  for (var p in toMerge) {\n    p !== \"__proto__\" && p !== \"constructor\" && p !== \"prototype\" && (base[p] = _isObject(toMerge[p]) ? _mergeDeep(base[p] || (base[p] = {}), toMerge[p]) : toMerge[p]);\n  }\n\n  return base;\n},\n    _copyExcluding = function _copyExcluding(obj, excluding) {\n  var copy = {},\n      p;\n\n  for (p in obj) {\n    p in excluding || (copy[p] = obj[p]);\n  }\n\n  return copy;\n},\n    _inheritDefaults = function _inheritDefaults(vars) {\n  var parent = vars.parent || _globalTimeline,\n      func = vars.keyframes ? _setKeyframeDefaults : _setDefaults;\n\n  if (_isNotFalse(vars.inherit)) {\n    while (parent) {\n      func(vars, parent.vars.defaults);\n      parent = parent.parent || parent._dp;\n    }\n  }\n\n  return vars;\n},\n    _arraysMatch = function _arraysMatch(a1, a2) {\n  var i = a1.length,\n      match = i === a2.length;\n\n  while (match && i-- && a1[i] === a2[i]) {}\n\n  return i < 0;\n},\n    _addLinkedListItem = function _addLinkedListItem(parent, child, firstProp, lastProp, sortBy) {\n  if (firstProp === void 0) {\n    firstProp = \"_first\";\n  }\n\n  if (lastProp === void 0) {\n    lastProp = \"_last\";\n  }\n\n  var prev = parent[lastProp],\n      t;\n\n  if (sortBy) {\n    t = child[sortBy];\n\n    while (prev && prev[sortBy] > t) {\n      prev = prev._prev;\n    }\n  }\n\n  if (prev) {\n    child._next = prev._next;\n    prev._next = child;\n  } else {\n    child._next = parent[firstProp];\n    parent[firstProp] = child;\n  }\n\n  if (child._next) {\n    child._next._prev = child;\n  } else {\n    parent[lastProp] = child;\n  }\n\n  child._prev = prev;\n  child.parent = child._dp = parent;\n  return child;\n},\n    _removeLinkedListItem = function _removeLinkedListItem(parent, child, firstProp, lastProp) {\n  if (firstProp === void 0) {\n    firstProp = \"_first\";\n  }\n\n  if (lastProp === void 0) {\n    lastProp = \"_last\";\n  }\n\n  var prev = child._prev,\n      next = child._next;\n\n  if (prev) {\n    prev._next = next;\n  } else if (parent[firstProp] === child) {\n    parent[firstProp] = next;\n  }\n\n  if (next) {\n    next._prev = prev;\n  } else if (parent[lastProp] === child) {\n    parent[lastProp] = prev;\n  }\n\n  child._next = child._prev = child.parent = null; // don't delete the _dp just so we can revert if necessary. But parent should be null to indicate the item isn't in a linked list.\n},\n    _removeFromParent = function _removeFromParent(child, onlyIfParentHasAutoRemove) {\n  child.parent && (!onlyIfParentHasAutoRemove || child.parent.autoRemoveChildren) && child.parent.remove(child);\n  child._act = 0;\n},\n    _uncache = function _uncache(animation, child) {\n  if (animation && (!child || child._end > animation._dur || child._start < 0)) {\n    // performance optimization: if a child animation is passed in we should only uncache if that child EXTENDS the animation (its end time is beyond the end)\n    var a = animation;\n\n    while (a) {\n      a._dirty = 1;\n      a = a.parent;\n    }\n  }\n\n  return animation;\n},\n    _recacheAncestors = function _recacheAncestors(animation) {\n  var parent = animation.parent;\n\n  while (parent && parent.parent) {\n    //sometimes we must force a re-sort of all children and update the duration/totalDuration of all ancestor timelines immediately in case, for example, in the middle of a render loop, one tween alters another tween's timeScale which shoves its startTime before 0, forcing the parent timeline to shift around and shiftChildren() which could affect that next tween's render (startTime). Doesn't matter for the root timeline though.\n    parent._dirty = 1;\n    parent.totalDuration();\n    parent = parent.parent;\n  }\n\n  return animation;\n},\n    _hasNoPausedAncestors = function _hasNoPausedAncestors(animation) {\n  return !animation || animation._ts && _hasNoPausedAncestors(animation.parent);\n},\n    _elapsedCycleDuration = function _elapsedCycleDuration(animation) {\n  return animation._repeat ? _animationCycle(animation._tTime, animation = animation.duration() + animation._rDelay) * animation : 0;\n},\n    // feed in the totalTime and cycleDuration and it'll return the cycle (iteration minus 1) and if the playhead is exactly at the very END, it will NOT bump up to the next cycle.\n_animationCycle = function _animationCycle(tTime, cycleDuration) {\n  var whole = Math.floor(tTime /= cycleDuration);\n  return tTime && whole === tTime ? whole - 1 : whole;\n},\n    _parentToChildTotalTime = function _parentToChildTotalTime(parentTime, child) {\n  return (parentTime - child._start) * child._ts + (child._ts >= 0 ? 0 : child._dirty ? child.totalDuration() : child._tDur);\n},\n    _setEnd = function _setEnd(animation) {\n  return animation._end = _round(animation._start + (animation._tDur / Math.abs(animation._ts || animation._rts || _tinyNum) || 0));\n},\n    _alignPlayhead = function _alignPlayhead(animation, totalTime) {\n  // adjusts the animation's _start and _end according to the provided totalTime (only if the parent's smoothChildTiming is true and the animation isn't paused). It doesn't do any rendering or forcing things back into parent timelines, etc. - that's what totalTime() is for.\n  var parent = animation._dp;\n\n  if (parent && parent.smoothChildTiming && animation._ts) {\n    animation._start = _round(parent._time - (animation._ts > 0 ? totalTime / animation._ts : ((animation._dirty ? animation.totalDuration() : animation._tDur) - totalTime) / -animation._ts));\n\n    _setEnd(animation);\n\n    parent._dirty || _uncache(parent, animation); //for performance improvement. If the parent's cache is already dirty, it already took care of marking the ancestors as dirty too, so skip the function call here.\n  }\n\n  return animation;\n},\n\n/*\n_totalTimeToTime = (clampedTotalTime, duration, repeat, repeatDelay, yoyo) => {\n\tlet cycleDuration = duration + repeatDelay,\n\t\ttime = _round(clampedTotalTime % cycleDuration);\n\tif (time > duration) {\n\t\ttime = duration;\n\t}\n\treturn (yoyo && (~~(clampedTotalTime / cycleDuration) & 1)) ? duration - time : time;\n},\n*/\n_postAddChecks = function _postAddChecks(timeline, child) {\n  var t;\n\n  if (child._time || child._initted && !child._dur) {\n    //in case, for example, the _start is moved on a tween that has already rendered. Imagine it's at its end state, then the startTime is moved WAY later (after the end of this timeline), it should render at its beginning.\n    t = _parentToChildTotalTime(timeline.rawTime(), child);\n\n    if (!child._dur || _clamp(0, child.totalDuration(), t) - child._tTime > _tinyNum) {\n      child.render(t, true);\n    }\n  } //if the timeline has already ended but the inserted tween/timeline extends the duration, we should enable this timeline again so that it renders properly. We should also align the playhead with the parent timeline's when appropriate.\n\n\n  if (_uncache(timeline, child)._dp && timeline._initted && timeline._time >= timeline._dur && timeline._ts) {\n    //in case any of the ancestors had completed but should now be enabled...\n    if (timeline._dur < timeline.duration()) {\n      t = timeline;\n\n      while (t._dp) {\n        t.rawTime() >= 0 && t.totalTime(t._tTime); //moves the timeline (shifts its startTime) if necessary, and also enables it. If it's currently zero, though, it may not be scheduled to render until later so there's no need to force it to align with the current playhead position. Only move to catch up with the playhead.\n\n        t = t._dp;\n      }\n    }\n\n    timeline._zTime = -_tinyNum; // helps ensure that the next render() will be forced (crossingStart = true in render()), even if the duration hasn't changed (we're adding a child which would need to get rendered). Definitely an edge case. Note: we MUST do this AFTER the loop above where the totalTime() might trigger a render() because this _addToTimeline() method gets called from the Animation constructor, BEFORE tweens even record their targets, etc. so we wouldn't want things to get triggered in the wrong order.\n  }\n},\n    _addToTimeline = function _addToTimeline(timeline, child, position, skipChecks) {\n  child.parent && _removeFromParent(child);\n  child._start = _round(position + child._delay);\n  child._end = _round(child._start + (child.totalDuration() / Math.abs(child.timeScale()) || 0));\n\n  _addLinkedListItem(timeline, child, \"_first\", \"_last\", timeline._sort ? \"_start\" : 0);\n\n  timeline._recent = child;\n  skipChecks || _postAddChecks(timeline, child);\n  return timeline;\n},\n    _scrollTrigger = function _scrollTrigger(animation, trigger) {\n  return (_globals.ScrollTrigger || _missingPlugin(\"scrollTrigger\", trigger)) && _globals.ScrollTrigger.create(trigger, animation);\n},\n    _attemptInitTween = function _attemptInitTween(tween, totalTime, force, suppressEvents) {\n  _initTween(tween, totalTime);\n\n  if (!tween._initted) {\n    return 1;\n  }\n\n  if (!force && tween._pt && (tween._dur && tween.vars.lazy !== false || !tween._dur && tween.vars.lazy) && _lastRenderedFrame !== _ticker.frame) {\n    _lazyTweens.push(tween);\n\n    tween._lazy = [totalTime, suppressEvents];\n    return 1;\n  }\n},\n    _parentPlayheadIsBeforeStart = function _parentPlayheadIsBeforeStart(_ref) {\n  var parent = _ref.parent;\n  return parent && parent._ts && parent._initted && !parent._lock && (parent.rawTime() < 0 || _parentPlayheadIsBeforeStart(parent));\n},\n    // check parent's _lock because when a timeline repeats/yoyos and does its artificial wrapping, we shouldn't force the ratio back to 0\n_renderZeroDurationTween = function _renderZeroDurationTween(tween, totalTime, suppressEvents, force) {\n  var prevRatio = tween.ratio,\n      ratio = totalTime < 0 || !totalTime && (!tween._start && _parentPlayheadIsBeforeStart(tween) || (tween._ts < 0 || tween._dp._ts < 0) && tween.data !== \"isFromStart\" && tween.data !== \"isStart\") ? 0 : 1,\n      // if the tween or its parent is reversed and the totalTime is 0, we should go to a ratio of 0.\n  repeatDelay = tween._rDelay,\n      tTime = 0,\n      pt,\n      iteration,\n      prevIteration;\n\n  if (repeatDelay && tween._repeat) {\n    // in case there's a zero-duration tween that has a repeat with a repeatDelay\n    tTime = _clamp(0, tween._tDur, totalTime);\n    iteration = _animationCycle(tTime, repeatDelay);\n    prevIteration = _animationCycle(tween._tTime, repeatDelay);\n    tween._yoyo && iteration & 1 && (ratio = 1 - ratio);\n\n    if (iteration !== prevIteration) {\n      prevRatio = 1 - ratio;\n      tween.vars.repeatRefresh && tween._initted && tween.invalidate();\n    }\n  }\n\n  if (ratio !== prevRatio || force || tween._zTime === _tinyNum || !totalTime && tween._zTime) {\n    if (!tween._initted && _attemptInitTween(tween, totalTime, force, suppressEvents)) {\n      // if we render the very beginning (time == 0) of a fromTo(), we must force the render (normal tweens wouldn't need to render at a time of 0 when the prevTime was also 0). This is also mandatory to make sure overwriting kicks in immediately.\n      return;\n    }\n\n    prevIteration = tween._zTime;\n    tween._zTime = totalTime || (suppressEvents ? _tinyNum : 0); // when the playhead arrives at EXACTLY time 0 (right on top) of a zero-duration tween, we need to discern if events are suppressed so that when the playhead moves again (next time), it'll trigger the callback. If events are NOT suppressed, obviously the callback would be triggered in this render. Basically, the callback should fire either when the playhead ARRIVES or LEAVES this exact spot, not both. Imagine doing a timeline.seek(0) and there's a callback that sits at 0. Since events are suppressed on that seek() by default, nothing will fire, but when the playhead moves off of that position, the callback should fire. This behavior is what people intuitively expect.\n\n    suppressEvents || (suppressEvents = totalTime && !prevIteration); // if it was rendered previously at exactly 0 (_zTime) and now the playhead is moving away, DON'T fire callbacks otherwise they'll seem like duplicates.\n\n    tween.ratio = ratio;\n    tween._from && (ratio = 1 - ratio);\n    tween._time = 0;\n    tween._tTime = tTime;\n    suppressEvents || _callback(tween, \"onStart\");\n    pt = tween._pt;\n\n    while (pt) {\n      pt.r(ratio, pt.d);\n      pt = pt._next;\n    }\n\n    tween._startAt && totalTime < 0 && tween._startAt.render(totalTime, true, true);\n    tween._onUpdate && !suppressEvents && _callback(tween, \"onUpdate\");\n    tTime && tween._repeat && !suppressEvents && tween.parent && _callback(tween, \"onRepeat\");\n\n    if ((totalTime >= tween._tDur || totalTime < 0) && tween.ratio === ratio) {\n      ratio && _removeFromParent(tween, 1);\n\n      if (!suppressEvents) {\n        _callback(tween, ratio ? \"onComplete\" : \"onReverseComplete\", true);\n\n        tween._prom && tween._prom();\n      }\n    }\n  } else if (!tween._zTime) {\n    tween._zTime = totalTime;\n  }\n},\n    _findNextPauseTween = function _findNextPauseTween(animation, prevTime, time) {\n  var child;\n\n  if (time > prevTime) {\n    child = animation._first;\n\n    while (child && child._start <= time) {\n      if (!child._dur && child.data === \"isPause\" && child._start > prevTime) {\n        return child;\n      }\n\n      child = child._next;\n    }\n  } else {\n    child = animation._last;\n\n    while (child && child._start >= time) {\n      if (!child._dur && child.data === \"isPause\" && child._start < prevTime) {\n        return child;\n      }\n\n      child = child._prev;\n    }\n  }\n},\n    _setDuration = function _setDuration(animation, duration, skipUncache, leavePlayhead) {\n  var repeat = animation._repeat,\n      dur = _round(duration) || 0,\n      totalProgress = animation._tTime / animation._tDur;\n  totalProgress && !leavePlayhead && (animation._time *= dur / animation._dur);\n  animation._dur = dur;\n  animation._tDur = !repeat ? dur : repeat < 0 ? 1e10 : _round(dur * (repeat + 1) + animation._rDelay * repeat);\n  totalProgress && !leavePlayhead ? _alignPlayhead(animation, animation._tTime = animation._tDur * totalProgress) : animation.parent && _setEnd(animation);\n  skipUncache || _uncache(animation.parent, animation);\n  return animation;\n},\n    _onUpdateTotalDuration = function _onUpdateTotalDuration(animation) {\n  return animation instanceof Timeline ? _uncache(animation) : _setDuration(animation, animation._dur);\n},\n    _zeroPosition = {\n  _start: 0,\n  endTime: _emptyFunc\n},\n    _parsePosition = function _parsePosition(animation, position) {\n  var labels = animation.labels,\n      recent = animation._recent || _zeroPosition,\n      clippedDuration = animation.duration() >= _bigNum ? recent.endTime(false) : animation._dur,\n      //in case there's a child that infinitely repeats, users almost never intend for the insertion point of a new child to be based on a SUPER long value like that so we clip it and assume the most recently-added child's endTime should be used instead.\n  i,\n      offset;\n\n  if (_isString(position) && (isNaN(position) || position in labels)) {\n    //if the string is a number like \"1\", check to see if there's a label with that name, otherwise interpret it as a number (absolute value).\n    i = position.charAt(0);\n\n    if (i === \"<\" || i === \">\") {\n      return (i === \"<\" ? recent._start : recent.endTime(recent._repeat >= 0)) + (parseFloat(position.substr(1)) || 0);\n    }\n\n    i = position.indexOf(\"=\");\n\n    if (i < 0) {\n      position in labels || (labels[position] = clippedDuration);\n      return labels[position];\n    }\n\n    offset = +(position.charAt(i - 1) + position.substr(i + 1));\n    return i > 1 ? _parsePosition(animation, position.substr(0, i - 1)) + offset : clippedDuration + offset;\n  }\n\n  return position == null ? clippedDuration : +position;\n},\n    _conditionalReturn = function _conditionalReturn(value, func) {\n  return value || value === 0 ? func(value) : func;\n},\n    _clamp = function _clamp(min, max, value) {\n  return value < min ? min : value > max ? max : value;\n},\n    getUnit = function getUnit(value) {\n  if (typeof value !== \"string\") {\n    return \"\";\n  }\n\n  var v = _unitExp.exec(value);\n\n  return v ? value.substr(v.index + v[0].length) : \"\";\n},\n    // note: protect against padded numbers as strings, like \"100.100\". That shouldn't return \"00\" as the unit. If it's numeric, return no unit.\nclamp = function clamp(min, max, value) {\n  return _conditionalReturn(value, function (v) {\n    return _clamp(min, max, v);\n  });\n},\n    _slice = [].slice,\n    _isArrayLike = function _isArrayLike(value, nonEmpty) {\n  return value && _isObject(value) && \"length\" in value && (!nonEmpty && !value.length || value.length - 1 in value && _isObject(value[0])) && !value.nodeType && value !== _win;\n},\n    _flatten = function _flatten(ar, leaveStrings, accumulator) {\n  if (accumulator === void 0) {\n    accumulator = [];\n  }\n\n  return ar.forEach(function (value) {\n    var _accumulator;\n\n    return _isString(value) && !leaveStrings || _isArrayLike(value, 1) ? (_accumulator = accumulator).push.apply(_accumulator, toArray(value)) : accumulator.push(value);\n  }) || accumulator;\n},\n    //takes any value and returns an array. If it's a string (and leaveStrings isn't true), it'll use document.querySelectorAll() and convert that to an array. It'll also accept iterables like jQuery objects.\ntoArray = function toArray(value, leaveStrings) {\n  return _isString(value) && !leaveStrings && (_coreInitted || !_wake()) ? _slice.call(_doc.querySelectorAll(value), 0) : _isArray(value) ? _flatten(value, leaveStrings) : _isArrayLike(value) ? _slice.call(value, 0) : value ? [value] : [];\n},\n    shuffle = function shuffle(a) {\n  return a.sort(function () {\n    return .5 - Math.random();\n  });\n},\n    // alternative that's a bit faster and more reliably diverse but bigger:   for (let j, v, i = a.length; i; j = Math.floor(Math.random() * i), v = a[--i], a[i] = a[j], a[j] = v); return a;\n//for distributing values across an array. Can accept a number, a function or (most commonly) a function which can contain the following properties: {base, amount, from, ease, grid, axis, length, each}. Returns a function that expects the following parameters: index, target, array. Recognizes the following\ndistribute = function distribute(v) {\n  if (_isFunction(v)) {\n    return v;\n  }\n\n  var vars = _isObject(v) ? v : {\n    each: v\n  },\n      //n:1 is just to indicate v was a number; we leverage that later to set v according to the length we get. If a number is passed in, we treat it like the old stagger value where 0.1, for example, would mean that things would be distributed with 0.1 between each element in the array rather than a total \"amount\" that's chunked out among them all.\n  ease = _parseEase(vars.ease),\n      from = vars.from || 0,\n      base = parseFloat(vars.base) || 0,\n      cache = {},\n      isDecimal = from > 0 && from < 1,\n      ratios = isNaN(from) || isDecimal,\n      axis = vars.axis,\n      ratioX = from,\n      ratioY = from;\n\n  if (_isString(from)) {\n    ratioX = ratioY = {\n      center: .5,\n      edges: .5,\n      end: 1\n    }[from] || 0;\n  } else if (!isDecimal && ratios) {\n    ratioX = from[0];\n    ratioY = from[1];\n  }\n\n  return function (i, target, a) {\n    var l = (a || vars).length,\n        distances = cache[l],\n        originX,\n        originY,\n        x,\n        y,\n        d,\n        j,\n        max,\n        min,\n        wrapAt;\n\n    if (!distances) {\n      wrapAt = vars.grid === \"auto\" ? 0 : (vars.grid || [1, _bigNum])[1];\n\n      if (!wrapAt) {\n        max = -_bigNum;\n\n        while (max < (max = a[wrapAt++].getBoundingClientRect().left) && wrapAt < l) {}\n\n        wrapAt--;\n      }\n\n      distances = cache[l] = [];\n      originX = ratios ? Math.min(wrapAt, l) * ratioX - .5 : from % wrapAt;\n      originY = ratios ? l * ratioY / wrapAt - .5 : from / wrapAt | 0;\n      max = 0;\n      min = _bigNum;\n\n      for (j = 0; j < l; j++) {\n        x = j % wrapAt - originX;\n        y = originY - (j / wrapAt | 0);\n        distances[j] = d = !axis ? _sqrt(x * x + y * y) : Math.abs(axis === \"y\" ? y : x);\n        d > max && (max = d);\n        d < min && (min = d);\n      }\n\n      from === \"random\" && shuffle(distances);\n      distances.max = max - min;\n      distances.min = min;\n      distances.v = l = (parseFloat(vars.amount) || parseFloat(vars.each) * (wrapAt > l ? l - 1 : !axis ? Math.max(wrapAt, l / wrapAt) : axis === \"y\" ? l / wrapAt : wrapAt) || 0) * (from === \"edges\" ? -1 : 1);\n      distances.b = l < 0 ? base - l : base;\n      distances.u = getUnit(vars.amount || vars.each) || 0; //unit\n\n      ease = ease && l < 0 ? _invertEase(ease) : ease;\n    }\n\n    l = (distances[i] - distances.min) / distances.max || 0;\n    return _round(distances.b + (ease ? ease(l) : l) * distances.v) + distances.u; //round in order to work around floating point errors\n  };\n},\n    _roundModifier = function _roundModifier(v) {\n  //pass in 0.1 get a function that'll round to the nearest tenth, or 5 to round to the closest 5, or 0.001 to the closest 1000th, etc.\n  var p = v < 1 ? Math.pow(10, (v + \"\").length - 2) : 1; //to avoid floating point math errors (like 24 * 0.1 == 2.4000000000000004), we chop off at a specific number of decimal places (much faster than toFixed()\n\n  return function (raw) {\n    var n = Math.round(parseFloat(raw) / v) * v * p;\n    return (n - n % 1) / p + (_isNumber(raw) ? 0 : getUnit(raw)); // n - n % 1 replaces Math.floor() in order to handle negative values properly. For example, Math.floor(-150.00000000000003) is 151!\n  };\n},\n    snap = function snap(snapTo, value) {\n  var isArray = _isArray(snapTo),\n      radius,\n      is2D;\n\n  if (!isArray && _isObject(snapTo)) {\n    radius = isArray = snapTo.radius || _bigNum;\n\n    if (snapTo.values) {\n      snapTo = toArray(snapTo.values);\n\n      if (is2D = !_isNumber(snapTo[0])) {\n        radius *= radius; //performance optimization so we don't have to Math.sqrt() in the loop.\n      }\n    } else {\n      snapTo = _roundModifier(snapTo.increment);\n    }\n  }\n\n  return _conditionalReturn(value, !isArray ? _roundModifier(snapTo) : _isFunction(snapTo) ? function (raw) {\n    is2D = snapTo(raw);\n    return Math.abs(is2D - raw) <= radius ? is2D : raw;\n  } : function (raw) {\n    var x = parseFloat(is2D ? raw.x : raw),\n        y = parseFloat(is2D ? raw.y : 0),\n        min = _bigNum,\n        closest = 0,\n        i = snapTo.length,\n        dx,\n        dy;\n\n    while (i--) {\n      if (is2D) {\n        dx = snapTo[i].x - x;\n        dy = snapTo[i].y - y;\n        dx = dx * dx + dy * dy;\n      } else {\n        dx = Math.abs(snapTo[i] - x);\n      }\n\n      if (dx < min) {\n        min = dx;\n        closest = i;\n      }\n    }\n\n    closest = !radius || min <= radius ? snapTo[closest] : raw;\n    return is2D || closest === raw || _isNumber(raw) ? closest : closest + getUnit(raw);\n  });\n},\n    random = function random(min, max, roundingIncrement, returnFunction) {\n  return _conditionalReturn(_isArray(min) ? !max : roundingIncrement === true ? !!(roundingIncrement = 0) : !returnFunction, function () {\n    return _isArray(min) ? min[~~(Math.random() * min.length)] : (roundingIncrement = roundingIncrement || 1e-5) && (returnFunction = roundingIncrement < 1 ? Math.pow(10, (roundingIncrement + \"\").length - 2) : 1) && Math.floor(Math.round((min - roundingIncrement / 2 + Math.random() * (max - min + roundingIncrement * .99)) / roundingIncrement) * roundingIncrement * returnFunction) / returnFunction;\n  });\n},\n    pipe = function pipe() {\n  for (var _len = arguments.length, functions = new Array(_len), _key = 0; _key < _len; _key++) {\n    functions[_key] = arguments[_key];\n  }\n\n  return function (value) {\n    return functions.reduce(function (v, f) {\n      return f(v);\n    }, value);\n  };\n},\n    unitize = function unitize(func, unit) {\n  return function (value) {\n    return func(parseFloat(value)) + (unit || getUnit(value));\n  };\n},\n    normalize = function normalize(min, max, value) {\n  return mapRange(min, max, 0, 1, value);\n},\n    _wrapArray = function _wrapArray(a, wrapper, value) {\n  return _conditionalReturn(value, function (index) {\n    return a[~~wrapper(index)];\n  });\n},\n    wrap = function wrap(min, max, value) {\n  // NOTE: wrap() CANNOT be an arrow function! A very odd compiling bug causes problems (unrelated to GSAP).\n  var range = max - min;\n  return _isArray(min) ? _wrapArray(min, wrap(0, min.length), max) : _conditionalReturn(value, function (value) {\n    return (range + (value - min) % range) % range + min;\n  });\n},\n    wrapYoyo = function wrapYoyo(min, max, value) {\n  var range = max - min,\n      total = range * 2;\n  return _isArray(min) ? _wrapArray(min, wrapYoyo(0, min.length - 1), max) : _conditionalReturn(value, function (value) {\n    value = (total + (value - min) % total) % total || 0;\n    return min + (value > range ? total - value : value);\n  });\n},\n    _replaceRandom = function _replaceRandom(value) {\n  //replaces all occurrences of random(...) in a string with the calculated random value. can be a range like random(-100, 100, 5) or an array like random([0, 100, 500])\n  var prev = 0,\n      s = \"\",\n      i,\n      nums,\n      end,\n      isArray;\n\n  while (~(i = value.indexOf(\"random(\", prev))) {\n    end = value.indexOf(\")\", i);\n    isArray = value.charAt(i + 7) === \"[\";\n    nums = value.substr(i + 7, end - i - 7).match(isArray ? _delimitedValueExp : _strictNumExp);\n    s += value.substr(prev, i - prev) + random(isArray ? nums : +nums[0], isArray ? 0 : +nums[1], +nums[2] || 1e-5);\n    prev = end + 1;\n  }\n\n  return s + value.substr(prev, value.length - prev);\n},\n    mapRange = function mapRange(inMin, inMax, outMin, outMax, value) {\n  var inRange = inMax - inMin,\n      outRange = outMax - outMin;\n  return _conditionalReturn(value, function (value) {\n    return outMin + ((value - inMin) / inRange * outRange || 0);\n  });\n},\n    interpolate = function interpolate(start, end, progress, mutate) {\n  var func = isNaN(start + end) ? 0 : function (p) {\n    return (1 - p) * start + p * end;\n  };\n\n  if (!func) {\n    var isString = _isString(start),\n        master = {},\n        p,\n        i,\n        interpolators,\n        l,\n        il;\n\n    progress === true && (mutate = 1) && (progress = null);\n\n    if (isString) {\n      start = {\n        p: start\n      };\n      end = {\n        p: end\n      };\n    } else if (_isArray(start) && !_isArray(end)) {\n      interpolators = [];\n      l = start.length;\n      il = l - 2;\n\n      for (i = 1; i < l; i++) {\n        interpolators.push(interpolate(start[i - 1], start[i])); //build the interpolators up front as a performance optimization so that when the function is called many times, it can just reuse them.\n      }\n\n      l--;\n\n      func = function func(p) {\n        p *= l;\n        var i = Math.min(il, ~~p);\n        return interpolators[i](p - i);\n      };\n\n      progress = end;\n    } else if (!mutate) {\n      start = _merge(_isArray(start) ? [] : {}, start);\n    }\n\n    if (!interpolators) {\n      for (p in end) {\n        _addPropTween.call(master, start, p, \"get\", end[p]);\n      }\n\n      func = function func(p) {\n        return _renderPropTweens(p, master) || (isString ? start.p : start);\n      };\n    }\n  }\n\n  return _conditionalReturn(progress, func);\n},\n    _getLabelInDirection = function _getLabelInDirection(timeline, fromTime, backward) {\n  //used for nextLabel() and previousLabel()\n  var labels = timeline.labels,\n      min = _bigNum,\n      p,\n      distance,\n      label;\n\n  for (p in labels) {\n    distance = labels[p] - fromTime;\n\n    if (distance < 0 === !!backward && distance && min > (distance = Math.abs(distance))) {\n      label = p;\n      min = distance;\n    }\n  }\n\n  return label;\n},\n    _callback = function _callback(animation, type, executeLazyFirst) {\n  var v = animation.vars,\n      callback = v[type],\n      params,\n      scope;\n\n  if (!callback) {\n    return;\n  }\n\n  params = v[type + \"Params\"];\n  scope = v.callbackScope || animation;\n  executeLazyFirst && _lazyTweens.length && _lazyRender(); //in case rendering caused any tweens to lazy-init, we should render them because typically when a timeline finishes, users expect things to have rendered fully. Imagine an onUpdate on a timeline that reports/checks tweened values.\n\n  return params ? callback.apply(scope, params) : callback.call(scope);\n},\n    _interrupt = function _interrupt(animation) {\n  _removeFromParent(animation);\n\n  animation.progress() < 1 && _callback(animation, \"onInterrupt\");\n  return animation;\n},\n    _quickTween,\n    _createPlugin = function _createPlugin(config) {\n  config = !config.name && config[\"default\"] || config; //UMD packaging wraps things oddly, so for example MotionPathHelper becomes {MotionPathHelper:MotionPathHelper, default:MotionPathHelper}.\n\n  var name = config.name,\n      isFunc = _isFunction(config),\n      Plugin = name && !isFunc && config.init ? function () {\n    this._props = [];\n  } : config,\n      //in case someone passes in an object that's not a plugin, like CustomEase\n  instanceDefaults = {\n    init: _emptyFunc,\n    render: _renderPropTweens,\n    add: _addPropTween,\n    kill: _killPropTweensOf,\n    modifier: _addPluginModifier,\n    rawVars: 0\n  },\n      statics = {\n    targetTest: 0,\n    get: 0,\n    getSetter: _getSetter,\n    aliases: {},\n    register: 0\n  };\n\n  _wake();\n\n  if (config !== Plugin) {\n    if (_plugins[name]) {\n      return;\n    }\n\n    _setDefaults(Plugin, _setDefaults(_copyExcluding(config, instanceDefaults), statics)); //static methods\n\n\n    _merge(Plugin.prototype, _merge(instanceDefaults, _copyExcluding(config, statics))); //instance methods\n\n\n    _plugins[Plugin.prop = name] = Plugin;\n\n    if (config.targetTest) {\n      _harnessPlugins.push(Plugin);\n\n      _reservedProps[name] = 1;\n    }\n\n    name = (name === \"css\" ? \"CSS\" : name.charAt(0).toUpperCase() + name.substr(1)) + \"Plugin\"; //for the global name. \"motionPath\" should become MotionPathPlugin\n  }\n\n  _addGlobal(name, Plugin);\n\n  config.register && config.register(gsap, Plugin, PropTween);\n},\n\n/*\n * --------------------------------------------------------------------------------------\n * COLORS\n * --------------------------------------------------------------------------------------\n */\n_255 = 255,\n    _colorLookup = {\n  aqua: [0, _255, _255],\n  lime: [0, _255, 0],\n  silver: [192, 192, 192],\n  black: [0, 0, 0],\n  maroon: [128, 0, 0],\n  teal: [0, 128, 128],\n  blue: [0, 0, _255],\n  navy: [0, 0, 128],\n  white: [_255, _255, _255],\n  olive: [128, 128, 0],\n  yellow: [_255, _255, 0],\n  orange: [_255, 165, 0],\n  gray: [128, 128, 128],\n  purple: [128, 0, 128],\n  green: [0, 128, 0],\n  red: [_255, 0, 0],\n  pink: [_255, 192, 203],\n  cyan: [0, _255, _255],\n  transparent: [_255, _255, _255, 0]\n},\n    _hue = function _hue(h, m1, m2) {\n  h = h < 0 ? h + 1 : h > 1 ? h - 1 : h;\n  return (h * 6 < 1 ? m1 + (m2 - m1) * h * 6 : h < .5 ? m2 : h * 3 < 2 ? m1 + (m2 - m1) * (2 / 3 - h) * 6 : m1) * _255 + .5 | 0;\n},\n    splitColor = function splitColor(v, toHSL, forceAlpha) {\n  var a = !v ? _colorLookup.black : _isNumber(v) ? [v >> 16, v >> 8 & _255, v & _255] : 0,\n      r,\n      g,\n      b,\n      h,\n      s,\n      l,\n      max,\n      min,\n      d,\n      wasHSL;\n\n  if (!a) {\n    if (v.substr(-1) === \",\") {\n      //sometimes a trailing comma is included and we should chop it off (typically from a comma-delimited list of values like a textShadow:\"2px 2px 2px blue, 5px 5px 5px rgb(255,0,0)\" - in this example \"blue,\" has a trailing comma. We could strip it out inside parseComplex() but we'd need to do it to the beginning and ending values plus it wouldn't provide protection from other potential scenarios like if the user passes in a similar value.\n      v = v.substr(0, v.length - 1);\n    }\n\n    if (_colorLookup[v]) {\n      a = _colorLookup[v];\n    } else if (v.charAt(0) === \"#\") {\n      if (v.length < 6) {\n        //for shorthand like #9F0 or #9F0F (could have alpha)\n        r = v.charAt(1);\n        g = v.charAt(2);\n        b = v.charAt(3);\n        v = \"#\" + r + r + g + g + b + b + (v.length === 5 ? v.charAt(4) + v.charAt(4) : \"\");\n      }\n\n      if (v.length === 9) {\n        // hex with alpha, like #fd5e53ff\n        a = parseInt(v.substr(1, 6), 16);\n        return [a >> 16, a >> 8 & _255, a & _255, parseInt(v.substr(7), 16) / 255];\n      }\n\n      v = parseInt(v.substr(1), 16);\n      a = [v >> 16, v >> 8 & _255, v & _255];\n    } else if (v.substr(0, 3) === \"hsl\") {\n      a = wasHSL = v.match(_strictNumExp);\n\n      if (!toHSL) {\n        h = +a[0] % 360 / 360;\n        s = +a[1] / 100;\n        l = +a[2] / 100;\n        g = l <= .5 ? l * (s + 1) : l + s - l * s;\n        r = l * 2 - g;\n        a.length > 3 && (a[3] *= 1); //cast as number\n\n        a[0] = _hue(h + 1 / 3, r, g);\n        a[1] = _hue(h, r, g);\n        a[2] = _hue(h - 1 / 3, r, g);\n      } else if (~v.indexOf(\"=\")) {\n        //if relative values are found, just return the raw strings with the relative prefixes in place.\n        a = v.match(_numExp);\n        forceAlpha && a.length < 4 && (a[3] = 1);\n        return a;\n      }\n    } else {\n      a = v.match(_strictNumExp) || _colorLookup.transparent;\n    }\n\n    a = a.map(Number);\n  }\n\n  if (toHSL && !wasHSL) {\n    r = a[0] / _255;\n    g = a[1] / _255;\n    b = a[2] / _255;\n    max = Math.max(r, g, b);\n    min = Math.min(r, g, b);\n    l = (max + min) / 2;\n\n    if (max === min) {\n      h = s = 0;\n    } else {\n      d = max - min;\n      s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n      h = max === r ? (g - b) / d + (g < b ? 6 : 0) : max === g ? (b - r) / d + 2 : (r - g) / d + 4;\n      h *= 60;\n    }\n\n    a[0] = ~~(h + .5);\n    a[1] = ~~(s * 100 + .5);\n    a[2] = ~~(l * 100 + .5);\n  }\n\n  forceAlpha && a.length < 4 && (a[3] = 1);\n  return a;\n},\n    _colorOrderData = function _colorOrderData(v) {\n  // strips out the colors from the string, finds all the numeric slots (with units) and returns an array of those. The Array also has a \"c\" property which is an Array of the index values where the colors belong. This is to help work around issues where there's a mis-matched order of color/numeric data like drop-shadow(#f00 0px 1px 2px) and drop-shadow(0x 1px 2px #f00). This is basically a helper function used in _formatColors()\n  var values = [],\n      c = [],\n      i = -1;\n  v.split(_colorExp).forEach(function (v) {\n    var a = v.match(_numWithUnitExp) || [];\n    values.push.apply(values, a);\n    c.push(i += a.length + 1);\n  });\n  values.c = c;\n  return values;\n},\n    _formatColors = function _formatColors(s, toHSL, orderMatchData) {\n  var result = \"\",\n      colors = (s + result).match(_colorExp),\n      type = toHSL ? \"hsla(\" : \"rgba(\",\n      i = 0,\n      c,\n      shell,\n      d,\n      l;\n\n  if (!colors) {\n    return s;\n  }\n\n  colors = colors.map(function (color) {\n    return (color = splitColor(color, toHSL, 1)) && type + (toHSL ? color[0] + \",\" + color[1] + \"%,\" + color[2] + \"%,\" + color[3] : color.join(\",\")) + \")\";\n  });\n\n  if (orderMatchData) {\n    d = _colorOrderData(s);\n    c = orderMatchData.c;\n\n    if (c.join(result) !== d.c.join(result)) {\n      shell = s.replace(_colorExp, \"1\").split(_numWithUnitExp);\n      l = shell.length - 1;\n\n      for (; i < l; i++) {\n        result += shell[i] + (~c.indexOf(i) ? colors.shift() || type + \"0,0,0,0)\" : (d.length ? d : colors.length ? colors : orderMatchData).shift());\n      }\n    }\n  }\n\n  if (!shell) {\n    shell = s.split(_colorExp);\n    l = shell.length - 1;\n\n    for (; i < l; i++) {\n      result += shell[i] + colors[i];\n    }\n  }\n\n  return result + shell[l];\n},\n    _colorExp = function () {\n  var s = \"(?:\\\\b(?:(?:rgb|rgba|hsl|hsla)\\\\(.+?\\\\))|\\\\B#(?:[0-9a-f]{3,4}){1,2}\\\\b\",\n      //we'll dynamically build this Regular Expression to conserve file size. After building it, it will be able to find rgb(), rgba(), # (hexadecimal), and named color values like red, blue, purple, etc.,\n  p;\n\n  for (p in _colorLookup) {\n    s += \"|\" + p + \"\\\\b\";\n  }\n\n  return new RegExp(s + \")\", \"gi\");\n}(),\n    _hslExp = /hsl[a]?\\(/,\n    _colorStringFilter = function _colorStringFilter(a) {\n  var combined = a.join(\" \"),\n      toHSL;\n  _colorExp.lastIndex = 0;\n\n  if (_colorExp.test(combined)) {\n    toHSL = _hslExp.test(combined);\n    a[1] = _formatColors(a[1], toHSL);\n    a[0] = _formatColors(a[0], toHSL, _colorOrderData(a[1])); // make sure the order of numbers/colors match with the END value.\n\n    return true;\n  }\n},\n\n/*\n * --------------------------------------------------------------------------------------\n * TICKER\n * --------------------------------------------------------------------------------------\n */\n_tickerActive,\n    _ticker = function () {\n  var _getTime = Date.now,\n      _lagThreshold = 500,\n      _adjustedLag = 33,\n      _startTime = _getTime(),\n      _lastUpdate = _startTime,\n      _gap = 1000 / 240,\n      _nextTime = _gap,\n      _listeners = [],\n      _id,\n      _req,\n      _raf,\n      _self,\n      _delta,\n      _i,\n      _tick = function _tick(v) {\n    var elapsed = _getTime() - _lastUpdate,\n        manual = v === true,\n        overlap,\n        dispatch,\n        time,\n        frame;\n\n    elapsed > _lagThreshold && (_startTime += elapsed - _adjustedLag);\n    _lastUpdate += elapsed;\n    time = _lastUpdate - _startTime;\n    overlap = time - _nextTime;\n\n    if (overlap > 0 || manual) {\n      frame = ++_self.frame;\n      _delta = time - _self.time * 1000;\n      _self.time = time = time / 1000;\n      _nextTime += overlap + (overlap >= _gap ? 4 : _gap - overlap);\n      dispatch = 1;\n    }\n\n    manual || (_id = _req(_tick)); //make sure the request is made before we dispatch the \"tick\" event so that timing is maintained. Otherwise, if processing the \"tick\" requires a bunch of time (like 15ms) and we're using a setTimeout() that's based on 16.7ms, it'd technically take 31.7ms between frames otherwise.\n\n    if (dispatch) {\n      for (_i = 0; _i < _listeners.length; _i++) {\n        // use _i and check _listeners.length instead of a variable because a listener could get removed during the loop, and if that happens to an element less than the current index, it'd throw things off in the loop.\n        _listeners[_i](time, _delta, frame, v);\n      }\n    }\n  };\n\n  _self = {\n    time: 0,\n    frame: 0,\n    tick: function tick() {\n      _tick(true);\n    },\n    deltaRatio: function deltaRatio(fps) {\n      return _delta / (1000 / (fps || 60));\n    },\n    wake: function wake() {\n      if (_coreReady) {\n        if (!_coreInitted && _windowExists()) {\n          _win = _coreInitted = window;\n          _doc = _win.document || {};\n          _globals.gsap = gsap;\n          (_win.gsapVersions || (_win.gsapVersions = [])).push(gsap.version);\n\n          _install(_installScope || _win.GreenSockGlobals || !_win.gsap && _win || {});\n\n          _raf = _win.requestAnimationFrame;\n        }\n\n        _id && _self.sleep();\n\n        _req = _raf || function (f) {\n          return setTimeout(f, _nextTime - _self.time * 1000 + 1 | 0);\n        };\n\n        _tickerActive = 1;\n\n        _tick(2);\n      }\n    },\n    sleep: function sleep() {\n      (_raf ? _win.cancelAnimationFrame : clearTimeout)(_id);\n      _tickerActive = 0;\n      _req = _emptyFunc;\n    },\n    lagSmoothing: function lagSmoothing(threshold, adjustedLag) {\n      _lagThreshold = threshold || 1 / _tinyNum; //zero should be interpreted as basically unlimited\n\n      _adjustedLag = Math.min(adjustedLag, _lagThreshold, 0);\n    },\n    fps: function fps(_fps) {\n      _gap = 1000 / (_fps || 240);\n      _nextTime = _self.time * 1000 + _gap;\n    },\n    add: function add(callback) {\n      _listeners.indexOf(callback) < 0 && _listeners.push(callback);\n\n      _wake();\n    },\n    remove: function remove(callback) {\n      var i;\n      ~(i = _listeners.indexOf(callback)) && _listeners.splice(i, 1) && _i >= i && _i--;\n    },\n    _listeners: _listeners\n  };\n  return _self;\n}(),\n    _wake = function _wake() {\n  return !_tickerActive && _ticker.wake();\n},\n    //also ensures the core classes are initialized.\n\n/*\n* -------------------------------------------------\n* EASING\n* -------------------------------------------------\n*/\n_easeMap = {},\n    _customEaseExp = /^[\\d.\\-M][\\d.\\-,\\s]/,\n    _quotesExp = /[\"']/g,\n    _parseObjectInString = function _parseObjectInString(value) {\n  //takes a string like \"{wiggles:10, type:anticipate})\" and turns it into a real object. Notice it ends in \")\" and includes the {} wrappers. This is because we only use this function for parsing ease configs and prioritized optimization rather than reusability.\n  var obj = {},\n      split = value.substr(1, value.length - 3).split(\":\"),\n      key = split[0],\n      i = 1,\n      l = split.length,\n      index,\n      val,\n      parsedVal;\n\n  for (; i < l; i++) {\n    val = split[i];\n    index = i !== l - 1 ? val.lastIndexOf(\",\") : val.length;\n    parsedVal = val.substr(0, index);\n    obj[key] = isNaN(parsedVal) ? parsedVal.replace(_quotesExp, \"\").trim() : +parsedVal;\n    key = val.substr(index + 1).trim();\n  }\n\n  return obj;\n},\n    _valueInParentheses = function _valueInParentheses(value) {\n  var open = value.indexOf(\"(\") + 1,\n      close = value.indexOf(\")\"),\n      nested = value.indexOf(\"(\", open);\n  return value.substring(open, ~nested && nested < close ? value.indexOf(\")\", close + 1) : close);\n},\n    _configEaseFromString = function _configEaseFromString(name) {\n  //name can be a string like \"elastic.out(1,0.5)\", and pass in _easeMap as obj and it'll parse it out and call the actual function like _easeMap.Elastic.easeOut.config(1,0.5). It will also parse custom ease strings as long as CustomEase is loaded and registered (internally as _easeMap._CE).\n  var split = (name + \"\").split(\"(\"),\n      ease = _easeMap[split[0]];\n  return ease && split.length > 1 && ease.config ? ease.config.apply(null, ~name.indexOf(\"{\") ? [_parseObjectInString(split[1])] : _valueInParentheses(name).split(\",\").map(_numericIfPossible)) : _easeMap._CE && _customEaseExp.test(name) ? _easeMap._CE(\"\", name) : ease;\n},\n    _invertEase = function _invertEase(ease) {\n  return function (p) {\n    return 1 - ease(1 - p);\n  };\n},\n    // allow yoyoEase to be set in children and have those affected when the parent/ancestor timeline yoyos.\n_propagateYoyoEase = function _propagateYoyoEase(timeline, isYoyo) {\n  var child = timeline._first,\n      ease;\n\n  while (child) {\n    if (child instanceof Timeline) {\n      _propagateYoyoEase(child, isYoyo);\n    } else if (child.vars.yoyoEase && (!child._yoyo || !child._repeat) && child._yoyo !== isYoyo) {\n      if (child.timeline) {\n        _propagateYoyoEase(child.timeline, isYoyo);\n      } else {\n        ease = child._ease;\n        child._ease = child._yEase;\n        child._yEase = ease;\n        child._yoyo = isYoyo;\n      }\n    }\n\n    child = child._next;\n  }\n},\n    _parseEase = function _parseEase(ease, defaultEase) {\n  return !ease ? defaultEase : (_isFunction(ease) ? ease : _easeMap[ease] || _configEaseFromString(ease)) || defaultEase;\n},\n    _insertEase = function _insertEase(names, easeIn, easeOut, easeInOut) {\n  if (easeOut === void 0) {\n    easeOut = function easeOut(p) {\n      return 1 - easeIn(1 - p);\n    };\n  }\n\n  if (easeInOut === void 0) {\n    easeInOut = function easeInOut(p) {\n      return p < .5 ? easeIn(p * 2) / 2 : 1 - easeIn((1 - p) * 2) / 2;\n    };\n  }\n\n  var ease = {\n    easeIn: easeIn,\n    easeOut: easeOut,\n    easeInOut: easeInOut\n  },\n      lowercaseName;\n\n  _forEachName(names, function (name) {\n    _easeMap[name] = _globals[name] = ease;\n    _easeMap[lowercaseName = name.toLowerCase()] = easeOut;\n\n    for (var p in ease) {\n      _easeMap[lowercaseName + (p === \"easeIn\" ? \".in\" : p === \"easeOut\" ? \".out\" : \".inOut\")] = _easeMap[name + \".\" + p] = ease[p];\n    }\n  });\n\n  return ease;\n},\n    _easeInOutFromOut = function _easeInOutFromOut(easeOut) {\n  return function (p) {\n    return p < .5 ? (1 - easeOut(1 - p * 2)) / 2 : .5 + easeOut((p - .5) * 2) / 2;\n  };\n},\n    _configElastic = function _configElastic(type, amplitude, period) {\n  var p1 = amplitude >= 1 ? amplitude : 1,\n      //note: if amplitude is < 1, we simply adjust the period for a more natural feel. Otherwise the math doesn't work right and the curve starts at 1.\n  p2 = (period || (type ? .3 : .45)) / (amplitude < 1 ? amplitude : 1),\n      p3 = p2 / _2PI * (Math.asin(1 / p1) || 0),\n      easeOut = function easeOut(p) {\n    return p === 1 ? 1 : p1 * Math.pow(2, -10 * p) * _sin((p - p3) * p2) + 1;\n  },\n      ease = type === \"out\" ? easeOut : type === \"in\" ? function (p) {\n    return 1 - easeOut(1 - p);\n  } : _easeInOutFromOut(easeOut);\n\n  p2 = _2PI / p2; //precalculate to optimize\n\n  ease.config = function (amplitude, period) {\n    return _configElastic(type, amplitude, period);\n  };\n\n  return ease;\n},\n    _configBack = function _configBack(type, overshoot) {\n  if (overshoot === void 0) {\n    overshoot = 1.70158;\n  }\n\n  var easeOut = function easeOut(p) {\n    return p ? --p * p * ((overshoot + 1) * p + overshoot) + 1 : 0;\n  },\n      ease = type === \"out\" ? easeOut : type === \"in\" ? function (p) {\n    return 1 - easeOut(1 - p);\n  } : _easeInOutFromOut(easeOut);\n\n  ease.config = function (overshoot) {\n    return _configBack(type, overshoot);\n  };\n\n  return ease;\n}; // a cheaper (kb and cpu) but more mild way to get a parameterized weighted ease by feeding in a value between -1 (easeIn) and 1 (easeOut) where 0 is linear.\n// _weightedEase = ratio => {\n// \tlet y = 0.5 + ratio / 2;\n// \treturn p => (2 * (1 - p) * p * y + p * p);\n// },\n// a stronger (but more expensive kb/cpu) parameterized weighted ease that lets you feed in a value between -1 (easeIn) and 1 (easeOut) where 0 is linear.\n// _weightedEaseStrong = ratio => {\n// \tratio = .5 + ratio / 2;\n// \tlet o = 1 / 3 * (ratio < .5 ? ratio : 1 - ratio),\n// \t\tb = ratio - o,\n// \t\tc = ratio + o;\n// \treturn p => p === 1 ? p : 3 * b * (1 - p) * (1 - p) * p + 3 * c * (1 - p) * p * p + p * p * p;\n// };\n\n\n_forEachName(\"Linear,Quad,Cubic,Quart,Quint,Strong\", function (name, i) {\n  var power = i < 5 ? i + 1 : i;\n\n  _insertEase(name + \",Power\" + (power - 1), i ? function (p) {\n    return Math.pow(p, power);\n  } : function (p) {\n    return p;\n  }, function (p) {\n    return 1 - Math.pow(1 - p, power);\n  }, function (p) {\n    return p < .5 ? Math.pow(p * 2, power) / 2 : 1 - Math.pow((1 - p) * 2, power) / 2;\n  });\n});\n\n_easeMap.Linear.easeNone = _easeMap.none = _easeMap.Linear.easeIn;\n\n_insertEase(\"Elastic\", _configElastic(\"in\"), _configElastic(\"out\"), _configElastic());\n\n(function (n, c) {\n  var n1 = 1 / c,\n      n2 = 2 * n1,\n      n3 = 2.5 * n1,\n      easeOut = function easeOut(p) {\n    return p < n1 ? n * p * p : p < n2 ? n * Math.pow(p - 1.5 / c, 2) + .75 : p < n3 ? n * (p -= 2.25 / c) * p + .9375 : n * Math.pow(p - 2.625 / c, 2) + .984375;\n  };\n\n  _insertEase(\"Bounce\", function (p) {\n    return 1 - easeOut(1 - p);\n  }, easeOut);\n})(7.5625, 2.75);\n\n_insertEase(\"Expo\", function (p) {\n  return p ? Math.pow(2, 10 * (p - 1)) : 0;\n});\n\n_insertEase(\"Circ\", function (p) {\n  return -(_sqrt(1 - p * p) - 1);\n});\n\n_insertEase(\"Sine\", function (p) {\n  return p === 1 ? 1 : -_cos(p * _HALF_PI) + 1;\n});\n\n_insertEase(\"Back\", _configBack(\"in\"), _configBack(\"out\"), _configBack());\n\n_easeMap.SteppedEase = _easeMap.steps = _globals.SteppedEase = {\n  config: function config(steps, immediateStart) {\n    if (steps === void 0) {\n      steps = 1;\n    }\n\n    var p1 = 1 / steps,\n        p2 = steps + (immediateStart ? 0 : 1),\n        p3 = immediateStart ? 1 : 0,\n        max = 1 - _tinyNum;\n    return function (p) {\n      return ((p2 * _clamp(0, max, p) | 0) + p3) * p1;\n    };\n  }\n};\n_defaults.ease = _easeMap[\"quad.out\"];\n\n_forEachName(\"onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt\", function (name) {\n  return _callbackNames += name + \",\" + name + \"Params,\";\n});\n/*\n * --------------------------------------------------------------------------------------\n * CACHE\n * --------------------------------------------------------------------------------------\n */\n\n\nexport var GSCache = function GSCache(target, harness) {\n  this.id = _gsID++;\n  target._gsap = this;\n  this.target = target;\n  this.harness = harness;\n  this.get = harness ? harness.get : _getProperty;\n  this.set = harness ? harness.getSetter : _getSetter;\n};\n/*\n * --------------------------------------------------------------------------------------\n * ANIMATION\n * --------------------------------------------------------------------------------------\n */\n\nexport var Animation = /*#__PURE__*/function () {\n  function Animation(vars, time) {\n    var parent = vars.parent || _globalTimeline;\n    this.vars = vars;\n    this._delay = +vars.delay || 0;\n\n    if (this._repeat = vars.repeat === Infinity ? -2 : vars.repeat || 0) {\n      // TODO: repeat: Infinity on a timeline's children must flag that timeline internally and affect its totalDuration, otherwise it'll stop in the negative direction when reaching the start.\n      this._rDelay = vars.repeatDelay || 0;\n      this._yoyo = !!vars.yoyo || !!vars.yoyoEase;\n    }\n\n    this._ts = 1;\n\n    _setDuration(this, +vars.duration, 1, 1);\n\n    this.data = vars.data;\n    _tickerActive || _ticker.wake();\n    parent && _addToTimeline(parent, this, time || time === 0 ? time : parent._time, 1);\n    vars.reversed && this.reverse();\n    vars.paused && this.paused(true);\n  }\n\n  var _proto = Animation.prototype;\n\n  _proto.delay = function delay(value) {\n    if (value || value === 0) {\n      this.parent && this.parent.smoothChildTiming && this.startTime(this._start + value - this._delay);\n      this._delay = value;\n      return this;\n    }\n\n    return this._delay;\n  };\n\n  _proto.duration = function duration(value) {\n    return arguments.length ? this.totalDuration(this._repeat > 0 ? value + (value + this._rDelay) * this._repeat : value) : this.totalDuration() && this._dur;\n  };\n\n  _proto.totalDuration = function totalDuration(value) {\n    if (!arguments.length) {\n      return this._tDur;\n    }\n\n    this._dirty = 0;\n    return _setDuration(this, this._repeat < 0 ? value : (value - this._repeat * this._rDelay) / (this._repeat + 1));\n  };\n\n  _proto.totalTime = function totalTime(_totalTime, suppressEvents) {\n    _wake();\n\n    if (!arguments.length) {\n      return this._tTime;\n    }\n\n    var parent = this._dp;\n\n    if (parent && parent.smoothChildTiming && this._ts) {\n      _alignPlayhead(this, _totalTime);\n\n      !parent._dp || parent.parent || _postAddChecks(parent, this); // edge case: if this is a child of a timeline that already completed, for example, we must re-activate the parent.\n      //in case any of the ancestor timelines had completed but should now be enabled, we should reset their totalTime() which will also ensure that they're lined up properly and enabled. Skip for animations that are on the root (wasteful). Example: a TimelineLite.exportRoot() is performed when there's a paused tween on the root, the export will not complete until that tween is unpaused, but imagine a child gets restarted later, after all [unpaused] tweens have completed. The start of that child would get pushed out, but one of the ancestors may have completed.\n\n      while (parent.parent) {\n        if (parent.parent._time !== parent._start + (parent._ts >= 0 ? parent._tTime / parent._ts : (parent.totalDuration() - parent._tTime) / -parent._ts)) {\n          parent.totalTime(parent._tTime, true);\n        }\n\n        parent = parent.parent;\n      }\n\n      if (!this.parent && this._dp.autoRemoveChildren && (this._ts > 0 && _totalTime < this._tDur || this._ts < 0 && _totalTime > 0 || !this._tDur && !_totalTime)) {\n        //if the animation doesn't have a parent, put it back into its last parent (recorded as _dp for exactly cases like this). Limit to parents with autoRemoveChildren (like globalTimeline) so that if the user manually removes an animation from a timeline and then alters its playhead, it doesn't get added back in.\n        _addToTimeline(this._dp, this, this._start - this._delay);\n      }\n    }\n\n    if (this._tTime !== _totalTime || !this._dur && !suppressEvents || this._initted && Math.abs(this._zTime) === _tinyNum || !_totalTime && !this._initted && (this.add || this._ptLookup)) {\n      // check for _ptLookup on a Tween instance to ensure it has actually finished being instantiated, otherwise if this.reverse() gets called in the Animation constructor, it could trigger a render() here even though the _targets weren't populated, thus when _init() is called there won't be any PropTweens (it'll act like the tween is non-functional)\n      this._ts || (this._pTime = _totalTime); // otherwise, if an animation is paused, then the playhead is moved back to zero, then resumed, it'd revert back to the original time at the pause\n      //if (!this._lock) { // avoid endless recursion (not sure we need this yet or if it's worth the performance hit)\n      //   this._lock = 1;\n\n      _lazySafeRender(this, _totalTime, suppressEvents); //   this._lock = 0;\n      //}\n\n    }\n\n    return this;\n  };\n\n  _proto.time = function time(value, suppressEvents) {\n    return arguments.length ? this.totalTime(Math.min(this.totalDuration(), value + _elapsedCycleDuration(this)) % this._dur || (value ? this._dur : 0), suppressEvents) : this._time; // note: if the modulus results in 0, the playhead could be exactly at the end or the beginning, and we always defer to the END with a non-zero value, otherwise if you set the time() to the very end (duration()), it would render at the START!\n  };\n\n  _proto.totalProgress = function totalProgress(value, suppressEvents) {\n    return arguments.length ? this.totalTime(this.totalDuration() * value, suppressEvents) : this.totalDuration() ? Math.min(1, this._tTime / this._tDur) : this.ratio;\n  };\n\n  _proto.progress = function progress(value, suppressEvents) {\n    return arguments.length ? this.totalTime(this.duration() * (this._yoyo && !(this.iteration() & 1) ? 1 - value : value) + _elapsedCycleDuration(this), suppressEvents) : this.duration() ? Math.min(1, this._time / this._dur) : this.ratio;\n  };\n\n  _proto.iteration = function iteration(value, suppressEvents) {\n    var cycleDuration = this.duration() + this._rDelay;\n\n    return arguments.length ? this.totalTime(this._time + (value - 1) * cycleDuration, suppressEvents) : this._repeat ? _animationCycle(this._tTime, cycleDuration) + 1 : 1;\n  } // potential future addition:\n  // isPlayingBackwards() {\n  // \tlet animation = this,\n  // \t\torientation = 1; // 1 = forward, -1 = backward\n  // \twhile (animation) {\n  // \t\torientation *= animation.reversed() || (animation.repeat() && !(animation.iteration() & 1)) ? -1 : 1;\n  // \t\tanimation = animation.parent;\n  // \t}\n  // \treturn orientation < 0;\n  // }\n  ;\n\n  _proto.timeScale = function timeScale(value) {\n    if (!arguments.length) {\n      return this._rts === -_tinyNum ? 0 : this._rts; // recorded timeScale. Special case: if someone calls reverse() on an animation with timeScale of 0, we assign it -_tinyNum to remember it's reversed.\n    }\n\n    if (this._rts === value) {\n      return this;\n    }\n\n    var tTime = this.parent && this._ts ? _parentToChildTotalTime(this.parent._time, this) : this._tTime; // make sure to do the parentToChildTotalTime() BEFORE setting the new _ts because the old one must be used in that calculation.\n    // prioritize rendering where the parent's playhead lines up instead of this._tTime because there could be a tween that's animating another tween's timeScale in the same rendering loop (same parent), thus if the timeScale tween renders first, it would alter _start BEFORE _tTime was set on that tick (in the rendering loop), effectively freezing it until the timeScale tween finishes.\n\n    this._rts = +value || 0;\n    this._ts = this._ps || value === -_tinyNum ? 0 : this._rts; // _ts is the functional timeScale which would be 0 if the animation is paused.\n\n    return _recacheAncestors(this.totalTime(_clamp(-this._delay, this._tDur, tTime), true));\n  };\n\n  _proto.paused = function paused(value) {\n    if (!arguments.length) {\n      return this._ps;\n    }\n\n    if (this._ps !== value) {\n      this._ps = value;\n\n      if (value) {\n        this._pTime = this._tTime || Math.max(-this._delay, this.rawTime()); // if the pause occurs during the delay phase, make sure that's factored in when resuming.\n\n        this._ts = this._act = 0; // _ts is the functional timeScale, so a paused tween would effectively have a timeScale of 0. We record the \"real\" timeScale as _rts (recorded time scale)\n      } else {\n        _wake();\n\n        this._ts = this._rts; //only defer to _pTime (pauseTime) if tTime is zero. Remember, someone could pause() an animation, then scrub the playhead and resume(). If the parent doesn't have smoothChildTiming, we render at the rawTime() because the startTime won't get updated.\n\n        this.totalTime(this.parent && !this.parent.smoothChildTiming ? this.rawTime() : this._tTime || this._pTime, this.progress() === 1 && (this._tTime -= _tinyNum) && Math.abs(this._zTime) !== _tinyNum); // edge case: animation.progress(1).pause().play() wouldn't render again because the playhead is already at the end, but the call to totalTime() below will add it back to its parent...and not remove it again (since removing only happens upon rendering at a new time). Offsetting the _tTime slightly is done simply to cause the final render in totalTime() that'll pop it off its timeline (if autoRemoveChildren is true, of course). Check to make sure _zTime isn't -_tinyNum to avoid an edge case where the playhead is pushed to the end but INSIDE a tween/callback, the timeline itself is paused thus halting rendering and leaving a few unrendered. When resuming, it wouldn't render those otherwise.\n      }\n    }\n\n    return this;\n  };\n\n  _proto.startTime = function startTime(value) {\n    if (arguments.length) {\n      this._start = value;\n      var parent = this.parent || this._dp;\n      parent && (parent._sort || !this.parent) && _addToTimeline(parent, this, value - this._delay);\n      return this;\n    }\n\n    return this._start;\n  };\n\n  _proto.endTime = function endTime(includeRepeats) {\n    return this._start + (_isNotFalse(includeRepeats) ? this.totalDuration() : this.duration()) / Math.abs(this._ts);\n  };\n\n  _proto.rawTime = function rawTime(wrapRepeats) {\n    var parent = this.parent || this._dp; // _dp = detatched parent\n\n    return !parent ? this._tTime : wrapRepeats && (!this._ts || this._repeat && this._time && this.totalProgress() < 1) ? this._tTime % (this._dur + this._rDelay) : !this._ts ? this._tTime : _parentToChildTotalTime(parent.rawTime(wrapRepeats), this);\n  };\n\n  _proto.globalTime = function globalTime(rawTime) {\n    var animation = this,\n        time = arguments.length ? rawTime : animation.rawTime();\n\n    while (animation) {\n      time = animation._start + time / (animation._ts || 1);\n      animation = animation._dp;\n    }\n\n    return time;\n  };\n\n  _proto.repeat = function repeat(value) {\n    if (arguments.length) {\n      this._repeat = value === Infinity ? -2 : value;\n      return _onUpdateTotalDuration(this);\n    }\n\n    return this._repeat === -2 ? Infinity : this._repeat;\n  };\n\n  _proto.repeatDelay = function repeatDelay(value) {\n    if (arguments.length) {\n      this._rDelay = value;\n      return _onUpdateTotalDuration(this);\n    }\n\n    return this._rDelay;\n  };\n\n  _proto.yoyo = function yoyo(value) {\n    if (arguments.length) {\n      this._yoyo = value;\n      return this;\n    }\n\n    return this._yoyo;\n  };\n\n  _proto.seek = function seek(position, suppressEvents) {\n    return this.totalTime(_parsePosition(this, position), _isNotFalse(suppressEvents));\n  };\n\n  _proto.restart = function restart(includeDelay, suppressEvents) {\n    return this.play().totalTime(includeDelay ? -this._delay : 0, _isNotFalse(suppressEvents));\n  };\n\n  _proto.play = function play(from, suppressEvents) {\n    from != null && this.seek(from, suppressEvents);\n    return this.reversed(false).paused(false);\n  };\n\n  _proto.reverse = function reverse(from, suppressEvents) {\n    from != null && this.seek(from || this.totalDuration(), suppressEvents);\n    return this.reversed(true).paused(false);\n  };\n\n  _proto.pause = function pause(atTime, suppressEvents) {\n    atTime != null && this.seek(atTime, suppressEvents);\n    return this.paused(true);\n  };\n\n  _proto.resume = function resume() {\n    return this.paused(false);\n  };\n\n  _proto.reversed = function reversed(value) {\n    if (arguments.length) {\n      !!value !== this.reversed() && this.timeScale(-this._rts || (value ? -_tinyNum : 0)); // in case timeScale is zero, reversing would have no effect so we use _tinyNum.\n\n      return this;\n    }\n\n    return this._rts < 0;\n  };\n\n  _proto.invalidate = function invalidate() {\n    this._initted = this._act = 0;\n    this._zTime = -_tinyNum;\n    return this;\n  };\n\n  _proto.isActive = function isActive() {\n    var parent = this.parent || this._dp,\n        start = this._start,\n        rawTime;\n    return !!(!parent || this._ts && this._initted && parent.isActive() && (rawTime = parent.rawTime(true)) >= start && rawTime < this.endTime(true) - _tinyNum);\n  };\n\n  _proto.eventCallback = function eventCallback(type, callback, params) {\n    var vars = this.vars;\n\n    if (arguments.length > 1) {\n      if (!callback) {\n        delete vars[type];\n      } else {\n        vars[type] = callback;\n        params && (vars[type + \"Params\"] = params);\n        type === \"onUpdate\" && (this._onUpdate = callback);\n      }\n\n      return this;\n    }\n\n    return vars[type];\n  };\n\n  _proto.then = function then(onFulfilled) {\n    var self = this;\n    return new Promise(function (resolve) {\n      var f = _isFunction(onFulfilled) ? onFulfilled : _passThrough,\n          _resolve = function _resolve() {\n        var _then = self.then;\n        self.then = null; // temporarily null the then() method to avoid an infinite loop (see https://github.com/greensock/GSAP/issues/322)\n\n        _isFunction(f) && (f = f(self)) && (f.then || f === self) && (self.then = _then);\n        resolve(f);\n        self.then = _then;\n      };\n\n      if (self._initted && self.totalProgress() === 1 && self._ts >= 0 || !self._tTime && self._ts < 0) {\n        _resolve();\n      } else {\n        self._prom = _resolve;\n      }\n    });\n  };\n\n  _proto.kill = function kill() {\n    _interrupt(this);\n  };\n\n  return Animation;\n}();\n\n_setDefaults(Animation.prototype, {\n  _time: 0,\n  _start: 0,\n  _end: 0,\n  _tTime: 0,\n  _tDur: 0,\n  _dirty: 0,\n  _repeat: 0,\n  _yoyo: false,\n  parent: null,\n  _initted: false,\n  _rDelay: 0,\n  _ts: 1,\n  _dp: 0,\n  ratio: 0,\n  _zTime: -_tinyNum,\n  _prom: 0,\n  _ps: false,\n  _rts: 1\n});\n/*\n * -------------------------------------------------\n * TIMELINE\n * -------------------------------------------------\n */\n\n\nexport var Timeline = /*#__PURE__*/function (_Animation) {\n  _inheritsLoose(Timeline, _Animation);\n\n  function Timeline(vars, time) {\n    var _this;\n\n    if (vars === void 0) {\n      vars = {};\n    }\n\n    _this = _Animation.call(this, vars, time) || this;\n    _this.labels = {};\n    _this.smoothChildTiming = !!vars.smoothChildTiming;\n    _this.autoRemoveChildren = !!vars.autoRemoveChildren;\n    _this._sort = _isNotFalse(vars.sortChildren);\n    _this.parent && _postAddChecks(_this.parent, _assertThisInitialized(_this));\n    vars.scrollTrigger && _scrollTrigger(_assertThisInitialized(_this), vars.scrollTrigger);\n    return _this;\n  }\n\n  var _proto2 = Timeline.prototype;\n\n  _proto2.to = function to(targets, vars, position) {\n    new Tween(targets, _parseVars(arguments, 0, this), _parsePosition(this, _isNumber(vars) ? arguments[3] : position));\n    return this;\n  };\n\n  _proto2.from = function from(targets, vars, position) {\n    new Tween(targets, _parseVars(arguments, 1, this), _parsePosition(this, _isNumber(vars) ? arguments[3] : position));\n    return this;\n  };\n\n  _proto2.fromTo = function fromTo(targets, fromVars, toVars, position) {\n    new Tween(targets, _parseVars(arguments, 2, this), _parsePosition(this, _isNumber(fromVars) ? arguments[4] : position));\n    return this;\n  };\n\n  _proto2.set = function set(targets, vars, position) {\n    vars.duration = 0;\n    vars.parent = this;\n    _inheritDefaults(vars).repeatDelay || (vars.repeat = 0);\n    vars.immediateRender = !!vars.immediateRender;\n    new Tween(targets, vars, _parsePosition(this, position), 1);\n    return this;\n  };\n\n  _proto2.call = function call(callback, params, position) {\n    return _addToTimeline(this, Tween.delayedCall(0, callback, params), _parsePosition(this, position));\n  } //ONLY for backward compatibility! Maybe delete?\n  ;\n\n  _proto2.staggerTo = function staggerTo(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams) {\n    vars.duration = duration;\n    vars.stagger = vars.stagger || stagger;\n    vars.onComplete = onCompleteAll;\n    vars.onCompleteParams = onCompleteAllParams;\n    vars.parent = this;\n    new Tween(targets, vars, _parsePosition(this, position));\n    return this;\n  };\n\n  _proto2.staggerFrom = function staggerFrom(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams) {\n    vars.runBackwards = 1;\n    _inheritDefaults(vars).immediateRender = _isNotFalse(vars.immediateRender);\n    return this.staggerTo(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams);\n  };\n\n  _proto2.staggerFromTo = function staggerFromTo(targets, duration, fromVars, toVars, stagger, position, onCompleteAll, onCompleteAllParams) {\n    toVars.startAt = fromVars;\n    _inheritDefaults(toVars).immediateRender = _isNotFalse(toVars.immediateRender);\n    return this.staggerTo(targets, duration, toVars, stagger, position, onCompleteAll, onCompleteAllParams);\n  };\n\n  _proto2.render = function render(totalTime, suppressEvents, force) {\n    var prevTime = this._time,\n        tDur = this._dirty ? this.totalDuration() : this._tDur,\n        dur = this._dur,\n        tTime = this !== _globalTimeline && totalTime > tDur - _tinyNum && totalTime >= 0 ? tDur : totalTime < _tinyNum ? 0 : totalTime,\n        crossingStart = this._zTime < 0 !== totalTime < 0 && (this._initted || !dur),\n        time,\n        child,\n        next,\n        iteration,\n        cycleDuration,\n        prevPaused,\n        pauseTween,\n        timeScale,\n        prevStart,\n        prevIteration,\n        yoyo,\n        isYoyo;\n\n    if (tTime !== this._tTime || force || crossingStart) {\n      if (prevTime !== this._time && dur) {\n        //if totalDuration() finds a child with a negative startTime and smoothChildTiming is true, things get shifted around internally so we need to adjust the time accordingly. For example, if a tween starts at -30 we must shift EVERYTHING forward 30 seconds and move this timeline's startTime backward by 30 seconds so that things align with the playhead (no jump).\n        tTime += this._time - prevTime;\n        totalTime += this._time - prevTime;\n      }\n\n      time = tTime;\n      prevStart = this._start;\n      timeScale = this._ts;\n      prevPaused = !timeScale;\n\n      if (crossingStart) {\n        dur || (prevTime = this._zTime); //when the playhead arrives at EXACTLY time 0 (right on top) of a zero-duration timeline, we need to discern if events are suppressed so that when the playhead moves again (next time), it'll trigger the callback. If events are NOT suppressed, obviously the callback would be triggered in this render. Basically, the callback should fire either when the playhead ARRIVES or LEAVES this exact spot, not both. Imagine doing a timeline.seek(0) and there's a callback that sits at 0. Since events are suppressed on that seek() by default, nothing will fire, but when the playhead moves off of that position, the callback should fire. This behavior is what people intuitively expect.\n\n        (totalTime || !suppressEvents) && (this._zTime = totalTime);\n      }\n\n      if (this._repeat) {\n        //adjust the time for repeats and yoyos\n        yoyo = this._yoyo;\n        cycleDuration = dur + this._rDelay;\n\n        if (this._repeat < -1 && totalTime < 0) {\n          return this.totalTime(cycleDuration * 100 + totalTime, suppressEvents, force);\n        }\n\n        time = _round(tTime % cycleDuration); //round to avoid floating point errors. (4 % 0.8 should be 0 but some browsers report it as 0.79999999!)\n\n        if (tTime === tDur) {\n          // the tDur === tTime is for edge cases where there's a lengthy decimal on the duration and it may reach the very end but the time is rendered as not-quite-there (remember, tDur is rounded to 4 decimals whereas dur isn't)\n          iteration = this._repeat;\n          time = dur;\n        } else {\n          iteration = ~~(tTime / cycleDuration);\n\n          if (iteration && iteration === tTime / cycleDuration) {\n            time = dur;\n            iteration--;\n          }\n\n          time > dur && (time = dur);\n        }\n\n        prevIteration = _animationCycle(this._tTime, cycleDuration);\n        !prevTime && this._tTime && prevIteration !== iteration && (prevIteration = iteration); // edge case - if someone does addPause() at the very beginning of a repeating timeline, that pause is technically at the same spot as the end which causes this._time to get set to 0 when the totalTime would normally place the playhead at the end. See https://greensock.com/forums/topic/23823-closing-nav-animation-not-working-on-ie-and-iphone-6-maybe-other-older-browser/?tab=comments#comment-113005\n\n        if (yoyo && iteration & 1) {\n          time = dur - time;\n          isYoyo = 1;\n        }\n        /*\n        make sure children at the end/beginning of the timeline are rendered properly. If, for example,\n        a 3-second long timeline rendered at 2.9 seconds previously, and now renders at 3.2 seconds (which\n        would get translated to 2.8 seconds if the timeline yoyos or 0.2 seconds if it just repeats), there\n        could be a callback or a short tween that's at 2.95 or 3 seconds in which wouldn't render. So\n        we need to push the timeline to the end (and/or beginning depending on its yoyo value). Also we must\n        ensure that zero-duration tweens at the very beginning or end of the Timeline work.\n        */\n\n\n        if (iteration !== prevIteration && !this._lock) {\n          var rewinding = yoyo && prevIteration & 1,\n              doesWrap = rewinding === (yoyo && iteration & 1);\n          iteration < prevIteration && (rewinding = !rewinding);\n          prevTime = rewinding ? 0 : dur;\n          this._lock = 1;\n          this.render(prevTime || (isYoyo ? 0 : _round(iteration * cycleDuration)), suppressEvents, !dur)._lock = 0;\n          !suppressEvents && this.parent && _callback(this, \"onRepeat\");\n          this.vars.repeatRefresh && !isYoyo && (this.invalidate()._lock = 1);\n\n          if (prevTime !== this._time || prevPaused !== !this._ts) {\n            return this;\n          }\n\n          dur = this._dur; // in case the duration changed in the onRepeat\n\n          tDur = this._tDur;\n\n          if (doesWrap) {\n            this._lock = 2;\n            prevTime = rewinding ? dur : -0.0001;\n            this.render(prevTime, true);\n            this.vars.repeatRefresh && !isYoyo && this.invalidate();\n          }\n\n          this._lock = 0;\n\n          if (!this._ts && !prevPaused) {\n            return this;\n          } //in order for yoyoEase to work properly when there's a stagger, we must swap out the ease in each sub-tween.\n\n\n          _propagateYoyoEase(this, isYoyo);\n        }\n      }\n\n      if (this._hasPause && !this._forcing && this._lock < 2) {\n        pauseTween = _findNextPauseTween(this, _round(prevTime), _round(time));\n\n        if (pauseTween) {\n          tTime -= time - (time = pauseTween._start);\n        }\n      }\n\n      this._tTime = tTime;\n      this._time = time;\n      this._act = !timeScale; //as long as it's not paused, force it to be active so that if the user renders independent of the parent timeline, it'll be forced to re-render on the next tick.\n\n      if (!this._initted) {\n        this._onUpdate = this.vars.onUpdate;\n        this._initted = 1;\n        this._zTime = totalTime;\n        prevTime = 0; // upon init, the playhead should always go forward; someone could invalidate() a completed timeline and then if they restart(), that would make child tweens render in reverse order which could lock in the wrong starting values if they build on each other, like tl.to(obj, {x: 100}).to(obj, {x: 0}).\n      }\n\n      !prevTime && (time || !dur && totalTime >= 0) && !suppressEvents && _callback(this, \"onStart\");\n\n      if (time >= prevTime && totalTime >= 0) {\n        child = this._first;\n\n        while (child) {\n          next = child._next;\n\n          if ((child._act || time >= child._start) && child._ts && pauseTween !== child) {\n            if (child.parent !== this) {\n              // an extreme edge case - the child's render could do something like kill() the \"next\" one in the linked list, or reparent it. In that case we must re-initiate the whole render to be safe.\n              return this.render(totalTime, suppressEvents, force);\n            }\n\n            child.render(child._ts > 0 ? (time - child._start) * child._ts : (child._dirty ? child.totalDuration() : child._tDur) + (time - child._start) * child._ts, suppressEvents, force);\n\n            if (time !== this._time || !this._ts && !prevPaused) {\n              //in case a tween pauses or seeks the timeline when rendering, like inside of an onUpdate/onComplete\n              pauseTween = 0;\n              next && (tTime += this._zTime = -_tinyNum); // it didn't finish rendering, so flag zTime as negative so that so that the next time render() is called it'll be forced (to render any remaining children)\n\n              break;\n            }\n          }\n\n          child = next;\n        }\n      } else {\n        child = this._last;\n        var adjustedTime = totalTime < 0 ? totalTime : time; //when the playhead goes backward beyond the start of this timeline, we must pass that information down to the child animations so that zero-duration tweens know whether to render their starting or ending values.\n\n        while (child) {\n          next = child._prev;\n\n          if ((child._act || adjustedTime <= child._end) && child._ts && pauseTween !== child) {\n            if (child.parent !== this) {\n              // an extreme edge case - the child's render could do something like kill() the \"next\" one in the linked list, or reparent it. In that case we must re-initiate the whole render to be safe.\n              return this.render(totalTime, suppressEvents, force);\n            }\n\n            child.render(child._ts > 0 ? (adjustedTime - child._start) * child._ts : (child._dirty ? child.totalDuration() : child._tDur) + (adjustedTime - child._start) * child._ts, suppressEvents, force);\n\n            if (time !== this._time || !this._ts && !prevPaused) {\n              //in case a tween pauses or seeks the timeline when rendering, like inside of an onUpdate/onComplete\n              pauseTween = 0;\n              next && (tTime += this._zTime = adjustedTime ? -_tinyNum : _tinyNum); // it didn't finish rendering, so adjust zTime so that so that the next time render() is called it'll be forced (to render any remaining children)\n\n              break;\n            }\n          }\n\n          child = next;\n        }\n      }\n\n      if (pauseTween && !suppressEvents) {\n        this.pause();\n        pauseTween.render(time >= prevTime ? 0 : -_tinyNum)._zTime = time >= prevTime ? 1 : -1;\n\n        if (this._ts) {\n          //the callback resumed playback! So since we may have held back the playhead due to where the pause is positioned, go ahead and jump to where it's SUPPOSED to be (if no pause happened).\n          this._start = prevStart; //if the pause was at an earlier time and the user resumed in the callback, it could reposition the timeline (changing its startTime), throwing things off slightly, so we make sure the _start doesn't shift.\n\n          _setEnd(this);\n\n          return this.render(totalTime, suppressEvents, force);\n        }\n      }\n\n      this._onUpdate && !suppressEvents && _callback(this, \"onUpdate\", true);\n      if (tTime === tDur && tDur >= this.totalDuration() || !tTime && prevTime) if (prevStart === this._start || Math.abs(timeScale) !== Math.abs(this._ts)) if (!this._lock) {\n        (totalTime || !dur) && (tTime === tDur && this._ts > 0 || !tTime && this._ts < 0) && _removeFromParent(this, 1); // don't remove if the timeline is reversed and the playhead isn't at 0, otherwise tl.progress(1).reverse() won't work. Only remove if the playhead is at the end and timeScale is positive, or if the playhead is at 0 and the timeScale is negative.\n\n        if (!suppressEvents && !(totalTime < 0 && !prevTime) && (tTime || prevTime)) {\n          _callback(this, tTime === tDur ? \"onComplete\" : \"onReverseComplete\", true);\n\n          this._prom && !(tTime < tDur && this.timeScale() > 0) && this._prom();\n        }\n      }\n    }\n\n    return this;\n  };\n\n  _proto2.add = function add(child, position) {\n    var _this2 = this;\n\n    _isNumber(position) || (position = _parsePosition(this, position));\n\n    if (!(child instanceof Animation)) {\n      if (_isArray(child)) {\n        child.forEach(function (obj) {\n          return _this2.add(obj, position);\n        });\n        return this;\n      }\n\n      if (_isString(child)) {\n        return this.addLabel(child, position);\n      }\n\n      if (_isFunction(child)) {\n        child = Tween.delayedCall(0, child);\n      } else {\n        return this;\n      }\n    }\n\n    return this !== child ? _addToTimeline(this, child, position) : this; //don't allow a timeline to be added to itself as a child!\n  };\n\n  _proto2.getChildren = function getChildren(nested, tweens, timelines, ignoreBeforeTime) {\n    if (nested === void 0) {\n      nested = true;\n    }\n\n    if (tweens === void 0) {\n      tweens = true;\n    }\n\n    if (timelines === void 0) {\n      timelines = true;\n    }\n\n    if (ignoreBeforeTime === void 0) {\n      ignoreBeforeTime = -_bigNum;\n    }\n\n    var a = [],\n        child = this._first;\n\n    while (child) {\n      if (child._start >= ignoreBeforeTime) {\n        if (child instanceof Tween) {\n          tweens && a.push(child);\n        } else {\n          timelines && a.push(child);\n          nested && a.push.apply(a, child.getChildren(true, tweens, timelines));\n        }\n      }\n\n      child = child._next;\n    }\n\n    return a;\n  };\n\n  _proto2.getById = function getById(id) {\n    var animations = this.getChildren(1, 1, 1),\n        i = animations.length;\n\n    while (i--) {\n      if (animations[i].vars.id === id) {\n        return animations[i];\n      }\n    }\n  };\n\n  _proto2.remove = function remove(child) {\n    if (_isString(child)) {\n      return this.removeLabel(child);\n    }\n\n    if (_isFunction(child)) {\n      return this.killTweensOf(child);\n    }\n\n    _removeLinkedListItem(this, child);\n\n    if (child === this._recent) {\n      this._recent = this._last;\n    }\n\n    return _uncache(this);\n  };\n\n  _proto2.totalTime = function totalTime(_totalTime2, suppressEvents) {\n    if (!arguments.length) {\n      return this._tTime;\n    }\n\n    this._forcing = 1;\n\n    if (!this._dp && this._ts) {\n      //special case for the global timeline (or any other that has no parent or detached parent).\n      this._start = _round(_ticker.time - (this._ts > 0 ? _totalTime2 / this._ts : (this.totalDuration() - _totalTime2) / -this._ts));\n    }\n\n    _Animation.prototype.totalTime.call(this, _totalTime2, suppressEvents);\n\n    this._forcing = 0;\n    return this;\n  };\n\n  _proto2.addLabel = function addLabel(label, position) {\n    this.labels[label] = _parsePosition(this, position);\n    return this;\n  };\n\n  _proto2.removeLabel = function removeLabel(label) {\n    delete this.labels[label];\n    return this;\n  };\n\n  _proto2.addPause = function addPause(position, callback, params) {\n    var t = Tween.delayedCall(0, callback || _emptyFunc, params);\n    t.data = \"isPause\";\n    this._hasPause = 1;\n    return _addToTimeline(this, t, _parsePosition(this, position));\n  };\n\n  _proto2.removePause = function removePause(position) {\n    var child = this._first;\n    position = _parsePosition(this, position);\n\n    while (child) {\n      if (child._start === position && child.data === \"isPause\") {\n        _removeFromParent(child);\n      }\n\n      child = child._next;\n    }\n  };\n\n  _proto2.killTweensOf = function killTweensOf(targets, props, onlyActive) {\n    var tweens = this.getTweensOf(targets, onlyActive),\n        i = tweens.length;\n\n    while (i--) {\n      _overwritingTween !== tweens[i] && tweens[i].kill(targets, props);\n    }\n\n    return this;\n  };\n\n  _proto2.getTweensOf = function getTweensOf(targets, onlyActive) {\n    var a = [],\n        parsedTargets = toArray(targets),\n        child = this._first,\n        isGlobalTime = _isNumber(onlyActive),\n        // a number is interpreted as a global time. If the animation spans\n    children;\n\n    while (child) {\n      if (child instanceof Tween) {\n        if (_arrayContainsAny(child._targets, parsedTargets) && (isGlobalTime ? (!_overwritingTween || child._initted && child._ts) && child.globalTime(0) <= onlyActive && child.globalTime(child.totalDuration()) > onlyActive : !onlyActive || child.isActive())) {\n          // note: if this is for overwriting, it should only be for tweens that aren't paused and are initted.\n          a.push(child);\n        }\n      } else if ((children = child.getTweensOf(parsedTargets, onlyActive)).length) {\n        a.push.apply(a, children);\n      }\n\n      child = child._next;\n    }\n\n    return a;\n  } // potential future feature - targets() on timelines\n  // targets() {\n  // \tlet result = [];\n  // \tthis.getChildren(true, true, false).forEach(t => result.push(...t.targets()));\n  // \treturn result;\n  // }\n  ;\n\n  _proto2.tweenTo = function tweenTo(position, vars) {\n    vars = vars || {};\n\n    var tl = this,\n        endTime = _parsePosition(tl, position),\n        _vars = vars,\n        startAt = _vars.startAt,\n        _onStart = _vars.onStart,\n        onStartParams = _vars.onStartParams,\n        immediateRender = _vars.immediateRender,\n        tween = Tween.to(tl, _setDefaults({\n      ease: \"none\",\n      lazy: false,\n      immediateRender: false,\n      time: endTime,\n      overwrite: \"auto\",\n      duration: vars.duration || Math.abs((endTime - (startAt && \"time\" in startAt ? startAt.time : tl._time)) / tl.timeScale()) || _tinyNum,\n      onStart: function onStart() {\n        tl.pause();\n        var duration = vars.duration || Math.abs((endTime - tl._time) / tl.timeScale());\n        tween._dur !== duration && _setDuration(tween, duration, 0, 1).render(tween._time, true, true);\n        _onStart && _onStart.apply(tween, onStartParams || []); //in case the user had an onStart in the vars - we don't want to overwrite it.\n      }\n    }, vars));\n\n    return immediateRender ? tween.render(0) : tween;\n  };\n\n  _proto2.tweenFromTo = function tweenFromTo(fromPosition, toPosition, vars) {\n    return this.tweenTo(toPosition, _setDefaults({\n      startAt: {\n        time: _parsePosition(this, fromPosition)\n      }\n    }, vars));\n  };\n\n  _proto2.recent = function recent() {\n    return this._recent;\n  };\n\n  _proto2.nextLabel = function nextLabel(afterTime) {\n    if (afterTime === void 0) {\n      afterTime = this._time;\n    }\n\n    return _getLabelInDirection(this, _parsePosition(this, afterTime));\n  };\n\n  _proto2.previousLabel = function previousLabel(beforeTime) {\n    if (beforeTime === void 0) {\n      beforeTime = this._time;\n    }\n\n    return _getLabelInDirection(this, _parsePosition(this, beforeTime), 1);\n  };\n\n  _proto2.currentLabel = function currentLabel(value) {\n    return arguments.length ? this.seek(value, true) : this.previousLabel(this._time + _tinyNum);\n  };\n\n  _proto2.shiftChildren = function shiftChildren(amount, adjustLabels, ignoreBeforeTime) {\n    if (ignoreBeforeTime === void 0) {\n      ignoreBeforeTime = 0;\n    }\n\n    var child = this._first,\n        labels = this.labels,\n        p;\n\n    while (child) {\n      if (child._start >= ignoreBeforeTime) {\n        child._start += amount;\n        child._end += amount;\n      }\n\n      child = child._next;\n    }\n\n    if (adjustLabels) {\n      for (p in labels) {\n        if (labels[p] >= ignoreBeforeTime) {\n          labels[p] += amount;\n        }\n      }\n    }\n\n    return _uncache(this);\n  };\n\n  _proto2.invalidate = function invalidate() {\n    var child = this._first;\n    this._lock = 0;\n\n    while (child) {\n      child.invalidate();\n      child = child._next;\n    }\n\n    return _Animation.prototype.invalidate.call(this);\n  };\n\n  _proto2.clear = function clear(includeLabels) {\n    if (includeLabels === void 0) {\n      includeLabels = true;\n    }\n\n    var child = this._first,\n        next;\n\n    while (child) {\n      next = child._next;\n      this.remove(child);\n      child = next;\n    }\n\n    this._dp && (this._time = this._tTime = this._pTime = 0);\n    includeLabels && (this.labels = {});\n    return _uncache(this);\n  };\n\n  _proto2.totalDuration = function totalDuration(value) {\n    var max = 0,\n        self = this,\n        child = self._last,\n        prevStart = _bigNum,\n        prev,\n        start,\n        parent;\n\n    if (arguments.length) {\n      return self.timeScale((self._repeat < 0 ? self.duration() : self.totalDuration()) / (self.reversed() ? -value : value));\n    }\n\n    if (self._dirty) {\n      parent = self.parent;\n\n      while (child) {\n        prev = child._prev; //record it here in case the tween changes position in the sequence...\n\n        child._dirty && child.totalDuration(); //could change the tween._startTime, so make sure the animation's cache is clean before analyzing it.\n\n        start = child._start;\n\n        if (start > prevStart && self._sort && child._ts && !self._lock) {\n          //in case one of the tweens shifted out of order, it needs to be re-inserted into the correct position in the sequence\n          self._lock = 1; //prevent endless recursive calls - there are methods that get triggered that check duration/totalDuration when we add().\n\n          _addToTimeline(self, child, start - child._delay, 1)._lock = 0;\n        } else {\n          prevStart = start;\n        }\n\n        if (start < 0 && child._ts) {\n          //children aren't allowed to have negative startTimes unless smoothChildTiming is true, so adjust here if one is found.\n          max -= start;\n\n          if (!parent && !self._dp || parent && parent.smoothChildTiming) {\n            self._start += start / self._ts;\n            self._time -= start;\n            self._tTime -= start;\n          }\n\n          self.shiftChildren(-start, false, -1e999);\n          prevStart = 0;\n        }\n\n        child._end > max && child._ts && (max = child._end);\n        child = prev;\n      }\n\n      _setDuration(self, self === _globalTimeline && self._time > max ? self._time : max, 1, 1);\n\n      self._dirty = 0;\n    }\n\n    return self._tDur;\n  };\n\n  Timeline.updateRoot = function updateRoot(time) {\n    if (_globalTimeline._ts) {\n      _lazySafeRender(_globalTimeline, _parentToChildTotalTime(time, _globalTimeline));\n\n      _lastRenderedFrame = _ticker.frame;\n    }\n\n    if (_ticker.frame >= _nextGCFrame) {\n      _nextGCFrame += _config.autoSleep || 120;\n      var child = _globalTimeline._first;\n      if (!child || !child._ts) if (_config.autoSleep && _ticker._listeners.length < 2) {\n        while (child && !child._ts) {\n          child = child._next;\n        }\n\n        child || _ticker.sleep();\n      }\n    }\n  };\n\n  return Timeline;\n}(Animation);\n\n_setDefaults(Timeline.prototype, {\n  _lock: 0,\n  _hasPause: 0,\n  _forcing: 0\n});\n\nvar _addComplexStringPropTween = function _addComplexStringPropTween(target, prop, start, end, setter, stringFilter, funcParam) {\n  //note: we call _addComplexStringPropTween.call(tweenInstance...) to ensure that it's scoped properly. We may call it from within a plugin too, thus \"this\" would refer to the plugin.\n  var pt = new PropTween(this._pt, target, prop, 0, 1, _renderComplexString, null, setter),\n      index = 0,\n      matchIndex = 0,\n      result,\n      startNums,\n      color,\n      endNum,\n      chunk,\n      startNum,\n      hasRandom,\n      a;\n  pt.b = start;\n  pt.e = end;\n  start += \"\"; //ensure values are strings\n\n  end += \"\";\n\n  if (hasRandom = ~end.indexOf(\"random(\")) {\n    end = _replaceRandom(end);\n  }\n\n  if (stringFilter) {\n    a = [start, end];\n    stringFilter(a, target, prop); //pass an array with the starting and ending values and let the filter do whatever it needs to the values.\n\n    start = a[0];\n    end = a[1];\n  }\n\n  startNums = start.match(_complexStringNumExp) || [];\n\n  while (result = _complexStringNumExp.exec(end)) {\n    endNum = result[0];\n    chunk = end.substring(index, result.index);\n\n    if (color) {\n      color = (color + 1) % 5;\n    } else if (chunk.substr(-5) === \"rgba(\") {\n      color = 1;\n    }\n\n    if (endNum !== startNums[matchIndex++]) {\n      startNum = parseFloat(startNums[matchIndex - 1]) || 0; //these nested PropTweens are handled in a special way - we'll never actually call a render or setter method on them. We'll just loop through them in the parent complex string PropTween's render method.\n\n      pt._pt = {\n        _next: pt._pt,\n        p: chunk || matchIndex === 1 ? chunk : \",\",\n        //note: SVG spec allows omission of comma/space when a negative sign is wedged between two numbers, like 2.5-5.3 instead of 2.5,-5.3 but when tweening, the negative value may switch to positive, so we insert the comma just in case.\n        s: startNum,\n        c: endNum.charAt(1) === \"=\" ? parseFloat(endNum.substr(2)) * (endNum.charAt(0) === \"-\" ? -1 : 1) : parseFloat(endNum) - startNum,\n        m: color && color < 4 ? Math.round : 0\n      };\n      index = _complexStringNumExp.lastIndex;\n    }\n  }\n\n  pt.c = index < end.length ? end.substring(index, end.length) : \"\"; //we use the \"c\" of the PropTween to store the final part of the string (after the last number)\n\n  pt.fp = funcParam;\n\n  if (_relExp.test(end) || hasRandom) {\n    pt.e = 0; //if the end string contains relative values or dynamic random(...) values, delete the end it so that on the final render we don't actually set it to the string with += or -= characters (forces it to use the calculated value).\n  }\n\n  this._pt = pt; //start the linked list with this new PropTween. Remember, we call _addComplexStringPropTween.call(tweenInstance...) to ensure that it's scoped properly. We may call it from within a plugin too, thus \"this\" would refer to the plugin.\n\n  return pt;\n},\n    _addPropTween = function _addPropTween(target, prop, start, end, index, targets, modifier, stringFilter, funcParam) {\n  _isFunction(end) && (end = end(index || 0, target, targets));\n  var currentValue = target[prop],\n      parsedStart = start !== \"get\" ? start : !_isFunction(currentValue) ? currentValue : funcParam ? target[prop.indexOf(\"set\") || !_isFunction(target[\"get\" + prop.substr(3)]) ? prop : \"get\" + prop.substr(3)](funcParam) : target[prop](),\n      setter = !_isFunction(currentValue) ? _setterPlain : funcParam ? _setterFuncWithParam : _setterFunc,\n      pt;\n\n  if (_isString(end)) {\n    if (~end.indexOf(\"random(\")) {\n      end = _replaceRandom(end);\n    }\n\n    if (end.charAt(1) === \"=\") {\n      end = parseFloat(parsedStart) + parseFloat(end.substr(2)) * (end.charAt(0) === \"-\" ? -1 : 1) + (getUnit(parsedStart) || 0);\n    }\n  }\n\n  if (parsedStart !== end) {\n    if (!isNaN(parsedStart * end)) {\n      pt = new PropTween(this._pt, target, prop, +parsedStart || 0, end - (parsedStart || 0), typeof currentValue === \"boolean\" ? _renderBoolean : _renderPlain, 0, setter);\n      funcParam && (pt.fp = funcParam);\n      modifier && pt.modifier(modifier, this, target);\n      return this._pt = pt;\n    }\n\n    !currentValue && !(prop in target) && _missingPlugin(prop, end);\n    return _addComplexStringPropTween.call(this, target, prop, parsedStart, end, setter, stringFilter || _config.stringFilter, funcParam);\n  }\n},\n    //creates a copy of the vars object and processes any function-based values (putting the resulting values directly into the copy) as well as strings with \"random()\" in them. It does NOT process relative values.\n_processVars = function _processVars(vars, index, target, targets, tween) {\n  _isFunction(vars) && (vars = _parseFuncOrString(vars, tween, index, target, targets));\n\n  if (!_isObject(vars) || vars.style && vars.nodeType || _isArray(vars) || _isTypedArray(vars)) {\n    return _isString(vars) ? _parseFuncOrString(vars, tween, index, target, targets) : vars;\n  }\n\n  var copy = {},\n      p;\n\n  for (p in vars) {\n    copy[p] = _parseFuncOrString(vars[p], tween, index, target, targets);\n  }\n\n  return copy;\n},\n    _checkPlugin = function _checkPlugin(property, vars, tween, index, target, targets) {\n  var plugin, pt, ptLookup, i;\n\n  if (_plugins[property] && (plugin = new _plugins[property]()).init(target, plugin.rawVars ? vars[property] : _processVars(vars[property], index, target, targets, tween), tween, index, targets) !== false) {\n    tween._pt = pt = new PropTween(tween._pt, target, property, 0, 1, plugin.render, plugin, 0, plugin.priority);\n\n    if (tween !== _quickTween) {\n      ptLookup = tween._ptLookup[tween._targets.indexOf(target)]; //note: we can't use tween._ptLookup[index] because for staggered tweens, the index from the fullTargets array won't match what it is in each individual tween that spawns from the stagger.\n\n      i = plugin._props.length;\n\n      while (i--) {\n        ptLookup[plugin._props[i]] = pt;\n      }\n    }\n  }\n\n  return plugin;\n},\n    _overwritingTween,\n    //store a reference temporarily so we can avoid overwriting itself.\n_initTween = function _initTween(tween, time) {\n  var vars = tween.vars,\n      ease = vars.ease,\n      startAt = vars.startAt,\n      immediateRender = vars.immediateRender,\n      lazy = vars.lazy,\n      onUpdate = vars.onUpdate,\n      onUpdateParams = vars.onUpdateParams,\n      callbackScope = vars.callbackScope,\n      runBackwards = vars.runBackwards,\n      yoyoEase = vars.yoyoEase,\n      keyframes = vars.keyframes,\n      autoRevert = vars.autoRevert,\n      dur = tween._dur,\n      prevStartAt = tween._startAt,\n      targets = tween._targets,\n      parent = tween.parent,\n      fullTargets = parent && parent.data === \"nested\" ? parent.parent._targets : targets,\n      autoOverwrite = tween._overwrite === \"auto\" && !_suppressOverwrites,\n      tl = tween.timeline,\n      cleanVars,\n      i,\n      p,\n      pt,\n      target,\n      hasPriority,\n      gsData,\n      harness,\n      plugin,\n      ptLookup,\n      index,\n      harnessVars,\n      overwritten;\n  tl && (!keyframes || !ease) && (ease = \"none\");\n  tween._ease = _parseEase(ease, _defaults.ease);\n  tween._yEase = yoyoEase ? _invertEase(_parseEase(yoyoEase === true ? ease : yoyoEase, _defaults.ease)) : 0;\n\n  if (yoyoEase && tween._yoyo && !tween._repeat) {\n    //there must have been a parent timeline with yoyo:true that is currently in its yoyo phase, so flip the eases.\n    yoyoEase = tween._yEase;\n    tween._yEase = tween._ease;\n    tween._ease = yoyoEase;\n  }\n\n  if (!tl) {\n    //if there's an internal timeline, skip all the parsing because we passed that task down the chain.\n    harness = targets[0] ? _getCache(targets[0]).harness : 0;\n    harnessVars = harness && vars[harness.prop]; //someone may need to specify CSS-specific values AND non-CSS values, like if the element has an \"x\" property plus it's a standard DOM element. We allow people to distinguish by wrapping plugin-specific stuff in a css:{} object for example.\n\n    cleanVars = _copyExcluding(vars, _reservedProps);\n    prevStartAt && prevStartAt.render(-1, true).kill();\n\n    if (startAt) {\n      _removeFromParent(tween._startAt = Tween.set(targets, _setDefaults({\n        data: \"isStart\",\n        overwrite: false,\n        parent: parent,\n        immediateRender: true,\n        lazy: _isNotFalse(lazy),\n        startAt: null,\n        delay: 0,\n        onUpdate: onUpdate,\n        onUpdateParams: onUpdateParams,\n        callbackScope: callbackScope,\n        stagger: 0\n      }, startAt))); //copy the properties/values into a new object to avoid collisions, like var to = {x:0}, from = {x:500}; timeline.fromTo(e, from, to).fromTo(e, to, from);\n\n\n      if (immediateRender) {\n        if (time > 0) {\n          autoRevert || (tween._startAt = 0); //tweens that render immediately (like most from() and fromTo() tweens) shouldn't revert when their parent timeline's playhead goes backward past the startTime because the initial render could have happened anytime and it shouldn't be directly correlated to this tween's startTime. Imagine setting up a complex animation where the beginning states of various objects are rendered immediately but the tween doesn't happen for quite some time - if we revert to the starting values as soon as the playhead goes backward past the tween's startTime, it will throw things off visually. Reversion should only happen in Timeline instances where immediateRender was false or when autoRevert is explicitly set to true.\n        } else if (dur && !(time < 0 && prevStartAt)) {\n          time && (tween._zTime = time);\n          return; //we skip initialization here so that overwriting doesn't occur until the tween actually begins. Otherwise, if you create several immediateRender:true tweens of the same target/properties to drop into a Timeline, the last one created would overwrite the first ones because they didn't get placed into the timeline yet before the first render occurs and kicks in overwriting.\n        }\n      }\n    } else if (runBackwards && dur) {\n      //from() tweens must be handled uniquely: their beginning values must be rendered but we don't want overwriting to occur yet (when time is still 0). Wait until the tween actually begins before doing all the routines like overwriting. At that time, we should render at the END of the tween to ensure that things initialize correctly (remember, from() tweens go backwards)\n      if (prevStartAt) {\n        !autoRevert && (tween._startAt = 0);\n      } else {\n        time && (immediateRender = false); //in rare cases (like if a from() tween runs and then is invalidate()-ed), immediateRender could be true but the initial forced-render gets skipped, so there's no need to force the render in this context when the _time is greater than 0\n\n        p = _setDefaults({\n          overwrite: false,\n          data: \"isFromStart\",\n          //we tag the tween with as \"isFromStart\" so that if [inside a plugin] we need to only do something at the very END of a tween, we have a way of identifying this tween as merely the one that's setting the beginning values for a \"from()\" tween. For example, clearProps in CSSPlugin should only get applied at the very END of a tween and without this tag, from(...{height:100, clearProps:\"height\", delay:1}) would wipe the height at the beginning of the tween and after 1 second, it'd kick back in.\n          lazy: immediateRender && _isNotFalse(lazy),\n          immediateRender: immediateRender,\n          //zero-duration tweens render immediately by default, but if we're not specifically instructed to render this tween immediately, we should skip this and merely _init() to record the starting values (rendering them immediately would push them to completion which is wasteful in that case - we'd have to render(-1) immediately after)\n          stagger: 0,\n          parent: parent //ensures that nested tweens that had a stagger are handled properly, like gsap.from(\".class\", {y:gsap.utils.wrap([-100,100])})\n\n        }, cleanVars);\n        harnessVars && (p[harness.prop] = harnessVars); // in case someone does something like .from(..., {css:{}})\n\n        _removeFromParent(tween._startAt = Tween.set(targets, p));\n\n        if (!immediateRender) {\n          _initTween(tween._startAt, _tinyNum); //ensures that the initial values are recorded\n\n        } else if (!time) {\n          return;\n        }\n      }\n    }\n\n    tween._pt = 0;\n    lazy = dur && _isNotFalse(lazy) || lazy && !dur;\n\n    for (i = 0; i < targets.length; i++) {\n      target = targets[i];\n      gsData = target._gsap || _harness(targets)[i]._gsap;\n      tween._ptLookup[i] = ptLookup = {};\n      _lazyLookup[gsData.id] && _lazyTweens.length && _lazyRender(); //if other tweens of the same target have recently initted but haven't rendered yet, we've got to force the render so that the starting values are correct (imagine populating a timeline with a bunch of sequential tweens and then jumping to the end)\n\n      index = fullTargets === targets ? i : fullTargets.indexOf(target);\n\n      if (harness && (plugin = new harness()).init(target, harnessVars || cleanVars, tween, index, fullTargets) !== false) {\n        tween._pt = pt = new PropTween(tween._pt, target, plugin.name, 0, 1, plugin.render, plugin, 0, plugin.priority);\n\n        plugin._props.forEach(function (name) {\n          ptLookup[name] = pt;\n        });\n\n        plugin.priority && (hasPriority = 1);\n      }\n\n      if (!harness || harnessVars) {\n        for (p in cleanVars) {\n          if (_plugins[p] && (plugin = _checkPlugin(p, cleanVars, tween, index, target, fullTargets))) {\n            plugin.priority && (hasPriority = 1);\n          } else {\n            ptLookup[p] = pt = _addPropTween.call(tween, target, p, \"get\", cleanVars[p], index, fullTargets, 0, vars.stringFilter);\n          }\n        }\n      }\n\n      tween._op && tween._op[i] && tween.kill(target, tween._op[i]);\n\n      if (autoOverwrite && tween._pt) {\n        _overwritingTween = tween;\n\n        _globalTimeline.killTweensOf(target, ptLookup, tween.globalTime(0)); //Also make sure the overwriting doesn't overwrite THIS tween!!!\n\n\n        overwritten = !tween.parent;\n        _overwritingTween = 0;\n      }\n\n      tween._pt && lazy && (_lazyLookup[gsData.id] = 1);\n    }\n\n    hasPriority && _sortPropTweensByPriority(tween);\n    tween._onInit && tween._onInit(tween); //plugins like RoundProps must wait until ALL of the PropTweens are instantiated. In the plugin's init() function, it sets the _onInit on the tween instance. May not be pretty/intuitive, but it's fast and keeps file size down.\n  }\n\n  tween._from = !tl && !!vars.runBackwards; //nested timelines should never run backwards - the backwards-ness is in the child tweens.\n\n  tween._onUpdate = onUpdate;\n  tween._initted = (!tween._op || tween._pt) && !overwritten; // if overwrittenProps resulted in the entire tween being killed, do NOT flag it as initted or else it may render for one tick.\n},\n    _addAliasesToVars = function _addAliasesToVars(targets, vars) {\n  var harness = targets[0] ? _getCache(targets[0]).harness : 0,\n      propertyAliases = harness && harness.aliases,\n      copy,\n      p,\n      i,\n      aliases;\n\n  if (!propertyAliases) {\n    return vars;\n  }\n\n  copy = _merge({}, vars);\n\n  for (p in propertyAliases) {\n    if (p in copy) {\n      aliases = propertyAliases[p].split(\",\");\n      i = aliases.length;\n\n      while (i--) {\n        copy[aliases[i]] = copy[p];\n      }\n    }\n  }\n\n  return copy;\n},\n    _parseFuncOrString = function _parseFuncOrString(value, tween, i, target, targets) {\n  return _isFunction(value) ? value.call(tween, i, target, targets) : _isString(value) && ~value.indexOf(\"random(\") ? _replaceRandom(value) : value;\n},\n    _staggerTweenProps = _callbackNames + \"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase\",\n    _staggerPropsToSkip = (_staggerTweenProps + \",id,stagger,delay,duration,paused,scrollTrigger\").split(\",\");\n/*\n * --------------------------------------------------------------------------------------\n * TWEEN\n * --------------------------------------------------------------------------------------\n */\n\n\nexport var Tween = /*#__PURE__*/function (_Animation2) {\n  _inheritsLoose(Tween, _Animation2);\n\n  function Tween(targets, vars, time, skipInherit) {\n    var _this3;\n\n    if (typeof vars === \"number\") {\n      time.duration = vars;\n      vars = time;\n      time = null;\n    }\n\n    _this3 = _Animation2.call(this, skipInherit ? vars : _inheritDefaults(vars), time) || this;\n    var _this3$vars = _this3.vars,\n        duration = _this3$vars.duration,\n        delay = _this3$vars.delay,\n        immediateRender = _this3$vars.immediateRender,\n        stagger = _this3$vars.stagger,\n        overwrite = _this3$vars.overwrite,\n        keyframes = _this3$vars.keyframes,\n        defaults = _this3$vars.defaults,\n        scrollTrigger = _this3$vars.scrollTrigger,\n        yoyoEase = _this3$vars.yoyoEase,\n        parent = _this3.parent,\n        parsedTargets = (_isArray(targets) || _isTypedArray(targets) ? _isNumber(targets[0]) : \"length\" in vars) ? [targets] : toArray(targets),\n        tl,\n        i,\n        copy,\n        l,\n        p,\n        curTarget,\n        staggerFunc,\n        staggerVarsToMerge;\n    _this3._targets = parsedTargets.length ? _harness(parsedTargets) : _warn(\"GSAP target \" + targets + \" not found. https://greensock.com\", !_config.nullTargetWarn) || [];\n    _this3._ptLookup = []; //PropTween lookup. An array containing an object for each target, having keys for each tweening property\n\n    _this3._overwrite = overwrite;\n\n    if (keyframes || stagger || _isFuncOrString(duration) || _isFuncOrString(delay)) {\n      vars = _this3.vars;\n      tl = _this3.timeline = new Timeline({\n        data: \"nested\",\n        defaults: defaults || {}\n      });\n      tl.kill();\n      tl.parent = tl._dp = _assertThisInitialized(_this3);\n      tl._start = 0;\n\n      if (keyframes) {\n        _setDefaults(tl.vars.defaults, {\n          ease: \"none\"\n        });\n\n        keyframes.forEach(function (frame) {\n          return tl.to(parsedTargets, frame, \">\");\n        });\n      } else {\n        l = parsedTargets.length;\n        staggerFunc = stagger ? distribute(stagger) : _emptyFunc;\n\n        if (_isObject(stagger)) {\n          //users can pass in callbacks like onStart/onComplete in the stagger object. These should fire with each individual tween.\n          for (p in stagger) {\n            if (~_staggerTweenProps.indexOf(p)) {\n              staggerVarsToMerge || (staggerVarsToMerge = {});\n              staggerVarsToMerge[p] = stagger[p];\n            }\n          }\n        }\n\n        for (i = 0; i < l; i++) {\n          copy = {};\n\n          for (p in vars) {\n            if (_staggerPropsToSkip.indexOf(p) < 0) {\n              copy[p] = vars[p];\n            }\n          }\n\n          copy.stagger = 0;\n          yoyoEase && (copy.yoyoEase = yoyoEase);\n          staggerVarsToMerge && _merge(copy, staggerVarsToMerge);\n          curTarget = parsedTargets[i]; //don't just copy duration or delay because if they're a string or function, we'd end up in an infinite loop because _isFuncOrString() would evaluate as true in the child tweens, entering this loop, etc. So we parse the value straight from vars and default to 0.\n\n          copy.duration = +_parseFuncOrString(duration, _assertThisInitialized(_this3), i, curTarget, parsedTargets);\n          copy.delay = (+_parseFuncOrString(delay, _assertThisInitialized(_this3), i, curTarget, parsedTargets) || 0) - _this3._delay;\n\n          if (!stagger && l === 1 && copy.delay) {\n            // if someone does delay:\"random(1, 5)\", repeat:-1, for example, the delay shouldn't be inside the repeat.\n            _this3._delay = delay = copy.delay;\n            _this3._start += delay;\n            copy.delay = 0;\n          }\n\n          tl.to(curTarget, copy, staggerFunc(i, curTarget, parsedTargets));\n        }\n\n        tl.duration() ? duration = delay = 0 : _this3.timeline = 0; // if the timeline's duration is 0, we don't need a timeline internally!\n      }\n\n      duration || _this3.duration(duration = tl.duration());\n    } else {\n      _this3.timeline = 0; //speed optimization, faster lookups (no going up the prototype chain)\n    }\n\n    if (overwrite === true && !_suppressOverwrites) {\n      _overwritingTween = _assertThisInitialized(_this3);\n\n      _globalTimeline.killTweensOf(parsedTargets);\n\n      _overwritingTween = 0;\n    }\n\n    parent && _postAddChecks(parent, _assertThisInitialized(_this3));\n\n    if (immediateRender || !duration && !keyframes && _this3._start === _round(parent._time) && _isNotFalse(immediateRender) && _hasNoPausedAncestors(_assertThisInitialized(_this3)) && parent.data !== \"nested\") {\n      _this3._tTime = -_tinyNum; //forces a render without having to set the render() \"force\" parameter to true because we want to allow lazying by default (using the \"force\" parameter always forces an immediate full render)\n\n      _this3.render(Math.max(0, -delay)); //in case delay is negative\n\n    }\n\n    scrollTrigger && _scrollTrigger(_assertThisInitialized(_this3), scrollTrigger);\n    return _this3;\n  }\n\n  var _proto3 = Tween.prototype;\n\n  _proto3.render = function render(totalTime, suppressEvents, force) {\n    var prevTime = this._time,\n        tDur = this._tDur,\n        dur = this._dur,\n        tTime = totalTime > tDur - _tinyNum && totalTime >= 0 ? tDur : totalTime < _tinyNum ? 0 : totalTime,\n        time,\n        pt,\n        iteration,\n        cycleDuration,\n        prevIteration,\n        isYoyo,\n        ratio,\n        timeline,\n        yoyoEase;\n\n    if (!dur) {\n      _renderZeroDurationTween(this, totalTime, suppressEvents, force);\n    } else if (tTime !== this._tTime || !totalTime || force || !this._initted && this._tTime || this._startAt && this._zTime < 0 !== totalTime < 0) {\n      //this senses if we're crossing over the start time, in which case we must record _zTime and force the render, but we do it in this lengthy conditional way for performance reasons (usually we can skip the calculations): this._initted && (this._zTime < 0) !== (totalTime < 0)\n      time = tTime;\n      timeline = this.timeline;\n\n      if (this._repeat) {\n        //adjust the time for repeats and yoyos\n        cycleDuration = dur + this._rDelay;\n\n        if (this._repeat < -1 && totalTime < 0) {\n          return this.totalTime(cycleDuration * 100 + totalTime, suppressEvents, force);\n        }\n\n        time = _round(tTime % cycleDuration); //round to avoid floating point errors. (4 % 0.8 should be 0 but some browsers report it as 0.79999999!)\n\n        if (tTime === tDur) {\n          // the tDur === tTime is for edge cases where there's a lengthy decimal on the duration and it may reach the very end but the time is rendered as not-quite-there (remember, tDur is rounded to 4 decimals whereas dur isn't)\n          iteration = this._repeat;\n          time = dur;\n        } else {\n          iteration = ~~(tTime / cycleDuration);\n\n          if (iteration && iteration === tTime / cycleDuration) {\n            time = dur;\n            iteration--;\n          }\n\n          time > dur && (time = dur);\n        }\n\n        isYoyo = this._yoyo && iteration & 1;\n\n        if (isYoyo) {\n          yoyoEase = this._yEase;\n          time = dur - time;\n        }\n\n        prevIteration = _animationCycle(this._tTime, cycleDuration);\n\n        if (time === prevTime && !force && this._initted) {\n          //could be during the repeatDelay part. No need to render and fire callbacks.\n          return this;\n        }\n\n        if (iteration !== prevIteration) {\n          timeline && this._yEase && _propagateYoyoEase(timeline, isYoyo); //repeatRefresh functionality\n\n          if (this.vars.repeatRefresh && !isYoyo && !this._lock) {\n            this._lock = force = 1; //force, otherwise if lazy is true, the _attemptInitTween() will return and we'll jump out and get caught bouncing on each tick.\n\n            this.render(_round(cycleDuration * iteration), true).invalidate()._lock = 0;\n          }\n        }\n      }\n\n      if (!this._initted) {\n        if (_attemptInitTween(this, totalTime < 0 ? totalTime : time, force, suppressEvents)) {\n          this._tTime = 0; // in constructor if immediateRender is true, we set _tTime to -_tinyNum to have the playhead cross the starting point but we can't leave _tTime as a negative number.\n\n          return this;\n        }\n\n        if (dur !== this._dur) {\n          // while initting, a plugin like InertiaPlugin might alter the duration, so rerun from the start to ensure everything renders as it should.\n          return this.render(totalTime, suppressEvents, force);\n        }\n      }\n\n      this._tTime = tTime;\n      this._time = time;\n\n      if (!this._act && this._ts) {\n        this._act = 1; //as long as it's not paused, force it to be active so that if the user renders independent of the parent timeline, it'll be forced to re-render on the next tick.\n\n        this._lazy = 0;\n      }\n\n      this.ratio = ratio = (yoyoEase || this._ease)(time / dur);\n\n      if (this._from) {\n        this.ratio = ratio = 1 - ratio;\n      }\n\n      time && !prevTime && !suppressEvents && _callback(this, \"onStart\");\n      pt = this._pt;\n\n      while (pt) {\n        pt.r(ratio, pt.d);\n        pt = pt._next;\n      }\n\n      timeline && timeline.render(totalTime < 0 ? totalTime : !time && isYoyo ? -_tinyNum : timeline._dur * ratio, suppressEvents, force) || this._startAt && (this._zTime = totalTime);\n\n      if (this._onUpdate && !suppressEvents) {\n        totalTime < 0 && this._startAt && this._startAt.render(totalTime, true, force); //note: for performance reasons, we tuck this conditional logic inside less traveled areas (most tweens don't have an onUpdate). We'd just have it at the end before the onComplete, but the values should be updated before any onUpdate is called, so we ALSO put it here and then if it's not called, we do so later near the onComplete.\n\n        _callback(this, \"onUpdate\");\n      }\n\n      this._repeat && iteration !== prevIteration && this.vars.onRepeat && !suppressEvents && this.parent && _callback(this, \"onRepeat\");\n\n      if ((tTime === this._tDur || !tTime) && this._tTime === tTime) {\n        totalTime < 0 && this._startAt && !this._onUpdate && this._startAt.render(totalTime, true, true);\n        (totalTime || !dur) && (tTime === this._tDur && this._ts > 0 || !tTime && this._ts < 0) && _removeFromParent(this, 1); // don't remove if we're rendering at exactly a time of 0, as there could be autoRevert values that should get set on the next tick (if the playhead goes backward beyond the startTime, negative totalTime). Don't remove if the timeline is reversed and the playhead isn't at 0, otherwise tl.progress(1).reverse() won't work. Only remove if the playhead is at the end and timeScale is positive, or if the playhead is at 0 and the timeScale is negative.\n\n        if (!suppressEvents && !(totalTime < 0 && !prevTime) && (tTime || prevTime)) {\n          // if prevTime and tTime are zero, we shouldn't fire the onReverseComplete. This could happen if you gsap.to(... {paused:true}).play();\n          _callback(this, tTime === tDur ? \"onComplete\" : \"onReverseComplete\", true);\n\n          this._prom && !(tTime < tDur && this.timeScale() > 0) && this._prom();\n        }\n      }\n    }\n\n    return this;\n  };\n\n  _proto3.targets = function targets() {\n    return this._targets;\n  };\n\n  _proto3.invalidate = function invalidate() {\n    this._pt = this._op = this._startAt = this._onUpdate = this._lazy = this.ratio = 0;\n    this._ptLookup = [];\n    this.timeline && this.timeline.invalidate();\n    return _Animation2.prototype.invalidate.call(this);\n  };\n\n  _proto3.kill = function kill(targets, vars) {\n    if (vars === void 0) {\n      vars = \"all\";\n    }\n\n    if (!targets && (!vars || vars === \"all\")) {\n      this._lazy = this._pt = 0;\n      return this.parent ? _interrupt(this) : this;\n    }\n\n    if (this.timeline) {\n      var tDur = this.timeline.totalDuration();\n      this.timeline.killTweensOf(targets, vars, _overwritingTween && _overwritingTween.vars.overwrite !== true)._first || _interrupt(this); // if nothing is left tweening, interrupt.\n\n      this.parent && tDur !== this.timeline.totalDuration() && _setDuration(this, this._dur * this.timeline._tDur / tDur, 0, 1); // if a nested tween is killed that changes the duration, it should affect this tween's duration. We must use the ratio, though, because sometimes the internal timeline is stretched like for keyframes where they don't all add up to whatever the parent tween's duration was set to.\n\n      return this;\n    }\n\n    var parsedTargets = this._targets,\n        killingTargets = targets ? toArray(targets) : parsedTargets,\n        propTweenLookup = this._ptLookup,\n        firstPT = this._pt,\n        overwrittenProps,\n        curLookup,\n        curOverwriteProps,\n        props,\n        p,\n        pt,\n        i;\n\n    if ((!vars || vars === \"all\") && _arraysMatch(parsedTargets, killingTargets)) {\n      vars === \"all\" && (this._pt = 0);\n      return _interrupt(this);\n    }\n\n    overwrittenProps = this._op = this._op || [];\n\n    if (vars !== \"all\") {\n      //so people can pass in a comma-delimited list of property names\n      if (_isString(vars)) {\n        p = {};\n\n        _forEachName(vars, function (name) {\n          return p[name] = 1;\n        });\n\n        vars = p;\n      }\n\n      vars = _addAliasesToVars(parsedTargets, vars);\n    }\n\n    i = parsedTargets.length;\n\n    while (i--) {\n      if (~killingTargets.indexOf(parsedTargets[i])) {\n        curLookup = propTweenLookup[i];\n\n        if (vars === \"all\") {\n          overwrittenProps[i] = vars;\n          props = curLookup;\n          curOverwriteProps = {};\n        } else {\n          curOverwriteProps = overwrittenProps[i] = overwrittenProps[i] || {};\n          props = vars;\n        }\n\n        for (p in props) {\n          pt = curLookup && curLookup[p];\n\n          if (pt) {\n            if (!(\"kill\" in pt.d) || pt.d.kill(p) === true) {\n              _removeLinkedListItem(this, pt, \"_pt\");\n            }\n\n            delete curLookup[p];\n          }\n\n          if (curOverwriteProps !== \"all\") {\n            curOverwriteProps[p] = 1;\n          }\n        }\n      }\n    }\n\n    this._initted && !this._pt && firstPT && _interrupt(this); //if all tweening properties are killed, kill the tween. Without this line, if there's a tween with multiple targets and then you killTweensOf() each target individually, the tween would technically still remain active and fire its onComplete even though there aren't any more properties tweening.\n\n    return this;\n  };\n\n  Tween.to = function to(targets, vars) {\n    return new Tween(targets, vars, arguments[2]);\n  };\n\n  Tween.from = function from(targets, vars) {\n    return new Tween(targets, _parseVars(arguments, 1));\n  };\n\n  Tween.delayedCall = function delayedCall(delay, callback, params, scope) {\n    return new Tween(callback, 0, {\n      immediateRender: false,\n      lazy: false,\n      overwrite: false,\n      delay: delay,\n      onComplete: callback,\n      onReverseComplete: callback,\n      onCompleteParams: params,\n      onReverseCompleteParams: params,\n      callbackScope: scope\n    });\n  };\n\n  Tween.fromTo = function fromTo(targets, fromVars, toVars) {\n    return new Tween(targets, _parseVars(arguments, 2));\n  };\n\n  Tween.set = function set(targets, vars) {\n    vars.duration = 0;\n    vars.repeatDelay || (vars.repeat = 0);\n    return new Tween(targets, vars);\n  };\n\n  Tween.killTweensOf = function killTweensOf(targets, props, onlyActive) {\n    return _globalTimeline.killTweensOf(targets, props, onlyActive);\n  };\n\n  return Tween;\n}(Animation);\n\n_setDefaults(Tween.prototype, {\n  _targets: [],\n  _lazy: 0,\n  _startAt: 0,\n  _op: 0,\n  _onInit: 0\n}); //add the pertinent timeline methods to Tween instances so that users can chain conveniently and create a timeline automatically. (removed due to concerns that it'd ultimately add to more confusion especially for beginners)\n// _forEachName(\"to,from,fromTo,set,call,add,addLabel,addPause\", name => {\n// \tTween.prototype[name] = function() {\n// \t\tlet tl = new Timeline();\n// \t\treturn _addToTimeline(tl, this)[name].apply(tl, toArray(arguments));\n// \t}\n// });\n//for backward compatibility. Leverage the timeline calls.\n\n\n_forEachName(\"staggerTo,staggerFrom,staggerFromTo\", function (name) {\n  Tween[name] = function () {\n    var tl = new Timeline(),\n        params = _slice.call(arguments, 0);\n\n    params.splice(name === \"staggerFromTo\" ? 5 : 4, 0, 0);\n    return tl[name].apply(tl, params);\n  };\n});\n/*\n * --------------------------------------------------------------------------------------\n * PROPTWEEN\n * --------------------------------------------------------------------------------------\n */\n\n\nvar _setterPlain = function _setterPlain(target, property, value) {\n  return target[property] = value;\n},\n    _setterFunc = function _setterFunc(target, property, value) {\n  return target[property](value);\n},\n    _setterFuncWithParam = function _setterFuncWithParam(target, property, value, data) {\n  return target[property](data.fp, value);\n},\n    _setterAttribute = function _setterAttribute(target, property, value) {\n  return target.setAttribute(property, value);\n},\n    _getSetter = function _getSetter(target, property) {\n  return _isFunction(target[property]) ? _setterFunc : _isUndefined(target[property]) && target.setAttribute ? _setterAttribute : _setterPlain;\n},\n    _renderPlain = function _renderPlain(ratio, data) {\n  return data.set(data.t, data.p, Math.round((data.s + data.c * ratio) * 10000) / 10000, data);\n},\n    _renderBoolean = function _renderBoolean(ratio, data) {\n  return data.set(data.t, data.p, !!(data.s + data.c * ratio), data);\n},\n    _renderComplexString = function _renderComplexString(ratio, data) {\n  var pt = data._pt,\n      s = \"\";\n\n  if (!ratio && data.b) {\n    //b = beginning string\n    s = data.b;\n  } else if (ratio === 1 && data.e) {\n    //e = ending string\n    s = data.e;\n  } else {\n    while (pt) {\n      s = pt.p + (pt.m ? pt.m(pt.s + pt.c * ratio) : Math.round((pt.s + pt.c * ratio) * 10000) / 10000) + s; //we use the \"p\" property for the text inbetween (like a suffix). And in the context of a complex string, the modifier (m) is typically just Math.round(), like for RGB colors.\n\n      pt = pt._next;\n    }\n\n    s += data.c; //we use the \"c\" of the PropTween to store the final chunk of non-numeric text.\n  }\n\n  data.set(data.t, data.p, s, data);\n},\n    _renderPropTweens = function _renderPropTweens(ratio, data) {\n  var pt = data._pt;\n\n  while (pt) {\n    pt.r(ratio, pt.d);\n    pt = pt._next;\n  }\n},\n    _addPluginModifier = function _addPluginModifier(modifier, tween, target, property) {\n  var pt = this._pt,\n      next;\n\n  while (pt) {\n    next = pt._next;\n    pt.p === property && pt.modifier(modifier, tween, target);\n    pt = next;\n  }\n},\n    _killPropTweensOf = function _killPropTweensOf(property) {\n  var pt = this._pt,\n      hasNonDependentRemaining,\n      next;\n\n  while (pt) {\n    next = pt._next;\n\n    if (pt.p === property && !pt.op || pt.op === property) {\n      _removeLinkedListItem(this, pt, \"_pt\");\n    } else if (!pt.dep) {\n      hasNonDependentRemaining = 1;\n    }\n\n    pt = next;\n  }\n\n  return !hasNonDependentRemaining;\n},\n    _setterWithModifier = function _setterWithModifier(target, property, value, data) {\n  data.mSet(target, property, data.m.call(data.tween, value, data.mt), data);\n},\n    _sortPropTweensByPriority = function _sortPropTweensByPriority(parent) {\n  var pt = parent._pt,\n      next,\n      pt2,\n      first,\n      last; //sorts the PropTween linked list in order of priority because some plugins need to do their work after ALL of the PropTweens were created (like RoundPropsPlugin and ModifiersPlugin)\n\n  while (pt) {\n    next = pt._next;\n    pt2 = first;\n\n    while (pt2 && pt2.pr > pt.pr) {\n      pt2 = pt2._next;\n    }\n\n    if (pt._prev = pt2 ? pt2._prev : last) {\n      pt._prev._next = pt;\n    } else {\n      first = pt;\n    }\n\n    if (pt._next = pt2) {\n      pt2._prev = pt;\n    } else {\n      last = pt;\n    }\n\n    pt = next;\n  }\n\n  parent._pt = first;\n}; //PropTween key: t = target, p = prop, r = renderer, d = data, s = start, c = change, op = overwriteProperty (ONLY populated when it's different than p), pr = priority, _next/_prev for the linked list siblings, set = setter, m = modifier, mSet = modifierSetter (the original setter, before a modifier was added)\n\n\nexport var PropTween = /*#__PURE__*/function () {\n  function PropTween(next, target, prop, start, change, renderer, data, setter, priority) {\n    this.t = target;\n    this.s = start;\n    this.c = change;\n    this.p = prop;\n    this.r = renderer || _renderPlain;\n    this.d = data || this;\n    this.set = setter || _setterPlain;\n    this.pr = priority || 0;\n    this._next = next;\n\n    if (next) {\n      next._prev = this;\n    }\n  }\n\n  var _proto4 = PropTween.prototype;\n\n  _proto4.modifier = function modifier(func, tween, target) {\n    this.mSet = this.mSet || this.set; //in case it was already set (a PropTween can only have one modifier)\n\n    this.set = _setterWithModifier;\n    this.m = func;\n    this.mt = target; //modifier target\n\n    this.tween = tween;\n  };\n\n  return PropTween;\n}(); //Initialization tasks\n\n_forEachName(_callbackNames + \"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger\", function (name) {\n  return _reservedProps[name] = 1;\n});\n\n_globals.TweenMax = _globals.TweenLite = Tween;\n_globals.TimelineLite = _globals.TimelineMax = Timeline;\n_globalTimeline = new Timeline({\n  sortChildren: false,\n  defaults: _defaults,\n  autoRemoveChildren: true,\n  id: \"root\",\n  smoothChildTiming: true\n});\n_config.stringFilter = _colorStringFilter;\n/*\n * --------------------------------------------------------------------------------------\n * GSAP\n * --------------------------------------------------------------------------------------\n */\n\nvar _gsap = {\n  registerPlugin: function registerPlugin() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    args.forEach(function (config) {\n      return _createPlugin(config);\n    });\n  },\n  timeline: function timeline(vars) {\n    return new Timeline(vars);\n  },\n  getTweensOf: function getTweensOf(targets, onlyActive) {\n    return _globalTimeline.getTweensOf(targets, onlyActive);\n  },\n  getProperty: function getProperty(target, property, unit, uncache) {\n    _isString(target) && (target = toArray(target)[0]); //in case selector text or an array is passed in\n\n    var getter = _getCache(target || {}).get,\n        format = unit ? _passThrough : _numericIfPossible;\n\n    unit === \"native\" && (unit = \"\");\n    return !target ? target : !property ? function (property, unit, uncache) {\n      return format((_plugins[property] && _plugins[property].get || getter)(target, property, unit, uncache));\n    } : format((_plugins[property] && _plugins[property].get || getter)(target, property, unit, uncache));\n  },\n  quickSetter: function quickSetter(target, property, unit) {\n    target = toArray(target);\n\n    if (target.length > 1) {\n      var setters = target.map(function (t) {\n        return gsap.quickSetter(t, property, unit);\n      }),\n          l = setters.length;\n      return function (value) {\n        var i = l;\n\n        while (i--) {\n          setters[i](value);\n        }\n      };\n    }\n\n    target = target[0] || {};\n\n    var Plugin = _plugins[property],\n        cache = _getCache(target),\n        p = cache.harness && (cache.harness.aliases || {})[property] || property,\n        // in case it's an alias, like \"rotate\" for \"rotation\".\n    setter = Plugin ? function (value) {\n      var p = new Plugin();\n      _quickTween._pt = 0;\n      p.init(target, unit ? value + unit : value, _quickTween, 0, [target]);\n      p.render(1, p);\n      _quickTween._pt && _renderPropTweens(1, _quickTween);\n    } : cache.set(target, p);\n\n    return Plugin ? setter : function (value) {\n      return setter(target, p, unit ? value + unit : value, cache, 1);\n    };\n  },\n  isTweening: function isTweening(targets) {\n    return _globalTimeline.getTweensOf(targets, true).length > 0;\n  },\n  defaults: function defaults(value) {\n    value && value.ease && (value.ease = _parseEase(value.ease, _defaults.ease));\n    return _mergeDeep(_defaults, value || {});\n  },\n  config: function config(value) {\n    return _mergeDeep(_config, value || {});\n  },\n  registerEffect: function registerEffect(_ref2) {\n    var name = _ref2.name,\n        effect = _ref2.effect,\n        plugins = _ref2.plugins,\n        defaults = _ref2.defaults,\n        extendTimeline = _ref2.extendTimeline;\n    (plugins || \"\").split(\",\").forEach(function (pluginName) {\n      return pluginName && !_plugins[pluginName] && !_globals[pluginName] && _warn(name + \" effect requires \" + pluginName + \" plugin.\");\n    });\n\n    _effects[name] = function (targets, vars, tl) {\n      return effect(toArray(targets), _setDefaults(vars || {}, defaults), tl);\n    };\n\n    if (extendTimeline) {\n      Timeline.prototype[name] = function (targets, vars, position) {\n        return this.add(_effects[name](targets, _isObject(vars) ? vars : (position = vars) && {}, this), position);\n      };\n    }\n  },\n  registerEase: function registerEase(name, ease) {\n    _easeMap[name] = _parseEase(ease);\n  },\n  parseEase: function parseEase(ease, defaultEase) {\n    return arguments.length ? _parseEase(ease, defaultEase) : _easeMap;\n  },\n  getById: function getById(id) {\n    return _globalTimeline.getById(id);\n  },\n  exportRoot: function exportRoot(vars, includeDelayedCalls) {\n    if (vars === void 0) {\n      vars = {};\n    }\n\n    var tl = new Timeline(vars),\n        child,\n        next;\n    tl.smoothChildTiming = _isNotFalse(vars.smoothChildTiming);\n\n    _globalTimeline.remove(tl);\n\n    tl._dp = 0; //otherwise it'll get re-activated when adding children and be re-introduced into _globalTimeline's linked list (then added to itself).\n\n    tl._time = tl._tTime = _globalTimeline._time;\n    child = _globalTimeline._first;\n\n    while (child) {\n      next = child._next;\n\n      if (includeDelayedCalls || !(!child._dur && child instanceof Tween && child.vars.onComplete === child._targets[0])) {\n        _addToTimeline(tl, child, child._start - child._delay);\n      }\n\n      child = next;\n    }\n\n    _addToTimeline(_globalTimeline, tl, 0);\n\n    return tl;\n  },\n  utils: {\n    wrap: wrap,\n    wrapYoyo: wrapYoyo,\n    distribute: distribute,\n    random: random,\n    snap: snap,\n    normalize: normalize,\n    getUnit: getUnit,\n    clamp: clamp,\n    splitColor: splitColor,\n    toArray: toArray,\n    mapRange: mapRange,\n    pipe: pipe,\n    unitize: unitize,\n    interpolate: interpolate,\n    shuffle: shuffle\n  },\n  install: _install,\n  effects: _effects,\n  ticker: _ticker,\n  updateRoot: Timeline.updateRoot,\n  plugins: _plugins,\n  globalTimeline: _globalTimeline,\n  core: {\n    PropTween: PropTween,\n    globals: _addGlobal,\n    Tween: Tween,\n    Timeline: Timeline,\n    Animation: Animation,\n    getCache: _getCache,\n    _removeLinkedListItem: _removeLinkedListItem,\n    suppressOverwrites: function suppressOverwrites(value) {\n      return _suppressOverwrites = value;\n    }\n  }\n};\n\n_forEachName(\"to,from,fromTo,delayedCall,set,killTweensOf\", function (name) {\n  return _gsap[name] = Tween[name];\n});\n\n_ticker.add(Timeline.updateRoot);\n\n_quickTween = _gsap.to({}, {\n  duration: 0\n}); // ---- EXTRA PLUGINS --------------------------------------------------------\n\nvar _getPluginPropTween = function _getPluginPropTween(plugin, prop) {\n  var pt = plugin._pt;\n\n  while (pt && pt.p !== prop && pt.op !== prop && pt.fp !== prop) {\n    pt = pt._next;\n  }\n\n  return pt;\n},\n    _addModifiers = function _addModifiers(tween, modifiers) {\n  var targets = tween._targets,\n      p,\n      i,\n      pt;\n\n  for (p in modifiers) {\n    i = targets.length;\n\n    while (i--) {\n      pt = tween._ptLookup[i][p];\n\n      if (pt && (pt = pt.d)) {\n        if (pt._pt) {\n          // is a plugin\n          pt = _getPluginPropTween(pt, p);\n        }\n\n        pt && pt.modifier && pt.modifier(modifiers[p], tween, targets[i], p);\n      }\n    }\n  }\n},\n    _buildModifierPlugin = function _buildModifierPlugin(name, modifier) {\n  return {\n    name: name,\n    rawVars: 1,\n    //don't pre-process function-based values or \"random()\" strings.\n    init: function init(target, vars, tween) {\n      tween._onInit = function (tween) {\n        var temp, p;\n\n        if (_isString(vars)) {\n          temp = {};\n\n          _forEachName(vars, function (name) {\n            return temp[name] = 1;\n          }); //if the user passes in a comma-delimited list of property names to roundProps, like \"x,y\", we round to whole numbers.\n\n\n          vars = temp;\n        }\n\n        if (modifier) {\n          temp = {};\n\n          for (p in vars) {\n            temp[p] = modifier(vars[p]);\n          }\n\n          vars = temp;\n        }\n\n        _addModifiers(tween, vars);\n      };\n    }\n  };\n}; //register core plugins\n\n\nexport var gsap = _gsap.registerPlugin({\n  name: \"attr\",\n  init: function init(target, vars, tween, index, targets) {\n    var p, pt;\n\n    for (p in vars) {\n      pt = this.add(target, \"setAttribute\", (target.getAttribute(p) || 0) + \"\", vars[p], index, targets, 0, 0, p);\n      pt && (pt.op = p);\n\n      this._props.push(p);\n    }\n  }\n}, {\n  name: \"endArray\",\n  init: function init(target, value) {\n    var i = value.length;\n\n    while (i--) {\n      this.add(target, i, target[i] || 0, value[i]);\n    }\n  }\n}, _buildModifierPlugin(\"roundProps\", _roundModifier), _buildModifierPlugin(\"modifiers\"), _buildModifierPlugin(\"snap\", snap)) || _gsap; //to prevent the core plugins from being dropped via aggressive tree shaking, we must include them in the variable declaration in this way.\n\nTween.version = Timeline.version = gsap.version = \"3.6.0\";\n_coreReady = 1;\n\nif (_windowExists()) {\n  _wake();\n}\n\nvar Power0 = _easeMap.Power0,\n    Power1 = _easeMap.Power1,\n    Power2 = _easeMap.Power2,\n    Power3 = _easeMap.Power3,\n    Power4 = _easeMap.Power4,\n    Linear = _easeMap.Linear,\n    Quad = _easeMap.Quad,\n    Cubic = _easeMap.Cubic,\n    Quart = _easeMap.Quart,\n    Quint = _easeMap.Quint,\n    Strong = _easeMap.Strong,\n    Elastic = _easeMap.Elastic,\n    Back = _easeMap.Back,\n    SteppedEase = _easeMap.SteppedEase,\n    Bounce = _easeMap.Bounce,\n    Sine = _easeMap.Sine,\n    Expo = _easeMap.Expo,\n    Circ = _easeMap.Circ;\nexport { Power0, Power1, Power2, Power3, Power4, Linear, Quad, Cubic, Quart, Quint, Strong, Elastic, Back, SteppedEase, Bounce, Sine, Expo, Circ };\nexport { Tween as TweenMax, Tween as TweenLite, Timeline as TimelineMax, Timeline as TimelineLite, gsap as default, wrap, wrapYoyo, distribute, random, snap, normalize, getUnit, clamp, splitColor, toArray, mapRange, pipe, unitize, interpolate, shuffle }; //export some internal methods/orojects for use in CSSPlugin so that we can externalize that file and allow custom builds that exclude it.\n\nexport { _getProperty, _numExp, _numWithUnitExp, _isString, _isUndefined, _renderComplexString, _relExp, _setDefaults, _removeLinkedListItem, _forEachName, _sortPropTweensByPriority, _colorStringFilter, _replaceRandom, _checkPlugin, _plugins, _ticker, _config, _roundModifier, _round, _missingPlugin, _getSetter, _getCache };","/*!\n * CSSPlugin 3.6.0\n * https://greensock.com\n *\n * Copyright 2008-2021, GreenSock. All rights reserved.\n * Subject to the terms at https://greensock.com/standard-license or for\n * Club GreenSock members, the agreement issued with that membership.\n * @author: Jack Doyle, jack@greensock.com\n*/\n\n/* eslint-disable */\nimport { gsap, _getProperty, _numExp, _numWithUnitExp, getUnit, _isString, _isUndefined, _renderComplexString, _relExp, _forEachName, _sortPropTweensByPriority, _colorStringFilter, _checkPlugin, _replaceRandom, _plugins, GSCache, PropTween, _config, _ticker, _round, _missingPlugin, _getSetter, _getCache, _setDefaults, _removeLinkedListItem //for the commented-out className feature.\n} from \"./gsap-core.js\";\n\nvar _win,\n    _doc,\n    _docElement,\n    _pluginInitted,\n    _tempDiv,\n    _tempDivStyler,\n    _recentSetterPlugin,\n    _windowExists = function _windowExists() {\n  return typeof window !== \"undefined\";\n},\n    _transformProps = {},\n    _RAD2DEG = 180 / Math.PI,\n    _DEG2RAD = Math.PI / 180,\n    _atan2 = Math.atan2,\n    _bigNum = 1e8,\n    _capsExp = /([A-Z])/g,\n    _horizontalExp = /(?:left|right|width|margin|padding|x)/i,\n    _complexExp = /[\\s,\\(]\\S/,\n    _propertyAliases = {\n  autoAlpha: \"opacity,visibility\",\n  scale: \"scaleX,scaleY\",\n  alpha: \"opacity\"\n},\n    _renderCSSProp = function _renderCSSProp(ratio, data) {\n  return data.set(data.t, data.p, Math.round((data.s + data.c * ratio) * 10000) / 10000 + data.u, data);\n},\n    _renderPropWithEnd = function _renderPropWithEnd(ratio, data) {\n  return data.set(data.t, data.p, ratio === 1 ? data.e : Math.round((data.s + data.c * ratio) * 10000) / 10000 + data.u, data);\n},\n    _renderCSSPropWithBeginning = function _renderCSSPropWithBeginning(ratio, data) {\n  return data.set(data.t, data.p, ratio ? Math.round((data.s + data.c * ratio) * 10000) / 10000 + data.u : data.b, data);\n},\n    //if units change, we need a way to render the original unit/value when the tween goes all the way back to the beginning (ratio:0)\n_renderRoundedCSSProp = function _renderRoundedCSSProp(ratio, data) {\n  var value = data.s + data.c * ratio;\n  data.set(data.t, data.p, ~~(value + (value < 0 ? -.5 : .5)) + data.u, data);\n},\n    _renderNonTweeningValue = function _renderNonTweeningValue(ratio, data) {\n  return data.set(data.t, data.p, ratio ? data.e : data.b, data);\n},\n    _renderNonTweeningValueOnlyAtEnd = function _renderNonTweeningValueOnlyAtEnd(ratio, data) {\n  return data.set(data.t, data.p, ratio !== 1 ? data.b : data.e, data);\n},\n    _setterCSSStyle = function _setterCSSStyle(target, property, value) {\n  return target.style[property] = value;\n},\n    _setterCSSProp = function _setterCSSProp(target, property, value) {\n  return target.style.setProperty(property, value);\n},\n    _setterTransform = function _setterTransform(target, property, value) {\n  return target._gsap[property] = value;\n},\n    _setterScale = function _setterScale(target, property, value) {\n  return target._gsap.scaleX = target._gsap.scaleY = value;\n},\n    _setterScaleWithRender = function _setterScaleWithRender(target, property, value, data, ratio) {\n  var cache = target._gsap;\n  cache.scaleX = cache.scaleY = value;\n  cache.renderTransform(ratio, cache);\n},\n    _setterTransformWithRender = function _setterTransformWithRender(target, property, value, data, ratio) {\n  var cache = target._gsap;\n  cache[property] = value;\n  cache.renderTransform(ratio, cache);\n},\n    _transformProp = \"transform\",\n    _transformOriginProp = _transformProp + \"Origin\",\n    _supports3D,\n    _createElement = function _createElement(type, ns) {\n  var e = _doc.createElementNS ? _doc.createElementNS((ns || \"http://www.w3.org/1999/xhtml\").replace(/^https/, \"http\"), type) : _doc.createElement(type); //some servers swap in https for http in the namespace which can break things, making \"style\" inaccessible.\n\n  return e.style ? e : _doc.createElement(type); //some environments won't allow access to the element's style when created with a namespace in which case we default to the standard createElement() to work around the issue. Also note that when GSAP is embedded directly inside an SVG file, createElement() won't allow access to the style object in Firefox (see https://greensock.com/forums/topic/20215-problem-using-tweenmax-in-standalone-self-containing-svg-file-err-cannot-set-property-csstext-of-undefined/).\n},\n    _getComputedProperty = function _getComputedProperty(target, property, skipPrefixFallback) {\n  var cs = getComputedStyle(target);\n  return cs[property] || cs.getPropertyValue(property.replace(_capsExp, \"-$1\").toLowerCase()) || cs.getPropertyValue(property) || !skipPrefixFallback && _getComputedProperty(target, _checkPropPrefix(property) || property, 1) || \"\"; //css variables may not need caps swapped out for dashes and lowercase.\n},\n    _prefixes = \"O,Moz,ms,Ms,Webkit\".split(\",\"),\n    _checkPropPrefix = function _checkPropPrefix(property, element, preferPrefix) {\n  var e = element || _tempDiv,\n      s = e.style,\n      i = 5;\n\n  if (property in s && !preferPrefix) {\n    return property;\n  }\n\n  property = property.charAt(0).toUpperCase() + property.substr(1);\n\n  while (i-- && !(_prefixes[i] + property in s)) {}\n\n  return i < 0 ? null : (i === 3 ? \"ms\" : i >= 0 ? _prefixes[i] : \"\") + property;\n},\n    _initCore = function _initCore() {\n  if (_windowExists() && window.document) {\n    _win = window;\n    _doc = _win.document;\n    _docElement = _doc.documentElement;\n    _tempDiv = _createElement(\"div\") || {\n      style: {}\n    };\n    _tempDivStyler = _createElement(\"div\");\n    _transformProp = _checkPropPrefix(_transformProp);\n    _transformOriginProp = _transformProp + \"Origin\";\n    _tempDiv.style.cssText = \"border-width:0;line-height:0;position:absolute;padding:0\"; //make sure to override certain properties that may contaminate measurements, in case the user has overreaching style sheets.\n\n    _supports3D = !!_checkPropPrefix(\"perspective\");\n    _pluginInitted = 1;\n  }\n},\n    _getBBoxHack = function _getBBoxHack(swapIfPossible) {\n  //works around issues in some browsers (like Firefox) that don't correctly report getBBox() on SVG elements inside a <defs> element and/or <mask>. We try creating an SVG, adding it to the documentElement and toss the element in there so that it's definitely part of the rendering tree, then grab the bbox and if it works, we actually swap out the original getBBox() method for our own that does these extra steps whenever getBBox is needed. This helps ensure that performance is optimal (only do all these extra steps when absolutely necessary...most elements don't need it).\n  var svg = _createElement(\"svg\", this.ownerSVGElement && this.ownerSVGElement.getAttribute(\"xmlns\") || \"http://www.w3.org/2000/svg\"),\n      oldParent = this.parentNode,\n      oldSibling = this.nextSibling,\n      oldCSS = this.style.cssText,\n      bbox;\n\n  _docElement.appendChild(svg);\n\n  svg.appendChild(this);\n  this.style.display = \"block\";\n\n  if (swapIfPossible) {\n    try {\n      bbox = this.getBBox();\n      this._gsapBBox = this.getBBox; //store the original\n\n      this.getBBox = _getBBoxHack;\n    } catch (e) {}\n  } else if (this._gsapBBox) {\n    bbox = this._gsapBBox();\n  }\n\n  if (oldParent) {\n    if (oldSibling) {\n      oldParent.insertBefore(this, oldSibling);\n    } else {\n      oldParent.appendChild(this);\n    }\n  }\n\n  _docElement.removeChild(svg);\n\n  this.style.cssText = oldCSS;\n  return bbox;\n},\n    _getAttributeFallbacks = function _getAttributeFallbacks(target, attributesArray) {\n  var i = attributesArray.length;\n\n  while (i--) {\n    if (target.hasAttribute(attributesArray[i])) {\n      return target.getAttribute(attributesArray[i]);\n    }\n  }\n},\n    _getBBox = function _getBBox(target) {\n  var bounds;\n\n  try {\n    bounds = target.getBBox(); //Firefox throws errors if you try calling getBBox() on an SVG element that's not rendered (like in a <symbol> or <defs>). https://bugzilla.mozilla.org/show_bug.cgi?id=612118\n  } catch (error) {\n    bounds = _getBBoxHack.call(target, true);\n  }\n\n  bounds && (bounds.width || bounds.height) || target.getBBox === _getBBoxHack || (bounds = _getBBoxHack.call(target, true)); //some browsers (like Firefox) misreport the bounds if the element has zero width and height (it just assumes it's at x:0, y:0), thus we need to manually grab the position in that case.\n\n  return bounds && !bounds.width && !bounds.x && !bounds.y ? {\n    x: +_getAttributeFallbacks(target, [\"x\", \"cx\", \"x1\"]) || 0,\n    y: +_getAttributeFallbacks(target, [\"y\", \"cy\", \"y1\"]) || 0,\n    width: 0,\n    height: 0\n  } : bounds;\n},\n    _isSVG = function _isSVG(e) {\n  return !!(e.getCTM && (!e.parentNode || e.ownerSVGElement) && _getBBox(e));\n},\n    //reports if the element is an SVG on which getBBox() actually works\n_removeProperty = function _removeProperty(target, property) {\n  if (property) {\n    var style = target.style;\n\n    if (property in _transformProps && property !== _transformOriginProp) {\n      property = _transformProp;\n    }\n\n    if (style.removeProperty) {\n      if (property.substr(0, 2) === \"ms\" || property.substr(0, 6) === \"webkit\") {\n        //Microsoft and some Webkit browsers don't conform to the standard of capitalizing the first prefix character, so we adjust so that when we prefix the caps with a dash, it's correct (otherwise it'd be \"ms-transform\" instead of \"-ms-transform\" for IE9, for example)\n        property = \"-\" + property;\n      }\n\n      style.removeProperty(property.replace(_capsExp, \"-$1\").toLowerCase());\n    } else {\n      //note: old versions of IE use \"removeAttribute()\" instead of \"removeProperty()\"\n      style.removeAttribute(property);\n    }\n  }\n},\n    _addNonTweeningPT = function _addNonTweeningPT(plugin, target, property, beginning, end, onlySetAtEnd) {\n  var pt = new PropTween(plugin._pt, target, property, 0, 1, onlySetAtEnd ? _renderNonTweeningValueOnlyAtEnd : _renderNonTweeningValue);\n  plugin._pt = pt;\n  pt.b = beginning;\n  pt.e = end;\n\n  plugin._props.push(property);\n\n  return pt;\n},\n    _nonConvertibleUnits = {\n  deg: 1,\n  rad: 1,\n  turn: 1\n},\n    //takes a single value like 20px and converts it to the unit specified, like \"%\", returning only the numeric amount.\n_convertToUnit = function _convertToUnit(target, property, value, unit) {\n  var curValue = parseFloat(value) || 0,\n      curUnit = (value + \"\").trim().substr((curValue + \"\").length) || \"px\",\n      // some browsers leave extra whitespace at the beginning of CSS variables, hence the need to trim()\n  style = _tempDiv.style,\n      horizontal = _horizontalExp.test(property),\n      isRootSVG = target.tagName.toLowerCase() === \"svg\",\n      measureProperty = (isRootSVG ? \"client\" : \"offset\") + (horizontal ? \"Width\" : \"Height\"),\n      amount = 100,\n      toPixels = unit === \"px\",\n      toPercent = unit === \"%\",\n      px,\n      parent,\n      cache,\n      isSVG;\n\n  if (unit === curUnit || !curValue || _nonConvertibleUnits[unit] || _nonConvertibleUnits[curUnit]) {\n    return curValue;\n  }\n\n  curUnit !== \"px\" && !toPixels && (curValue = _convertToUnit(target, property, value, \"px\"));\n  isSVG = target.getCTM && _isSVG(target);\n\n  if ((toPercent || curUnit === \"%\") && (_transformProps[property] || ~property.indexOf(\"adius\"))) {\n    px = isSVG ? target.getBBox()[horizontal ? \"width\" : \"height\"] : target[measureProperty];\n    return _round(toPercent ? curValue / px * amount : curValue / 100 * px);\n  }\n\n  style[horizontal ? \"width\" : \"height\"] = amount + (toPixels ? curUnit : unit);\n  parent = ~property.indexOf(\"adius\") || unit === \"em\" && target.appendChild && !isRootSVG ? target : target.parentNode;\n\n  if (isSVG) {\n    parent = (target.ownerSVGElement || {}).parentNode;\n  }\n\n  if (!parent || parent === _doc || !parent.appendChild) {\n    parent = _doc.body;\n  }\n\n  cache = parent._gsap;\n\n  if (cache && toPercent && cache.width && horizontal && cache.time === _ticker.time) {\n    return _round(curValue / cache.width * amount);\n  } else {\n    (toPercent || curUnit === \"%\") && (style.position = _getComputedProperty(target, \"position\"));\n    parent === target && (style.position = \"static\"); // like for borderRadius, if it's a % we must have it relative to the target itself but that may not have position: relative or position: absolute in which case it'd go up the chain until it finds its offsetParent (bad). position: static protects against that.\n\n    parent.appendChild(_tempDiv);\n    px = _tempDiv[measureProperty];\n    parent.removeChild(_tempDiv);\n    style.position = \"absolute\";\n\n    if (horizontal && toPercent) {\n      cache = _getCache(parent);\n      cache.time = _ticker.time;\n      cache.width = parent[measureProperty];\n    }\n  }\n\n  return _round(toPixels ? px * curValue / amount : px && curValue ? amount / px * curValue : 0);\n},\n    _get = function _get(target, property, unit, uncache) {\n  var value;\n  _pluginInitted || _initCore();\n\n  if (property in _propertyAliases && property !== \"transform\") {\n    property = _propertyAliases[property];\n\n    if (~property.indexOf(\",\")) {\n      property = property.split(\",\")[0];\n    }\n  }\n\n  if (_transformProps[property] && property !== \"transform\") {\n    value = _parseTransform(target, uncache);\n    value = property !== \"transformOrigin\" ? value[property] : _firstTwoOnly(_getComputedProperty(target, _transformOriginProp)) + \" \" + value.zOrigin + \"px\";\n  } else {\n    value = target.style[property];\n\n    if (!value || value === \"auto\" || uncache || ~(value + \"\").indexOf(\"calc(\")) {\n      value = _specialProps[property] && _specialProps[property](target, property, unit) || _getComputedProperty(target, property) || _getProperty(target, property) || (property === \"opacity\" ? 1 : 0); // note: some browsers, like Firefox, don't report borderRadius correctly! Instead, it only reports every corner like  borderTopLeftRadius\n    }\n  }\n\n  return unit && !~(value + \"\").trim().indexOf(\" \") ? _convertToUnit(target, property, value, unit) + unit : value;\n},\n    _tweenComplexCSSString = function _tweenComplexCSSString(target, prop, start, end) {\n  //note: we call _tweenComplexCSSString.call(pluginInstance...) to ensure that it's scoped properly. We may call it from within a plugin too, thus \"this\" would refer to the plugin.\n  if (!start || start === \"none\") {\n    // some browsers like Safari actually PREFER the prefixed property and mis-report the unprefixed value like clipPath (BUG). In other words, even though clipPath exists in the style (\"clipPath\" in target.style) and it's set in the CSS properly (along with -webkit-clip-path), Safari reports clipPath as \"none\" whereas WebkitClipPath reports accurately like \"ellipse(100% 0% at 50% 0%)\", so in this case we must SWITCH to using the prefixed property instead. See https://greensock.com/forums/topic/18310-clippath-doesnt-work-on-ios/\n    var p = _checkPropPrefix(prop, target, 1),\n        s = p && _getComputedProperty(target, p, 1);\n\n    if (s && s !== start) {\n      prop = p;\n      start = s;\n    } else if (prop === \"borderColor\") {\n      start = _getComputedProperty(target, \"borderTopColor\"); // Firefox bug: always reports \"borderColor\" as \"\", so we must fall back to borderTopColor. See https://greensock.com/forums/topic/24583-how-to-return-colors-that-i-had-after-reverse/\n    }\n  }\n\n  var pt = new PropTween(this._pt, target.style, prop, 0, 1, _renderComplexString),\n      index = 0,\n      matchIndex = 0,\n      a,\n      result,\n      startValues,\n      startNum,\n      color,\n      startValue,\n      endValue,\n      endNum,\n      chunk,\n      endUnit,\n      startUnit,\n      relative,\n      endValues;\n  pt.b = start;\n  pt.e = end;\n  start += \"\"; //ensure values are strings\n\n  end += \"\";\n\n  if (end === \"auto\") {\n    target.style[prop] = end;\n    end = _getComputedProperty(target, prop) || end;\n    target.style[prop] = start;\n  }\n\n  a = [start, end];\n\n  _colorStringFilter(a); //pass an array with the starting and ending values and let the filter do whatever it needs to the values. If colors are found, it returns true and then we must match where the color shows up order-wise because for things like boxShadow, sometimes the browser provides the computed values with the color FIRST, but the user provides it with the color LAST, so flip them if necessary. Same for drop-shadow().\n\n\n  start = a[0];\n  end = a[1];\n  startValues = start.match(_numWithUnitExp) || [];\n  endValues = end.match(_numWithUnitExp) || [];\n\n  if (endValues.length) {\n    while (result = _numWithUnitExp.exec(end)) {\n      endValue = result[0];\n      chunk = end.substring(index, result.index);\n\n      if (color) {\n        color = (color + 1) % 5;\n      } else if (chunk.substr(-5) === \"rgba(\" || chunk.substr(-5) === \"hsla(\") {\n        color = 1;\n      }\n\n      if (endValue !== (startValue = startValues[matchIndex++] || \"\")) {\n        startNum = parseFloat(startValue) || 0;\n        startUnit = startValue.substr((startNum + \"\").length);\n        relative = endValue.charAt(1) === \"=\" ? +(endValue.charAt(0) + \"1\") : 0;\n\n        if (relative) {\n          endValue = endValue.substr(2);\n        }\n\n        endNum = parseFloat(endValue);\n        endUnit = endValue.substr((endNum + \"\").length);\n        index = _numWithUnitExp.lastIndex - endUnit.length;\n\n        if (!endUnit) {\n          //if something like \"perspective:300\" is passed in and we must add a unit to the end\n          endUnit = endUnit || _config.units[prop] || startUnit;\n\n          if (index === end.length) {\n            end += endUnit;\n            pt.e += endUnit;\n          }\n        }\n\n        if (startUnit !== endUnit) {\n          startNum = _convertToUnit(target, prop, startValue, endUnit) || 0;\n        } //these nested PropTweens are handled in a special way - we'll never actually call a render or setter method on them. We'll just loop through them in the parent complex string PropTween's render method.\n\n\n        pt._pt = {\n          _next: pt._pt,\n          p: chunk || matchIndex === 1 ? chunk : \",\",\n          //note: SVG spec allows omission of comma/space when a negative sign is wedged between two numbers, like 2.5-5.3 instead of 2.5,-5.3 but when tweening, the negative value may switch to positive, so we insert the comma just in case.\n          s: startNum,\n          c: relative ? relative * endNum : endNum - startNum,\n          m: color && color < 4 || prop === \"zIndex\" ? Math.round : 0\n        };\n      }\n    }\n\n    pt.c = index < end.length ? end.substring(index, end.length) : \"\"; //we use the \"c\" of the PropTween to store the final part of the string (after the last number)\n  } else {\n    pt.r = prop === \"display\" && end === \"none\" ? _renderNonTweeningValueOnlyAtEnd : _renderNonTweeningValue;\n  }\n\n  _relExp.test(end) && (pt.e = 0); //if the end string contains relative values or dynamic random(...) values, delete the end it so that on the final render we don't actually set it to the string with += or -= characters (forces it to use the calculated value).\n\n  this._pt = pt; //start the linked list with this new PropTween. Remember, we call _tweenComplexCSSString.call(pluginInstance...) to ensure that it's scoped properly. We may call it from within another plugin too, thus \"this\" would refer to the plugin.\n\n  return pt;\n},\n    _keywordToPercent = {\n  top: \"0%\",\n  bottom: \"100%\",\n  left: \"0%\",\n  right: \"100%\",\n  center: \"50%\"\n},\n    _convertKeywordsToPercentages = function _convertKeywordsToPercentages(value) {\n  var split = value.split(\" \"),\n      x = split[0],\n      y = split[1] || \"50%\";\n\n  if (x === \"top\" || x === \"bottom\" || y === \"left\" || y === \"right\") {\n    //the user provided them in the wrong order, so flip them\n    value = x;\n    x = y;\n    y = value;\n  }\n\n  split[0] = _keywordToPercent[x] || x;\n  split[1] = _keywordToPercent[y] || y;\n  return split.join(\" \");\n},\n    _renderClearProps = function _renderClearProps(ratio, data) {\n  if (data.tween && data.tween._time === data.tween._dur) {\n    var target = data.t,\n        style = target.style,\n        props = data.u,\n        cache = target._gsap,\n        prop,\n        clearTransforms,\n        i;\n\n    if (props === \"all\" || props === true) {\n      style.cssText = \"\";\n      clearTransforms = 1;\n    } else {\n      props = props.split(\",\");\n      i = props.length;\n\n      while (--i > -1) {\n        prop = props[i];\n\n        if (_transformProps[prop]) {\n          clearTransforms = 1;\n          prop = prop === \"transformOrigin\" ? _transformOriginProp : _transformProp;\n        }\n\n        _removeProperty(target, prop);\n      }\n    }\n\n    if (clearTransforms) {\n      _removeProperty(target, _transformProp);\n\n      if (cache) {\n        cache.svg && target.removeAttribute(\"transform\");\n\n        _parseTransform(target, 1); // force all the cached values back to \"normal\"/identity, otherwise if there's another tween that's already set to render transforms on this element, it could display the wrong values.\n\n\n        cache.uncache = 1;\n      }\n    }\n  }\n},\n    // note: specialProps should return 1 if (and only if) they have a non-zero priority. It indicates we need to sort the linked list.\n_specialProps = {\n  clearProps: function clearProps(plugin, target, property, endValue, tween) {\n    if (tween.data !== \"isFromStart\") {\n      var pt = plugin._pt = new PropTween(plugin._pt, target, property, 0, 0, _renderClearProps);\n      pt.u = endValue;\n      pt.pr = -10;\n      pt.tween = tween;\n\n      plugin._props.push(property);\n\n      return 1;\n    }\n  }\n  /* className feature (about 0.4kb gzipped).\n  , className(plugin, target, property, endValue, tween) {\n  \tlet _renderClassName = (ratio, data) => {\n  \t\t\tdata.css.render(ratio, data.css);\n  \t\t\tif (!ratio || ratio === 1) {\n  \t\t\t\tlet inline = data.rmv,\n  \t\t\t\t\ttarget = data.t,\n  \t\t\t\t\tp;\n  \t\t\t\ttarget.setAttribute(\"class\", ratio ? data.e : data.b);\n  \t\t\t\tfor (p in inline) {\n  \t\t\t\t\t_removeProperty(target, p);\n  \t\t\t\t}\n  \t\t\t}\n  \t\t},\n  \t\t_getAllStyles = (target) => {\n  \t\t\tlet styles = {},\n  \t\t\t\tcomputed = getComputedStyle(target),\n  \t\t\t\tp;\n  \t\t\tfor (p in computed) {\n  \t\t\t\tif (isNaN(p) && p !== \"cssText\" && p !== \"length\") {\n  \t\t\t\t\tstyles[p] = computed[p];\n  \t\t\t\t}\n  \t\t\t}\n  \t\t\t_setDefaults(styles, _parseTransform(target, 1));\n  \t\t\treturn styles;\n  \t\t},\n  \t\tstartClassList = target.getAttribute(\"class\"),\n  \t\tstyle = target.style,\n  \t\tcssText = style.cssText,\n  \t\tcache = target._gsap,\n  \t\tclassPT = cache.classPT,\n  \t\tinlineToRemoveAtEnd = {},\n  \t\tdata = {t:target, plugin:plugin, rmv:inlineToRemoveAtEnd, b:startClassList, e:(endValue.charAt(1) !== \"=\") ? endValue : startClassList.replace(new RegExp(\"(?:\\\\s|^)\" + endValue.substr(2) + \"(?![\\\\w-])\"), \"\") + ((endValue.charAt(0) === \"+\") ? \" \" + endValue.substr(2) : \"\")},\n  \t\tchangingVars = {},\n  \t\tstartVars = _getAllStyles(target),\n  \t\ttransformRelated = /(transform|perspective)/i,\n  \t\tendVars, p;\n  \tif (classPT) {\n  \t\tclassPT.r(1, classPT.d);\n  \t\t_removeLinkedListItem(classPT.d.plugin, classPT, \"_pt\");\n  \t}\n  \ttarget.setAttribute(\"class\", data.e);\n  \tendVars = _getAllStyles(target, true);\n  \ttarget.setAttribute(\"class\", startClassList);\n  \tfor (p in endVars) {\n  \t\tif (endVars[p] !== startVars[p] && !transformRelated.test(p)) {\n  \t\t\tchangingVars[p] = endVars[p];\n  \t\t\tif (!style[p] && style[p] !== \"0\") {\n  \t\t\t\tinlineToRemoveAtEnd[p] = 1;\n  \t\t\t}\n  \t\t}\n  \t}\n  \tcache.classPT = plugin._pt = new PropTween(plugin._pt, target, \"className\", 0, 0, _renderClassName, data, 0, -11);\n  \tif (style.cssText !== cssText) { //only apply if things change. Otherwise, in cases like a background-image that's pulled dynamically, it could cause a refresh. See https://greensock.com/forums/topic/20368-possible-gsap-bug-switching-classnames-in-chrome/.\n  \t\tstyle.cssText = cssText; //we recorded cssText before we swapped classes and ran _getAllStyles() because in cases when a className tween is overwritten, we remove all the related tweening properties from that class change (otherwise class-specific stuff can't override properties we've directly set on the target's style object due to specificity).\n  \t}\n  \t_parseTransform(target, true); //to clear the caching of transforms\n  \tdata.css = new gsap.plugins.css();\n  \tdata.css.init(target, changingVars, tween);\n  \tplugin._props.push(...data.css._props);\n  \treturn 1;\n  }\n  */\n\n},\n\n/*\n * --------------------------------------------------------------------------------------\n * TRANSFORMS\n * --------------------------------------------------------------------------------------\n */\n_identity2DMatrix = [1, 0, 0, 1, 0, 0],\n    _rotationalProperties = {},\n    _isNullTransform = function _isNullTransform(value) {\n  return value === \"matrix(1, 0, 0, 1, 0, 0)\" || value === \"none\" || !value;\n},\n    _getComputedTransformMatrixAsArray = function _getComputedTransformMatrixAsArray(target) {\n  var matrixString = _getComputedProperty(target, _transformProp);\n\n  return _isNullTransform(matrixString) ? _identity2DMatrix : matrixString.substr(7).match(_numExp).map(_round);\n},\n    _getMatrix = function _getMatrix(target, force2D) {\n  var cache = target._gsap || _getCache(target),\n      style = target.style,\n      matrix = _getComputedTransformMatrixAsArray(target),\n      parent,\n      nextSibling,\n      temp,\n      addedToDOM;\n\n  if (cache.svg && target.getAttribute(\"transform\")) {\n    temp = target.transform.baseVal.consolidate().matrix; //ensures that even complex values like \"translate(50,60) rotate(135,0,0)\" are parsed because it mashes it into a matrix.\n\n    matrix = [temp.a, temp.b, temp.c, temp.d, temp.e, temp.f];\n    return matrix.join(\",\") === \"1,0,0,1,0,0\" ? _identity2DMatrix : matrix;\n  } else if (matrix === _identity2DMatrix && !target.offsetParent && target !== _docElement && !cache.svg) {\n    //note: if offsetParent is null, that means the element isn't in the normal document flow, like if it has display:none or one of its ancestors has display:none). Firefox returns null for getComputedStyle() if the element is in an iframe that has display:none. https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n    //browsers don't report transforms accurately unless the element is in the DOM and has a display value that's not \"none\". Firefox and Microsoft browsers have a partial bug where they'll report transforms even if display:none BUT not any percentage-based values like translate(-50%, 8px) will be reported as if it's translate(0, 8px).\n    temp = style.display;\n    style.display = \"block\";\n    parent = target.parentNode;\n\n    if (!parent || !target.offsetParent) {\n      // note: in 3.3.0 we switched target.offsetParent to _doc.body.contains(target) to avoid [sometimes unnecessary] MutationObserver calls but that wasn't adequate because there are edge cases where nested position: fixed elements need to get reparented to accurately sense transforms. See https://github.com/greensock/GSAP/issues/388 and https://github.com/greensock/GSAP/issues/375\n      addedToDOM = 1; //flag\n\n      nextSibling = target.nextSibling;\n\n      _docElement.appendChild(target); //we must add it to the DOM in order to get values properly\n\n    }\n\n    matrix = _getComputedTransformMatrixAsArray(target);\n    temp ? style.display = temp : _removeProperty(target, \"display\");\n\n    if (addedToDOM) {\n      nextSibling ? parent.insertBefore(target, nextSibling) : parent ? parent.appendChild(target) : _docElement.removeChild(target);\n    }\n  }\n\n  return force2D && matrix.length > 6 ? [matrix[0], matrix[1], matrix[4], matrix[5], matrix[12], matrix[13]] : matrix;\n},\n    _applySVGOrigin = function _applySVGOrigin(target, origin, originIsAbsolute, smooth, matrixArray, pluginToAddPropTweensTo) {\n  var cache = target._gsap,\n      matrix = matrixArray || _getMatrix(target, true),\n      xOriginOld = cache.xOrigin || 0,\n      yOriginOld = cache.yOrigin || 0,\n      xOffsetOld = cache.xOffset || 0,\n      yOffsetOld = cache.yOffset || 0,\n      a = matrix[0],\n      b = matrix[1],\n      c = matrix[2],\n      d = matrix[3],\n      tx = matrix[4],\n      ty = matrix[5],\n      originSplit = origin.split(\" \"),\n      xOrigin = parseFloat(originSplit[0]) || 0,\n      yOrigin = parseFloat(originSplit[1]) || 0,\n      bounds,\n      determinant,\n      x,\n      y;\n\n  if (!originIsAbsolute) {\n    bounds = _getBBox(target);\n    xOrigin = bounds.x + (~originSplit[0].indexOf(\"%\") ? xOrigin / 100 * bounds.width : xOrigin);\n    yOrigin = bounds.y + (~(originSplit[1] || originSplit[0]).indexOf(\"%\") ? yOrigin / 100 * bounds.height : yOrigin);\n  } else if (matrix !== _identity2DMatrix && (determinant = a * d - b * c)) {\n    //if it's zero (like if scaleX and scaleY are zero), skip it to avoid errors with dividing by zero.\n    x = xOrigin * (d / determinant) + yOrigin * (-c / determinant) + (c * ty - d * tx) / determinant;\n    y = xOrigin * (-b / determinant) + yOrigin * (a / determinant) - (a * ty - b * tx) / determinant;\n    xOrigin = x;\n    yOrigin = y;\n  }\n\n  if (smooth || smooth !== false && cache.smooth) {\n    tx = xOrigin - xOriginOld;\n    ty = yOrigin - yOriginOld;\n    cache.xOffset = xOffsetOld + (tx * a + ty * c) - tx;\n    cache.yOffset = yOffsetOld + (tx * b + ty * d) - ty;\n  } else {\n    cache.xOffset = cache.yOffset = 0;\n  }\n\n  cache.xOrigin = xOrigin;\n  cache.yOrigin = yOrigin;\n  cache.smooth = !!smooth;\n  cache.origin = origin;\n  cache.originIsAbsolute = !!originIsAbsolute;\n  target.style[_transformOriginProp] = \"0px 0px\"; //otherwise, if someone sets  an origin via CSS, it will likely interfere with the SVG transform attribute ones (because remember, we're baking the origin into the matrix() value).\n\n  if (pluginToAddPropTweensTo) {\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"xOrigin\", xOriginOld, xOrigin);\n\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"yOrigin\", yOriginOld, yOrigin);\n\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"xOffset\", xOffsetOld, cache.xOffset);\n\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"yOffset\", yOffsetOld, cache.yOffset);\n  }\n\n  target.setAttribute(\"data-svg-origin\", xOrigin + \" \" + yOrigin);\n},\n    _parseTransform = function _parseTransform(target, uncache) {\n  var cache = target._gsap || new GSCache(target);\n\n  if (\"x\" in cache && !uncache && !cache.uncache) {\n    return cache;\n  }\n\n  var style = target.style,\n      invertedScaleX = cache.scaleX < 0,\n      px = \"px\",\n      deg = \"deg\",\n      origin = _getComputedProperty(target, _transformOriginProp) || \"0\",\n      x,\n      y,\n      z,\n      scaleX,\n      scaleY,\n      rotation,\n      rotationX,\n      rotationY,\n      skewX,\n      skewY,\n      perspective,\n      xOrigin,\n      yOrigin,\n      matrix,\n      angle,\n      cos,\n      sin,\n      a,\n      b,\n      c,\n      d,\n      a12,\n      a22,\n      t1,\n      t2,\n      t3,\n      a13,\n      a23,\n      a33,\n      a42,\n      a43,\n      a32;\n  x = y = z = rotation = rotationX = rotationY = skewX = skewY = perspective = 0;\n  scaleX = scaleY = 1;\n  cache.svg = !!(target.getCTM && _isSVG(target));\n  matrix = _getMatrix(target, cache.svg);\n\n  if (cache.svg) {\n    t1 = !cache.uncache && target.getAttribute(\"data-svg-origin\");\n\n    _applySVGOrigin(target, t1 || origin, !!t1 || cache.originIsAbsolute, cache.smooth !== false, matrix);\n  }\n\n  xOrigin = cache.xOrigin || 0;\n  yOrigin = cache.yOrigin || 0;\n\n  if (matrix !== _identity2DMatrix) {\n    a = matrix[0]; //a11\n\n    b = matrix[1]; //a21\n\n    c = matrix[2]; //a31\n\n    d = matrix[3]; //a41\n\n    x = a12 = matrix[4];\n    y = a22 = matrix[5]; //2D matrix\n\n    if (matrix.length === 6) {\n      scaleX = Math.sqrt(a * a + b * b);\n      scaleY = Math.sqrt(d * d + c * c);\n      rotation = a || b ? _atan2(b, a) * _RAD2DEG : 0; //note: if scaleX is 0, we cannot accurately measure rotation. Same for skewX with a scaleY of 0. Therefore, we default to the previously recorded value (or zero if that doesn't exist).\n\n      skewX = c || d ? _atan2(c, d) * _RAD2DEG + rotation : 0;\n      skewX && (scaleY *= Math.cos(skewX * _DEG2RAD));\n\n      if (cache.svg) {\n        x -= xOrigin - (xOrigin * a + yOrigin * c);\n        y -= yOrigin - (xOrigin * b + yOrigin * d);\n      } //3D matrix\n\n    } else {\n      a32 = matrix[6];\n      a42 = matrix[7];\n      a13 = matrix[8];\n      a23 = matrix[9];\n      a33 = matrix[10];\n      a43 = matrix[11];\n      x = matrix[12];\n      y = matrix[13];\n      z = matrix[14];\n      angle = _atan2(a32, a33);\n      rotationX = angle * _RAD2DEG; //rotationX\n\n      if (angle) {\n        cos = Math.cos(-angle);\n        sin = Math.sin(-angle);\n        t1 = a12 * cos + a13 * sin;\n        t2 = a22 * cos + a23 * sin;\n        t3 = a32 * cos + a33 * sin;\n        a13 = a12 * -sin + a13 * cos;\n        a23 = a22 * -sin + a23 * cos;\n        a33 = a32 * -sin + a33 * cos;\n        a43 = a42 * -sin + a43 * cos;\n        a12 = t1;\n        a22 = t2;\n        a32 = t3;\n      } //rotationY\n\n\n      angle = _atan2(-c, a33);\n      rotationY = angle * _RAD2DEG;\n\n      if (angle) {\n        cos = Math.cos(-angle);\n        sin = Math.sin(-angle);\n        t1 = a * cos - a13 * sin;\n        t2 = b * cos - a23 * sin;\n        t3 = c * cos - a33 * sin;\n        a43 = d * sin + a43 * cos;\n        a = t1;\n        b = t2;\n        c = t3;\n      } //rotationZ\n\n\n      angle = _atan2(b, a);\n      rotation = angle * _RAD2DEG;\n\n      if (angle) {\n        cos = Math.cos(angle);\n        sin = Math.sin(angle);\n        t1 = a * cos + b * sin;\n        t2 = a12 * cos + a22 * sin;\n        b = b * cos - a * sin;\n        a22 = a22 * cos - a12 * sin;\n        a = t1;\n        a12 = t2;\n      }\n\n      if (rotationX && Math.abs(rotationX) + Math.abs(rotation) > 359.9) {\n        //when rotationY is set, it will often be parsed as 180 degrees different than it should be, and rotationX and rotation both being 180 (it looks the same), so we adjust for that here.\n        rotationX = rotation = 0;\n        rotationY = 180 - rotationY;\n      }\n\n      scaleX = _round(Math.sqrt(a * a + b * b + c * c));\n      scaleY = _round(Math.sqrt(a22 * a22 + a32 * a32));\n      angle = _atan2(a12, a22);\n      skewX = Math.abs(angle) > 0.0002 ? angle * _RAD2DEG : 0;\n      perspective = a43 ? 1 / (a43 < 0 ? -a43 : a43) : 0;\n    }\n\n    if (cache.svg) {\n      //sense if there are CSS transforms applied on an SVG element in which case we must overwrite them when rendering. The transform attribute is more reliable cross-browser, but we can't just remove the CSS ones because they may be applied in a CSS rule somewhere (not just inline).\n      t1 = target.getAttribute(\"transform\");\n      cache.forceCSS = target.setAttribute(\"transform\", \"\") || !_isNullTransform(_getComputedProperty(target, _transformProp));\n      t1 && target.setAttribute(\"transform\", t1);\n    }\n  }\n\n  if (Math.abs(skewX) > 90 && Math.abs(skewX) < 270) {\n    if (invertedScaleX) {\n      scaleX *= -1;\n      skewX += rotation <= 0 ? 180 : -180;\n      rotation += rotation <= 0 ? 180 : -180;\n    } else {\n      scaleY *= -1;\n      skewX += skewX <= 0 ? 180 : -180;\n    }\n  }\n\n  cache.x = x - ((cache.xPercent = x && (cache.xPercent || (Math.round(target.offsetWidth / 2) === Math.round(-x) ? -50 : 0))) ? target.offsetWidth * cache.xPercent / 100 : 0) + px;\n  cache.y = y - ((cache.yPercent = y && (cache.yPercent || (Math.round(target.offsetHeight / 2) === Math.round(-y) ? -50 : 0))) ? target.offsetHeight * cache.yPercent / 100 : 0) + px;\n  cache.z = z + px;\n  cache.scaleX = _round(scaleX);\n  cache.scaleY = _round(scaleY);\n  cache.rotation = _round(rotation) + deg;\n  cache.rotationX = _round(rotationX) + deg;\n  cache.rotationY = _round(rotationY) + deg;\n  cache.skewX = skewX + deg;\n  cache.skewY = skewY + deg;\n  cache.transformPerspective = perspective + px;\n\n  if (cache.zOrigin = parseFloat(origin.split(\" \")[2]) || 0) {\n    style[_transformOriginProp] = _firstTwoOnly(origin);\n  }\n\n  cache.xOffset = cache.yOffset = 0;\n  cache.force3D = _config.force3D;\n  cache.renderTransform = cache.svg ? _renderSVGTransforms : _supports3D ? _renderCSSTransforms : _renderNon3DTransforms;\n  cache.uncache = 0;\n  return cache;\n},\n    _firstTwoOnly = function _firstTwoOnly(value) {\n  return (value = value.split(\" \"))[0] + \" \" + value[1];\n},\n    //for handling transformOrigin values, stripping out the 3rd dimension\n_addPxTranslate = function _addPxTranslate(target, start, value) {\n  var unit = getUnit(start);\n  return _round(parseFloat(start) + parseFloat(_convertToUnit(target, \"x\", value + \"px\", unit))) + unit;\n},\n    _renderNon3DTransforms = function _renderNon3DTransforms(ratio, cache) {\n  cache.z = \"0px\";\n  cache.rotationY = cache.rotationX = \"0deg\";\n  cache.force3D = 0;\n\n  _renderCSSTransforms(ratio, cache);\n},\n    _zeroDeg = \"0deg\",\n    _zeroPx = \"0px\",\n    _endParenthesis = \") \",\n    _renderCSSTransforms = function _renderCSSTransforms(ratio, cache) {\n  var _ref = cache || this,\n      xPercent = _ref.xPercent,\n      yPercent = _ref.yPercent,\n      x = _ref.x,\n      y = _ref.y,\n      z = _ref.z,\n      rotation = _ref.rotation,\n      rotationY = _ref.rotationY,\n      rotationX = _ref.rotationX,\n      skewX = _ref.skewX,\n      skewY = _ref.skewY,\n      scaleX = _ref.scaleX,\n      scaleY = _ref.scaleY,\n      transformPerspective = _ref.transformPerspective,\n      force3D = _ref.force3D,\n      target = _ref.target,\n      zOrigin = _ref.zOrigin,\n      transforms = \"\",\n      use3D = force3D === \"auto\" && ratio && ratio !== 1 || force3D === true; // Safari has a bug that causes it not to render 3D transform-origin values properly, so we force the z origin to 0, record it in the cache, and then do the math here to offset the translate values accordingly (basically do the 3D transform-origin part manually)\n\n\n  if (zOrigin && (rotationX !== _zeroDeg || rotationY !== _zeroDeg)) {\n    var angle = parseFloat(rotationY) * _DEG2RAD,\n        a13 = Math.sin(angle),\n        a33 = Math.cos(angle),\n        cos;\n\n    angle = parseFloat(rotationX) * _DEG2RAD;\n    cos = Math.cos(angle);\n    x = _addPxTranslate(target, x, a13 * cos * -zOrigin);\n    y = _addPxTranslate(target, y, -Math.sin(angle) * -zOrigin);\n    z = _addPxTranslate(target, z, a33 * cos * -zOrigin + zOrigin);\n  }\n\n  if (transformPerspective !== _zeroPx) {\n    transforms += \"perspective(\" + transformPerspective + _endParenthesis;\n  }\n\n  if (xPercent || yPercent) {\n    transforms += \"translate(\" + xPercent + \"%, \" + yPercent + \"%) \";\n  }\n\n  if (use3D || x !== _zeroPx || y !== _zeroPx || z !== _zeroPx) {\n    transforms += z !== _zeroPx || use3D ? \"translate3d(\" + x + \", \" + y + \", \" + z + \") \" : \"translate(\" + x + \", \" + y + _endParenthesis;\n  }\n\n  if (rotation !== _zeroDeg) {\n    transforms += \"rotate(\" + rotation + _endParenthesis;\n  }\n\n  if (rotationY !== _zeroDeg) {\n    transforms += \"rotateY(\" + rotationY + _endParenthesis;\n  }\n\n  if (rotationX !== _zeroDeg) {\n    transforms += \"rotateX(\" + rotationX + _endParenthesis;\n  }\n\n  if (skewX !== _zeroDeg || skewY !== _zeroDeg) {\n    transforms += \"skew(\" + skewX + \", \" + skewY + _endParenthesis;\n  }\n\n  if (scaleX !== 1 || scaleY !== 1) {\n    transforms += \"scale(\" + scaleX + \", \" + scaleY + _endParenthesis;\n  }\n\n  target.style[_transformProp] = transforms || \"translate(0, 0)\";\n},\n    _renderSVGTransforms = function _renderSVGTransforms(ratio, cache) {\n  var _ref2 = cache || this,\n      xPercent = _ref2.xPercent,\n      yPercent = _ref2.yPercent,\n      x = _ref2.x,\n      y = _ref2.y,\n      rotation = _ref2.rotation,\n      skewX = _ref2.skewX,\n      skewY = _ref2.skewY,\n      scaleX = _ref2.scaleX,\n      scaleY = _ref2.scaleY,\n      target = _ref2.target,\n      xOrigin = _ref2.xOrigin,\n      yOrigin = _ref2.yOrigin,\n      xOffset = _ref2.xOffset,\n      yOffset = _ref2.yOffset,\n      forceCSS = _ref2.forceCSS,\n      tx = parseFloat(x),\n      ty = parseFloat(y),\n      a11,\n      a21,\n      a12,\n      a22,\n      temp;\n\n  rotation = parseFloat(rotation);\n  skewX = parseFloat(skewX);\n  skewY = parseFloat(skewY);\n\n  if (skewY) {\n    //for performance reasons, we combine all skewing into the skewX and rotation values. Remember, a skewY of 10 degrees looks the same as a rotation of 10 degrees plus a skewX of 10 degrees.\n    skewY = parseFloat(skewY);\n    skewX += skewY;\n    rotation += skewY;\n  }\n\n  if (rotation || skewX) {\n    rotation *= _DEG2RAD;\n    skewX *= _DEG2RAD;\n    a11 = Math.cos(rotation) * scaleX;\n    a21 = Math.sin(rotation) * scaleX;\n    a12 = Math.sin(rotation - skewX) * -scaleY;\n    a22 = Math.cos(rotation - skewX) * scaleY;\n\n    if (skewX) {\n      skewY *= _DEG2RAD;\n      temp = Math.tan(skewX - skewY);\n      temp = Math.sqrt(1 + temp * temp);\n      a12 *= temp;\n      a22 *= temp;\n\n      if (skewY) {\n        temp = Math.tan(skewY);\n        temp = Math.sqrt(1 + temp * temp);\n        a11 *= temp;\n        a21 *= temp;\n      }\n    }\n\n    a11 = _round(a11);\n    a21 = _round(a21);\n    a12 = _round(a12);\n    a22 = _round(a22);\n  } else {\n    a11 = scaleX;\n    a22 = scaleY;\n    a21 = a12 = 0;\n  }\n\n  if (tx && !~(x + \"\").indexOf(\"px\") || ty && !~(y + \"\").indexOf(\"px\")) {\n    tx = _convertToUnit(target, \"x\", x, \"px\");\n    ty = _convertToUnit(target, \"y\", y, \"px\");\n  }\n\n  if (xOrigin || yOrigin || xOffset || yOffset) {\n    tx = _round(tx + xOrigin - (xOrigin * a11 + yOrigin * a12) + xOffset);\n    ty = _round(ty + yOrigin - (xOrigin * a21 + yOrigin * a22) + yOffset);\n  }\n\n  if (xPercent || yPercent) {\n    //The SVG spec doesn't support percentage-based translation in the \"transform\" attribute, so we merge it into the translation to simulate it.\n    temp = target.getBBox();\n    tx = _round(tx + xPercent / 100 * temp.width);\n    ty = _round(ty + yPercent / 100 * temp.height);\n  }\n\n  temp = \"matrix(\" + a11 + \",\" + a21 + \",\" + a12 + \",\" + a22 + \",\" + tx + \",\" + ty + \")\";\n  target.setAttribute(\"transform\", temp);\n  forceCSS && (target.style[_transformProp] = temp); //some browsers prioritize CSS transforms over the transform attribute. When we sense that the user has CSS transforms applied, we must overwrite them this way (otherwise some browser simply won't render the  transform attribute changes!)\n},\n    _addRotationalPropTween = function _addRotationalPropTween(plugin, target, property, startNum, endValue, relative) {\n  var cap = 360,\n      isString = _isString(endValue),\n      endNum = parseFloat(endValue) * (isString && ~endValue.indexOf(\"rad\") ? _RAD2DEG : 1),\n      change = relative ? endNum * relative : endNum - startNum,\n      finalValue = startNum + change + \"deg\",\n      direction,\n      pt;\n\n  if (isString) {\n    direction = endValue.split(\"_\")[1];\n\n    if (direction === \"short\") {\n      change %= cap;\n\n      if (change !== change % (cap / 2)) {\n        change += change < 0 ? cap : -cap;\n      }\n    }\n\n    if (direction === \"cw\" && change < 0) {\n      change = (change + cap * _bigNum) % cap - ~~(change / cap) * cap;\n    } else if (direction === \"ccw\" && change > 0) {\n      change = (change - cap * _bigNum) % cap - ~~(change / cap) * cap;\n    }\n  }\n\n  plugin._pt = pt = new PropTween(plugin._pt, target, property, startNum, change, _renderPropWithEnd);\n  pt.e = finalValue;\n  pt.u = \"deg\";\n\n  plugin._props.push(property);\n\n  return pt;\n},\n    _addRawTransformPTs = function _addRawTransformPTs(plugin, transforms, target) {\n  //for handling cases where someone passes in a whole transform string, like transform: \"scale(2, 3) rotate(20deg) translateY(30em)\"\n  var style = _tempDivStyler.style,\n      startCache = target._gsap,\n      exclude = \"perspective,force3D,transformOrigin,svgOrigin\",\n      endCache,\n      p,\n      startValue,\n      endValue,\n      startNum,\n      endNum,\n      startUnit,\n      endUnit;\n  style.cssText = getComputedStyle(target).cssText + \";position:absolute;display:block;\"; //%-based translations will fail unless we set the width/height to match the original target (and padding/borders can affect it)\n\n  style[_transformProp] = transforms;\n\n  _doc.body.appendChild(_tempDivStyler);\n\n  endCache = _parseTransform(_tempDivStyler, 1);\n\n  for (p in _transformProps) {\n    startValue = startCache[p];\n    endValue = endCache[p];\n\n    if (startValue !== endValue && exclude.indexOf(p) < 0) {\n      //tweening to no perspective gives very unintuitive results - just keep the same perspective in that case.\n      startUnit = getUnit(startValue);\n      endUnit = getUnit(endValue);\n      startNum = startUnit !== endUnit ? _convertToUnit(target, p, startValue, endUnit) : parseFloat(startValue);\n      endNum = parseFloat(endValue);\n      plugin._pt = new PropTween(plugin._pt, startCache, p, startNum, endNum - startNum, _renderCSSProp);\n      plugin._pt.u = endUnit || 0;\n\n      plugin._props.push(p);\n    }\n  }\n\n  _doc.body.removeChild(_tempDivStyler);\n}; // handle splitting apart padding, margin, borderWidth, and borderRadius into their 4 components. Firefox, for example, won't report borderRadius correctly - it will only do borderTopLeftRadius and the other corners. We also want to handle paddingTop, marginLeft, borderRightWidth, etc.\n\n\n_forEachName(\"padding,margin,Width,Radius\", function (name, index) {\n  var t = \"Top\",\n      r = \"Right\",\n      b = \"Bottom\",\n      l = \"Left\",\n      props = (index < 3 ? [t, r, b, l] : [t + l, t + r, b + r, b + l]).map(function (side) {\n    return index < 2 ? name + side : \"border\" + side + name;\n  });\n\n  _specialProps[index > 1 ? \"border\" + name : name] = function (plugin, target, property, endValue, tween) {\n    var a, vars;\n\n    if (arguments.length < 4) {\n      // getter, passed target, property, and unit (from _get())\n      a = props.map(function (prop) {\n        return _get(plugin, prop, property);\n      });\n      vars = a.join(\" \");\n      return vars.split(a[0]).length === 5 ? a[0] : vars;\n    }\n\n    a = (endValue + \"\").split(\" \");\n    vars = {};\n    props.forEach(function (prop, i) {\n      return vars[prop] = a[i] = a[i] || a[(i - 1) / 2 | 0];\n    });\n    plugin.init(target, vars, tween);\n  };\n});\n\nexport var CSSPlugin = {\n  name: \"css\",\n  register: _initCore,\n  targetTest: function targetTest(target) {\n    return target.style && target.nodeType;\n  },\n  init: function init(target, vars, tween, index, targets) {\n    var props = this._props,\n        style = target.style,\n        startAt = tween.vars.startAt,\n        startValue,\n        endValue,\n        endNum,\n        startNum,\n        type,\n        specialProp,\n        p,\n        startUnit,\n        endUnit,\n        relative,\n        isTransformRelated,\n        transformPropTween,\n        cache,\n        smooth,\n        hasPriority;\n    _pluginInitted || _initCore();\n\n    for (p in vars) {\n      if (p === \"autoRound\") {\n        continue;\n      }\n\n      endValue = vars[p];\n\n      if (_plugins[p] && _checkPlugin(p, vars, tween, index, target, targets)) {\n        // plugins\n        continue;\n      }\n\n      type = typeof endValue;\n      specialProp = _specialProps[p];\n\n      if (type === \"function\") {\n        endValue = endValue.call(tween, index, target, targets);\n        type = typeof endValue;\n      }\n\n      if (type === \"string\" && ~endValue.indexOf(\"random(\")) {\n        endValue = _replaceRandom(endValue);\n      }\n\n      if (specialProp) {\n        specialProp(this, target, p, endValue, tween) && (hasPriority = 1);\n      } else if (p.substr(0, 2) === \"--\") {\n        //CSS variable\n        startValue = (getComputedStyle(target).getPropertyValue(p) + \"\").trim();\n        endValue += \"\";\n        startUnit = getUnit(startValue);\n        endUnit = getUnit(endValue);\n        endUnit ? startUnit !== endUnit && (startValue = _convertToUnit(target, p, startValue, endUnit) + endUnit) : startUnit && (endValue += startUnit);\n        this.add(style, \"setProperty\", startValue, endValue, index, targets, 0, 0, p);\n      } else if (type !== \"undefined\") {\n        if (startAt && p in startAt) {\n          // in case someone hard-codes a complex value as the start, like top: \"calc(2vh / 2)\". Without this, it'd use the computed value (always in px)\n          startValue = typeof startAt[p] === \"function\" ? startAt[p].call(tween, index, target, targets) : startAt[p];\n          p in _config.units && !getUnit(startValue) && (startValue += _config.units[p]); // for cases when someone passes in a unitless value like {x: 100}; if we try setting translate(100, 0px) it won't work.\n\n          (startValue + \"\").charAt(1) === \"=\" && (startValue = _get(target, p)); // can't work with relative values\n        } else {\n          startValue = _get(target, p);\n        }\n\n        startNum = parseFloat(startValue);\n        relative = type === \"string\" && endValue.charAt(1) === \"=\" ? +(endValue.charAt(0) + \"1\") : 0;\n        relative && (endValue = endValue.substr(2));\n        endNum = parseFloat(endValue);\n\n        if (p in _propertyAliases) {\n          if (p === \"autoAlpha\") {\n            //special case where we control the visibility along with opacity. We still allow the opacity value to pass through and get tweened.\n            if (startNum === 1 && _get(target, \"visibility\") === \"hidden\" && endNum) {\n              //if visibility is initially set to \"hidden\", we should interpret that as intent to make opacity 0 (a convenience)\n              startNum = 0;\n            }\n\n            _addNonTweeningPT(this, style, \"visibility\", startNum ? \"inherit\" : \"hidden\", endNum ? \"inherit\" : \"hidden\", !endNum);\n          }\n\n          if (p !== \"scale\" && p !== \"transform\") {\n            p = _propertyAliases[p];\n            ~p.indexOf(\",\") && (p = p.split(\",\")[0]);\n          }\n        }\n\n        isTransformRelated = p in _transformProps; //--- TRANSFORM-RELATED ---\n\n        if (isTransformRelated) {\n          if (!transformPropTween) {\n            cache = target._gsap;\n            cache.renderTransform && !vars.parseTransform || _parseTransform(target, vars.parseTransform); // if, for example, gsap.set(... {transform:\"translateX(50vw)\"}), the _get() call doesn't parse the transform, thus cache.renderTransform won't be set yet so force the parsing of the transform here.\n\n            smooth = vars.smoothOrigin !== false && cache.smooth;\n            transformPropTween = this._pt = new PropTween(this._pt, style, _transformProp, 0, 1, cache.renderTransform, cache, 0, -1); //the first time through, create the rendering PropTween so that it runs LAST (in the linked list, we keep adding to the beginning)\n\n            transformPropTween.dep = 1; //flag it as dependent so that if things get killed/overwritten and this is the only PropTween left, we can safely kill the whole tween.\n          }\n\n          if (p === \"scale\") {\n            this._pt = new PropTween(this._pt, cache, \"scaleY\", cache.scaleY, relative ? relative * endNum : endNum - cache.scaleY);\n            props.push(\"scaleY\", p);\n            p += \"X\";\n          } else if (p === \"transformOrigin\") {\n            endValue = _convertKeywordsToPercentages(endValue); //in case something like \"left top\" or \"bottom right\" is passed in. Convert to percentages.\n\n            if (cache.svg) {\n              _applySVGOrigin(target, endValue, 0, smooth, 0, this);\n            } else {\n              endUnit = parseFloat(endValue.split(\" \")[2]) || 0; //handle the zOrigin separately!\n\n              endUnit !== cache.zOrigin && _addNonTweeningPT(this, cache, \"zOrigin\", cache.zOrigin, endUnit);\n\n              _addNonTweeningPT(this, style, p, _firstTwoOnly(startValue), _firstTwoOnly(endValue));\n            }\n\n            continue;\n          } else if (p === \"svgOrigin\") {\n            _applySVGOrigin(target, endValue, 1, smooth, 0, this);\n\n            continue;\n          } else if (p in _rotationalProperties) {\n            _addRotationalPropTween(this, cache, p, startNum, endValue, relative);\n\n            continue;\n          } else if (p === \"smoothOrigin\") {\n            _addNonTweeningPT(this, cache, \"smooth\", cache.smooth, endValue);\n\n            continue;\n          } else if (p === \"force3D\") {\n            cache[p] = endValue;\n            continue;\n          } else if (p === \"transform\") {\n            _addRawTransformPTs(this, endValue, target);\n\n            continue;\n          }\n        } else if (!(p in style)) {\n          p = _checkPropPrefix(p) || p;\n        }\n\n        if (isTransformRelated || (endNum || endNum === 0) && (startNum || startNum === 0) && !_complexExp.test(endValue) && p in style) {\n          startUnit = (startValue + \"\").substr((startNum + \"\").length);\n          endNum || (endNum = 0); // protect against NaN\n\n          endUnit = getUnit(endValue) || (p in _config.units ? _config.units[p] : startUnit);\n          startUnit !== endUnit && (startNum = _convertToUnit(target, p, startValue, endUnit));\n          this._pt = new PropTween(this._pt, isTransformRelated ? cache : style, p, startNum, relative ? relative * endNum : endNum - startNum, !isTransformRelated && (endUnit === \"px\" || p === \"zIndex\") && vars.autoRound !== false ? _renderRoundedCSSProp : _renderCSSProp);\n          this._pt.u = endUnit || 0;\n\n          if (startUnit !== endUnit) {\n            //when the tween goes all the way back to the beginning, we need to revert it to the OLD/ORIGINAL value (with those units). We record that as a \"b\" (beginning) property and point to a render method that handles that. (performance optimization)\n            this._pt.b = startValue;\n            this._pt.r = _renderCSSPropWithBeginning;\n          }\n        } else if (!(p in style)) {\n          if (p in target) {\n            //maybe it's not a style - it could be a property added directly to an element in which case we'll try to animate that.\n            this.add(target, p, target[p], endValue, index, targets);\n          } else {\n            _missingPlugin(p, endValue);\n\n            continue;\n          }\n        } else {\n          _tweenComplexCSSString.call(this, target, p, startValue, endValue);\n        }\n\n        props.push(p);\n      }\n    }\n\n    hasPriority && _sortPropTweensByPriority(this);\n  },\n  get: _get,\n  aliases: _propertyAliases,\n  getSetter: function getSetter(target, property, plugin) {\n    //returns a setter function that accepts target, property, value and applies it accordingly. Remember, properties like \"x\" aren't as simple as target.style.property = value because they've got to be applied to a proxy object and then merged into a transform string in a renderer.\n    var p = _propertyAliases[property];\n    p && p.indexOf(\",\") < 0 && (property = p);\n    return property in _transformProps && property !== _transformOriginProp && (target._gsap.x || _get(target, \"x\")) ? plugin && _recentSetterPlugin === plugin ? property === \"scale\" ? _setterScale : _setterTransform : (_recentSetterPlugin = plugin || {}) && (property === \"scale\" ? _setterScaleWithRender : _setterTransformWithRender) : target.style && !_isUndefined(target.style[property]) ? _setterCSSStyle : ~property.indexOf(\"-\") ? _setterCSSProp : _getSetter(target, property);\n  },\n  core: {\n    _removeProperty: _removeProperty,\n    _getMatrix: _getMatrix\n  }\n};\ngsap.utils.checkPrefix = _checkPropPrefix;\n\n(function (positionAndScale, rotation, others, aliases) {\n  var all = _forEachName(positionAndScale + \",\" + rotation + \",\" + others, function (name) {\n    _transformProps[name] = 1;\n  });\n\n  _forEachName(rotation, function (name) {\n    _config.units[name] = \"deg\";\n    _rotationalProperties[name] = 1;\n  });\n\n  _propertyAliases[all[13]] = positionAndScale + \",\" + rotation;\n\n  _forEachName(aliases, function (name) {\n    var split = name.split(\":\");\n    _propertyAliases[split[1]] = all[split[0]];\n  });\n})(\"x,y,z,scale,scaleX,scaleY,xPercent,yPercent\", \"rotation,rotationX,rotationY,skewX,skewY\", \"transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective\", \"0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY\");\n\n_forEachName(\"x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective\", function (name) {\n  _config.units[name] = \"px\";\n});\n\ngsap.registerPlugin(CSSPlugin);\nexport { CSSPlugin as default, _getBBox, _createElement, _checkPropPrefix as checkPrefix };","import { gsap, Power0, Power1, Power2, Power3, Power4, Linear, Quad, Cubic, Quart, Quint, Strong, Elastic, Back, SteppedEase, Bounce, Sine, Expo, Circ, TweenLite, TimelineLite, TimelineMax } from \"./gsap-core.js\";\nimport { CSSPlugin } from \"./CSSPlugin.js\";\nvar gsapWithCSS = gsap.registerPlugin(CSSPlugin) || gsap,\n    // to protect from tree shaking\nTweenMaxWithCSS = gsapWithCSS.core.Tween;\nexport { gsapWithCSS as gsap, gsapWithCSS as default, CSSPlugin, TweenMaxWithCSS as TweenMax, TweenLite, TimelineMax, TimelineLite, Power0, Power1, Power2, Power3, Power4, Linear, Quad, Cubic, Quart, Quint, Strong, Elastic, Back, SteppedEase, Bounce, Sine, Expo, Circ };","import App from './App'\nimport {html, render } from 'lit-html'\nimport { gsap } from 'gsap'\n\nexport default class Toast {\n\n  static init(){\n    this.showDuration = 2.5\n    // create container element\n    this.containerEl = document.createElement('div')\n    this.containerEl.id = 'toasts'    \n    // append to <body>\n    document.body.appendChild(this.containerEl)    \n  }\n\n  static show(content, type = ''){        \n    if(!content) return\n    // create element\n    const toastEl = document.createElement('div')\n    toastEl.className = 'toast-entry'\n    if(type != \"\") toastEl.classList.add('is-error')\n    toastEl.innerText = content\n    \n    // appened to container\n    this.containerEl.appendChild(toastEl)\n    \n    // animate using gsap\n    const tl = gsap.timeline()    \n    tl.from(toastEl, { y: 60, opacity: 0, duration: 0.3, ease: \"power3.out\"})\n    tl.to(toastEl, { marginTop: -50, opacity: 0, delay: this.showDuration, duration: 0.3, onComplete: () => {\n      toastEl.remove()\n    }})\n    \n  }\n}\n","import App from \"./App\"\r\nimport Auth from './Auth'\r\nimport Toast from './Toast'\r\n\r\nlet headers = {}\r\n\r\nclass FetchAPI {\r\n\r\n    // Get all places function using asynchronous fetch API call\r\n    async getPlacesAsync() {\r\n\r\n        // headers = {\r\n        //     \"Authorization\": `Bearer ${localStorage.accessToken}` //,\r\n        //         // \"access\": JSON.stringify(currentUser.accessLevel)\r\n        // }\r\n        let response = await fetch(`${App.apiBase}/place`, {\r\n                method: 'GET',\r\n                headers: { \"Authorization\": `Bearer ${localStorage.accessToken}` }\r\n            })\r\n            // Handle result of API call - if unsuccessful, throw error with customised message\r\n        if (!response.ok) {\r\n            const message = `Problem getting places ${response.status}`\r\n            throw new Error(message)\r\n        }\r\n        // If successful, convert data to JSON and return it to the calling function\r\n        let data = await response.json();\r\n        // console.log(data)\r\n        return data;\r\n    }\r\n\r\n    // Get all devices function using asynchronous fetch API call\r\n    async getItemsAsync() {\r\n\r\n        headers = {\r\n            \"Authorization\": `Bearer ${localStorage.accessToken}` //,\r\n                // \"access\": JSON.stringify(currentUser.accessLevel)\r\n        }\r\n        let response = await fetch(`${App.apiBase}/item`, {\r\n                method: 'GET',\r\n                headers: { \"Authorization\": `Bearer ${localStorage.accessToken}` }\r\n            })\r\n            // Handle result of API call - if unsuccessful, throw error with customised message\r\n        if (!response.ok) {\r\n            const message = `Problem getting items ${response.status}`\r\n            throw new Error(message)\r\n        }\r\n        // If successful, convert data to JSON and return it to the calling function\r\n        let data = await response.json();\r\n        // console.log(data)\r\n        return data;\r\n    }\r\n\r\n    // Get all devices function using asynchronous fetch API call\r\n    async getDevicesAsync() {\r\n\r\n        headers = {\r\n            \"Authorization\": `Bearer ${localStorage.accessToken}` //,\r\n                // \"access\": JSON.stringify(currentUser.accessLevel)\r\n        }\r\n        let response = await fetch(`${App.apiBase}/device`, {\r\n                method: 'GET',\r\n                headers: {\r\n                    \"Authorization\": `Bearer ${localStorage.accessToken}`,\r\n                    \"access\": `${localStorage.accessLevel}`\r\n                }\r\n            })\r\n            // Handle result of API call - if unsuccessful, throw error with customised message\r\n        if (!response.ok) {\r\n            const message = `Problem getting devices ${response.status}`\r\n            throw new Error(message)\r\n        }\r\n        // If successful, convert data to JSON and return it to the calling function\r\n        let data = await response.json();\r\n        // console.log(data)\r\n        return data;\r\n    }\r\n\r\n    // Get all devices function using asynchronous fetch API call\r\n    async getLocationsAsync() {\r\n\r\n        headers = {\r\n            \"Authorization\": `Bearer ${localStorage.accessToken}` //,\r\n                // \"access\": JSON.stringify(currentUser.accessLevel)\r\n        }\r\n        let response = await fetch(`${App.apiBase}/location`, {\r\n                method: 'GET',\r\n                headers: {\r\n                    \"Authorization\": `Bearer ${localStorage.accessToken}`,\r\n                    \"access\": `${localStorage.accessLevel}`\r\n                }\r\n            })\r\n            // Handle result of API call - if unsuccessful, throw error with customised message\r\n        if (!response.ok) {\r\n            const message = `Problem getting devices ${response.status}`\r\n            throw new Error(message)\r\n        }\r\n        // If successful, convert data to JSON and return it to the calling function\r\n        let data = await response.json();\r\n        // console.log(data)\r\n        return data;\r\n    }\r\n\r\n    // Get all users function using asynchronous fetch API call\r\n    async getUsersAsync() {\r\n        headers = {\r\n            \"Authorization\": `Bearer ${localStorage.accessToken}` //,\r\n                // \"access\": JSON.stringify(currentUser.accessLevel)\r\n        }\r\n        let response = await fetch(`${App.apiBase}/user`, {\r\n                method: 'GET',\r\n                headers: {\r\n                    \"Authorization\": `Bearer ${localStorage.accessToken}`,\r\n                    \"access\": `${localStorage.accessLevel}`\r\n                }\r\n            })\r\n            // Handle result of API call - if unsuccessful, throw error with customised message\r\n        if (!response.ok) {\r\n            const message = `Problem getting users ${response.status}`\r\n            throw new Error(message)\r\n        }\r\n        // If successful, convert data to JSON and return it to the calling function\r\n        let data = await response.json();\r\n        // console.log(data)\r\n        return data;\r\n    }\r\n\r\n    // POST - create place function using asynchronous fetch API call\r\n    async postPlaceAsync(formData) {\r\n        headers = {\r\n            \"Authorization\": `Bearer ${localStorage.accessToken}` //,\r\n                // \"access\": JSON.stringify(currentUser.accessLevel)\r\n        }\r\n        let response = await fetch(`${App.apiBase}/place`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    \"Authorization\": `Bearer ${localStorage.accessToken}`,\r\n                    \"access\": `${localStorage.accessLevel}`\r\n                        // 'Content-Type': 'application/json'\r\n                },\r\n                // mode: 'cors',\r\n                body: formData\r\n            })\r\n            // Handle result of API call - if unsuccessful, throw error with customised message\r\n        if (!response.ok) {\r\n            Toast.show(`Problem creating place: ${response.status}`)\r\n            const message = `Problem creating place ${response.status}`\r\n            throw new Error(message)\r\n        }\r\n        // If successful, convert data to JSON and return it to the calling function\r\n        let data = await response.json();\r\n        // console.log(data)\r\n        return data;\r\n    }\r\n\r\n    // POST - create place function using asynchronous fetch API call\r\n    async postItemAsync(formData) {\r\n        headers = {\r\n            \"Authorization\": `Bearer ${localStorage.accessToken}` //,\r\n                // \"access\": JSON.stringify(currentUser.accessLevel)\r\n        }\r\n        let response = await fetch(`${App.apiBase}/item`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    \"Authorization\": `Bearer ${localStorage.accessToken}`,\r\n                    \"access\": `${localStorage.accessLevel}`\r\n                        // 'Content-Type': 'application/json'\r\n                },\r\n                // mode: 'cors',\r\n                body: formData\r\n            })\r\n            // Handle result of API call - if unsuccessful, throw error with customised message\r\n        if (!response.ok) {\r\n            Toast.show(`Problem creating item: ${response.status}`)\r\n            const message = `Problem creating item ${response.status}`\r\n            throw new Error(message)\r\n        }\r\n        // If successful, convert data to JSON and return it to the calling function\r\n        let data = await response.json();\r\n        return data;\r\n    }\r\n\r\n    // PUT - create place function using asynchronous fetch API call\r\n    async putItemAsync(formData) {\r\n\r\n        console.log(formData)\r\n        headers = {\r\n            \"Authorization\": `Bearer ${localStorage.accessToken}` //,\r\n                // \"access\": JSON.stringify(currentUser.accessLevel)\r\n        }\r\n        let response = await fetch(`${App.apiBase}/item`, {\r\n                method: 'PUT',\r\n                headers: {\r\n                    \"Authorization\": `Bearer ${localStorage.accessToken}`,\r\n                    'Content-Type': 'application/json'\r\n                        // 'Content-Type': 'application/json'\r\n                },\r\n                // mode: 'cors',\r\n                body: JSON.stringify(formData)\r\n            })\r\n            // Handle result of API call - if unsuccessful, throw error with customised message\r\n        if (!response.ok) {\r\n            Toast.show(`Problem updating item: ${response.status}`)\r\n            const message = `Problem updating item ${response.status}`\r\n            throw new Error(message)\r\n        }\r\n        // If successful, convert data to JSON and return it to the calling function\r\n        let data = await response.json();\r\n        return data;\r\n    }\r\n}\r\nexport default new FetchAPI();","import App from './App'\nimport Router, { gotoRoute } from './Router'\nimport splash from './views/partials/splash'\nimport { html, render } from 'lit-html'\nimport Toast from './Toast'\nimport FetchAPI from './FetchAPI'\n\nclass Auth {\n\n    constructor() {\n        this.currentUser = {}\n    }\n\n    // async getCurrentUser() {\n    //     return this.currentUser\n    // }\n\n    async signUp(userData, fail = false, pass = false) {\n        const response = await fetch(`${App.apiBase}/user`, {\n            method: 'POST',\n            body: userData\n        })\n\n        // console.log(`Auth.js signup method receiving user data as: ${JSON.stringify(userData)}`)\n        // if response not ok\n        if (!response.ok) {\n            // console log error\n            const err = await response.json()\n            if (err) console.log(err)\n                // show error      \n            Toast.show(`Problem creating user: ${response.status}`)\n                // run fail() functon if set\n            if (typeof fail == 'function') fail()\n        } else if (response.ok) {\n            /// sign up success - show toast and redirect to sign in page\n            localStorage.accessLevel >= 1 ?\n                Toast.show('Account created') :\n                Toast.show('Account created, please sign in')\n            pass()\n                // redirect to signin\n            gotoRoute('/')\n        } else {\n            // show error      \n            // Toast.show(`Problem getting user: ${response.status}`)\n        }\n    }\n\n\n    async signIn(userData, fail = false) {\n        const response = await fetch(`${App.apiBase}/auth/signin`, {\n            method: 'POST',\n            body: userData\n        })\n\n        // if response not ok\n        if (!response.ok) {\n            // console log error\n            const err = await response.json()\n            if (err) console.log(err)\n                // show error      \n            Toast.show(`Problem signing in: ${err.message}`, 'error')\n                // run fail() functon if set\n            if (typeof fail == 'function') fail()\n            return\n        }\n\n        // sign in success\n        const data = await response.json()\n        Toast.show(`Welcome  ${data.user.firstName}`)\n            // save access token (jwt) to local storage\n        localStorage.setItem('accessToken', data.accessToken)\n            // set current user\n        this.currentUser = data.user\n        localStorage.setItem('accessLevel', data.user.accessLevel)\n\n        // Initialise router and load all relevant entities\n        Router.init()\n        gotoRoute('/')\n        window.location.reload()\n    }\n\n\n    async check(success) {\n        // show splash screen while loading ...   \n        render(splash, App.rootEl)\n\n        // check local token is there\n        if (!localStorage.accessToken) {\n            // no local token!\n            Toast.show(\"Please sign in\")\n                // redirect to sign in page      \n            gotoRoute('/')\n            return\n        }\n\n        // token must exist - validate token via the backend\n        const response = await fetch(`${App.apiBase}/auth/validate`, {\n            method: 'GET',\n            headers: {\n                \"Authorization\": `Bearer ${localStorage.accessToken}`\n            }\n        })\n\n        // if response not ok\n        if (!response.ok) {\n            // console log error\n            const err = await response.json()\n            if (err) console.log(err)\n                // delete local token\n            localStorage.removeItem('accessToken')\n            localStorage.removeItem('user')\n            localStorage.removeItem('accessLevel')\n            Toast.show(\"session expired, please sign in\")\n                // redirect to sign in      \n            gotoRoute('/')\n            return\n        }\n\n        // token is valid!\n        const data = await response.json()\n            // console.log(data)\n            // set currentUser obj\n        this.currentUser = data.user\n            // run success\n        success()\n    }\n\n    signOut() {\n        Toast.show(\"You are signed out\")\n            // delete local token\n        localStorage.removeItem('accessToken')\n        localStorage.removeItem('user')\n        localStorage.removeItem('accessLevel')\n            // redirect to sign in    \n        gotoRoute('/')\n        window.location.reload()\n            // unset currentUser\n        this.currentUser = null\n    }\n}\n\nexport default new Auth()","import gsap from 'gsap'\n\nclass Utils {\n\n  isMobile(){\n    let viewportWidth = window.innerWidth\n    if(viewportWidth <= 768){\n      return true\n    }else{\n      return false\n    }\n  }\n\n\n  pageIntroAnim(){\n    const pageContent = document.querySelector('.page-content')\n    if(!pageContent) return\n    gsap.fromTo(pageContent, {opacity: 0, y: -12}, {opacity: 1, y: 0, ease: 'power2.out', duration: 0.3})\n  }\n}\n\nexport default new Utils()","/*!\n * Chart.js v3.2.1\n * https://www.chartjs.org\n * (c) 2021 Chart.js Contributors\n * Released under the MIT License\n */\nfunction fontString(pixelSize, fontStyle, fontFamily) {\n  return fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\n}\nconst requestAnimFrame = (function() {\n  if (typeof window === 'undefined') {\n    return function(callback) {\n      return callback();\n    };\n  }\n  return window.requestAnimationFrame;\n}());\nfunction throttled(fn, thisArg, updateFn) {\n  const updateArgs = updateFn || ((args) => Array.prototype.slice.call(args));\n  let ticking = false;\n  let args = [];\n  return function(...rest) {\n    args = updateArgs(rest);\n    if (!ticking) {\n      ticking = true;\n      requestAnimFrame.call(window, () => {\n        ticking = false;\n        fn.apply(thisArg, args);\n      });\n    }\n  };\n}\nfunction debounce(fn, delay) {\n  let timeout;\n  return function() {\n    if (delay) {\n      clearTimeout(timeout);\n      timeout = setTimeout(fn, delay);\n    } else {\n      fn();\n    }\n    return delay;\n  };\n}\nconst _toLeftRightCenter = (align) => align === 'start' ? 'left' : align === 'end' ? 'right' : 'center';\nconst _alignStartEnd = (align, start, end) => align === 'start' ? start : align === 'end' ? end : (start + end) / 2;\nconst _textX = (align, left, right) => align === 'right' ? right : align === 'center' ? (left + right) / 2 : left;\n\nfunction noop() {}\nconst uid = (function() {\n  let id = 0;\n  return function() {\n    return id++;\n  };\n}());\nfunction isNullOrUndef(value) {\n  return value === null || typeof value === 'undefined';\n}\nfunction isArray(value) {\n  if (Array.isArray && Array.isArray(value)) {\n    return true;\n  }\n  const type = Object.prototype.toString.call(value);\n  if (type.substr(0, 7) === '[object' && type.substr(-6) === 'Array]') {\n    return true;\n  }\n  return false;\n}\nfunction isObject(value) {\n  return value !== null && Object.prototype.toString.call(value) === '[object Object]';\n}\nconst isNumberFinite = (value) => (typeof value === 'number' || value instanceof Number) && isFinite(+value);\nfunction finiteOrDefault(value, defaultValue) {\n  return isNumberFinite(value) ? value : defaultValue;\n}\nfunction valueOrDefault(value, defaultValue) {\n  return typeof value === 'undefined' ? defaultValue : value;\n}\nconst toPercentage = (value, dimension) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100\n    : value / dimension;\nconst toDimension = (value, dimension) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100 * dimension\n    : +value;\nfunction callback(fn, args, thisArg) {\n  if (fn && typeof fn.call === 'function') {\n    return fn.apply(thisArg, args);\n  }\n}\nfunction each(loopable, fn, thisArg, reverse) {\n  let i, len, keys;\n  if (isArray(loopable)) {\n    len = loopable.length;\n    if (reverse) {\n      for (i = len - 1; i >= 0; i--) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    } else {\n      for (i = 0; i < len; i++) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    }\n  } else if (isObject(loopable)) {\n    keys = Object.keys(loopable);\n    len = keys.length;\n    for (i = 0; i < len; i++) {\n      fn.call(thisArg, loopable[keys[i]], keys[i]);\n    }\n  }\n}\nfunction _elementsEqual(a0, a1) {\n  let i, ilen, v0, v1;\n  if (!a0 || !a1 || a0.length !== a1.length) {\n    return false;\n  }\n  for (i = 0, ilen = a0.length; i < ilen; ++i) {\n    v0 = a0[i];\n    v1 = a1[i];\n    if (v0.datasetIndex !== v1.datasetIndex || v0.index !== v1.index) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction clone$1(source) {\n  if (isArray(source)) {\n    return source.map(clone$1);\n  }\n  if (isObject(source)) {\n    const target = Object.create(null);\n    const keys = Object.keys(source);\n    const klen = keys.length;\n    let k = 0;\n    for (; k < klen; ++k) {\n      target[keys[k]] = clone$1(source[keys[k]]);\n    }\n    return target;\n  }\n  return source;\n}\nfunction isValidKey(key) {\n  return ['__proto__', 'prototype', 'constructor'].indexOf(key) === -1;\n}\nfunction _merger(key, target, source, options) {\n  if (!isValidKey(key)) {\n    return;\n  }\n  const tval = target[key];\n  const sval = source[key];\n  if (isObject(tval) && isObject(sval)) {\n    merge(tval, sval, options);\n  } else {\n    target[key] = clone$1(sval);\n  }\n}\nfunction merge(target, source, options) {\n  const sources = isArray(source) ? source : [source];\n  const ilen = sources.length;\n  if (!isObject(target)) {\n    return target;\n  }\n  options = options || {};\n  const merger = options.merger || _merger;\n  for (let i = 0; i < ilen; ++i) {\n    source = sources[i];\n    if (!isObject(source)) {\n      continue;\n    }\n    const keys = Object.keys(source);\n    for (let k = 0, klen = keys.length; k < klen; ++k) {\n      merger(keys[k], target, source, options);\n    }\n  }\n  return target;\n}\nfunction mergeIf(target, source) {\n  return merge(target, source, {merger: _mergerIf});\n}\nfunction _mergerIf(key, target, source) {\n  if (!isValidKey(key)) {\n    return;\n  }\n  const tval = target[key];\n  const sval = source[key];\n  if (isObject(tval) && isObject(sval)) {\n    mergeIf(tval, sval);\n  } else if (!Object.prototype.hasOwnProperty.call(target, key)) {\n    target[key] = clone$1(sval);\n  }\n}\nfunction _deprecated(scope, value, previous, current) {\n  if (value !== undefined) {\n    console.warn(scope + ': \"' + previous +\n\t\t\t'\" is deprecated. Please use \"' + current + '\" instead');\n  }\n}\nconst emptyString = '';\nconst dot = '.';\nfunction indexOfDotOrLength(key, start) {\n  const idx = key.indexOf(dot, start);\n  return idx === -1 ? key.length : idx;\n}\nfunction resolveObjectKey(obj, key) {\n  if (key === emptyString) {\n    return obj;\n  }\n  let pos = 0;\n  let idx = indexOfDotOrLength(key, pos);\n  while (obj && idx > pos) {\n    obj = obj[key.substr(pos, idx - pos)];\n    pos = idx + 1;\n    idx = indexOfDotOrLength(key, pos);\n  }\n  return obj;\n}\nfunction _capitalize(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\nconst defined = (value) => typeof value !== 'undefined';\nconst isFunction = (value) => typeof value === 'function';\nconst setsEqual = (a, b) => {\n  if (a.size !== b.size) {\n    return false;\n  }\n  for (const item of a) {\n    if (!b.has(item)) {\n      return false;\n    }\n  }\n  return true;\n};\n\nconst PI = Math.PI;\nconst TAU = 2 * PI;\nconst PITAU = TAU + PI;\nconst INFINITY = Number.POSITIVE_INFINITY;\nconst RAD_PER_DEG = PI / 180;\nconst HALF_PI = PI / 2;\nconst QUARTER_PI = PI / 4;\nconst TWO_THIRDS_PI = PI * 2 / 3;\nconst log10 = Math.log10;\nconst sign = Math.sign;\nfunction niceNum(range) {\n  const niceRange = Math.pow(10, Math.floor(log10(range)));\n  const fraction = range / niceRange;\n  const niceFraction = fraction <= 1 ? 1 : fraction <= 2 ? 2 : fraction <= 5 ? 5 : 10;\n  return niceFraction * niceRange;\n}\nfunction _factorize(value) {\n  const result = [];\n  const sqrt = Math.sqrt(value);\n  let i;\n  for (i = 1; i < sqrt; i++) {\n    if (value % i === 0) {\n      result.push(i);\n      result.push(value / i);\n    }\n  }\n  if (sqrt === (sqrt | 0)) {\n    result.push(sqrt);\n  }\n  result.sort((a, b) => a - b).pop();\n  return result;\n}\nfunction isNumber(n) {\n  return !isNaN(parseFloat(n)) && isFinite(n);\n}\nfunction almostEquals(x, y, epsilon) {\n  return Math.abs(x - y) < epsilon;\n}\nfunction almostWhole(x, epsilon) {\n  const rounded = Math.round(x);\n  return ((rounded - epsilon) <= x) && ((rounded + epsilon) >= x);\n}\nfunction _setMinAndMaxByKey(array, target, property) {\n  let i, ilen, value;\n  for (i = 0, ilen = array.length; i < ilen; i++) {\n    value = array[i][property];\n    if (!isNaN(value)) {\n      target.min = Math.min(target.min, value);\n      target.max = Math.max(target.max, value);\n    }\n  }\n}\nfunction toRadians(degrees) {\n  return degrees * (PI / 180);\n}\nfunction toDegrees(radians) {\n  return radians * (180 / PI);\n}\nfunction _decimalPlaces(x) {\n  if (!isNumberFinite(x)) {\n    return;\n  }\n  let e = 1;\n  let p = 0;\n  while (Math.round(x * e) / e !== x) {\n    e *= 10;\n    p++;\n  }\n  return p;\n}\nfunction getAngleFromPoint(centrePoint, anglePoint) {\n  const distanceFromXCenter = anglePoint.x - centrePoint.x;\n  const distanceFromYCenter = anglePoint.y - centrePoint.y;\n  const radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n  let angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\n  if (angle < (-0.5 * PI)) {\n    angle += TAU;\n  }\n  return {\n    angle,\n    distance: radialDistanceFromCenter\n  };\n}\nfunction distanceBetweenPoints(pt1, pt2) {\n  return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\n}\nfunction _angleDiff(a, b) {\n  return (a - b + PITAU) % TAU - PI;\n}\nfunction _normalizeAngle(a) {\n  return (a % TAU + TAU) % TAU;\n}\nfunction _angleBetween(angle, start, end) {\n  const a = _normalizeAngle(angle);\n  const s = _normalizeAngle(start);\n  const e = _normalizeAngle(end);\n  const angleToStart = _normalizeAngle(s - a);\n  const angleToEnd = _normalizeAngle(e - a);\n  const startToAngle = _normalizeAngle(a - s);\n  const endToAngle = _normalizeAngle(a - e);\n  return a === s || a === e || (angleToStart > angleToEnd && startToAngle < endToAngle);\n}\nfunction _limitValue(value, min, max) {\n  return Math.max(min, Math.min(max, value));\n}\nfunction _int16Range(value) {\n  return _limitValue(value, -32768, 32767);\n}\n\nconst atEdge = (t) => t === 0 || t === 1;\nconst elasticIn = (t, s, p) => -(Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * TAU / p));\nconst elasticOut = (t, s, p) => Math.pow(2, -10 * t) * Math.sin((t - s) * TAU / p) + 1;\nconst effects = {\n  linear: t => t,\n  easeInQuad: t => t * t,\n  easeOutQuad: t => -t * (t - 2),\n  easeInOutQuad: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t\n    : -0.5 * ((--t) * (t - 2) - 1),\n  easeInCubic: t => t * t * t,\n  easeOutCubic: t => (t -= 1) * t * t + 1,\n  easeInOutCubic: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t\n    : 0.5 * ((t -= 2) * t * t + 2),\n  easeInQuart: t => t * t * t * t,\n  easeOutQuart: t => -((t -= 1) * t * t * t - 1),\n  easeInOutQuart: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t\n    : -0.5 * ((t -= 2) * t * t * t - 2),\n  easeInQuint: t => t * t * t * t * t,\n  easeOutQuint: t => (t -= 1) * t * t * t * t + 1,\n  easeInOutQuint: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t * t\n    : 0.5 * ((t -= 2) * t * t * t * t + 2),\n  easeInSine: t => -Math.cos(t * HALF_PI) + 1,\n  easeOutSine: t => Math.sin(t * HALF_PI),\n  easeInOutSine: t => -0.5 * (Math.cos(PI * t) - 1),\n  easeInExpo: t => (t === 0) ? 0 : Math.pow(2, 10 * (t - 1)),\n  easeOutExpo: t => (t === 1) ? 1 : -Math.pow(2, -10 * t) + 1,\n  easeInOutExpo: t => atEdge(t) ? t : t < 0.5\n    ? 0.5 * Math.pow(2, 10 * (t * 2 - 1))\n    : 0.5 * (-Math.pow(2, -10 * (t * 2 - 1)) + 2),\n  easeInCirc: t => (t >= 1) ? t : -(Math.sqrt(1 - t * t) - 1),\n  easeOutCirc: t => Math.sqrt(1 - (t -= 1) * t),\n  easeInOutCirc: t => ((t /= 0.5) < 1)\n    ? -0.5 * (Math.sqrt(1 - t * t) - 1)\n    : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1),\n  easeInElastic: t => atEdge(t) ? t : elasticIn(t, 0.075, 0.3),\n  easeOutElastic: t => atEdge(t) ? t : elasticOut(t, 0.075, 0.3),\n  easeInOutElastic(t) {\n    const s = 0.1125;\n    const p = 0.45;\n    return atEdge(t) ? t :\n      t < 0.5\n        ? 0.5 * elasticIn(t * 2, s, p)\n        : 0.5 + 0.5 * elasticOut(t * 2 - 1, s, p);\n  },\n  easeInBack(t) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n  },\n  easeOutBack(t) {\n    const s = 1.70158;\n    return (t -= 1) * t * ((s + 1) * t + s) + 1;\n  },\n  easeInOutBack(t) {\n    let s = 1.70158;\n    if ((t /= 0.5) < 1) {\n      return 0.5 * (t * t * (((s *= (1.525)) + 1) * t - s));\n    }\n    return 0.5 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);\n  },\n  easeInBounce: t => 1 - effects.easeOutBounce(1 - t),\n  easeOutBounce(t) {\n    const m = 7.5625;\n    const d = 2.75;\n    if (t < (1 / d)) {\n      return m * t * t;\n    }\n    if (t < (2 / d)) {\n      return m * (t -= (1.5 / d)) * t + 0.75;\n    }\n    if (t < (2.5 / d)) {\n      return m * (t -= (2.25 / d)) * t + 0.9375;\n    }\n    return m * (t -= (2.625 / d)) * t + 0.984375;\n  },\n  easeInOutBounce: t => (t < 0.5)\n    ? effects.easeInBounce(t * 2) * 0.5\n    : effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5,\n};\n\n/*!\n * @kurkle/color v0.1.9\n * https://github.com/kurkle/color#readme\n * (c) 2020 Jukka Kurkela\n * Released under the MIT License\n */\nconst map = {0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, A: 10, B: 11, C: 12, D: 13, E: 14, F: 15, a: 10, b: 11, c: 12, d: 13, e: 14, f: 15};\nconst hex = '0123456789ABCDEF';\nconst h1 = (b) => hex[b & 0xF];\nconst h2 = (b) => hex[(b & 0xF0) >> 4] + hex[b & 0xF];\nconst eq = (b) => (((b & 0xF0) >> 4) === (b & 0xF));\nfunction isShort(v) {\n\treturn eq(v.r) && eq(v.g) && eq(v.b) && eq(v.a);\n}\nfunction hexParse(str) {\n\tvar len = str.length;\n\tvar ret;\n\tif (str[0] === '#') {\n\t\tif (len === 4 || len === 5) {\n\t\t\tret = {\n\t\t\t\tr: 255 & map[str[1]] * 17,\n\t\t\t\tg: 255 & map[str[2]] * 17,\n\t\t\t\tb: 255 & map[str[3]] * 17,\n\t\t\t\ta: len === 5 ? map[str[4]] * 17 : 255\n\t\t\t};\n\t\t} else if (len === 7 || len === 9) {\n\t\t\tret = {\n\t\t\t\tr: map[str[1]] << 4 | map[str[2]],\n\t\t\t\tg: map[str[3]] << 4 | map[str[4]],\n\t\t\t\tb: map[str[5]] << 4 | map[str[6]],\n\t\t\t\ta: len === 9 ? (map[str[7]] << 4 | map[str[8]]) : 255\n\t\t\t};\n\t\t}\n\t}\n\treturn ret;\n}\nfunction hexString(v) {\n\tvar f = isShort(v) ? h1 : h2;\n\treturn v\n\t\t? '#' + f(v.r) + f(v.g) + f(v.b) + (v.a < 255 ? f(v.a) : '')\n\t\t: v;\n}\nfunction round(v) {\n\treturn v + 0.5 | 0;\n}\nconst lim = (v, l, h) => Math.max(Math.min(v, h), l);\nfunction p2b(v) {\n\treturn lim(round(v * 2.55), 0, 255);\n}\nfunction n2b(v) {\n\treturn lim(round(v * 255), 0, 255);\n}\nfunction b2n(v) {\n\treturn lim(round(v / 2.55) / 100, 0, 1);\n}\nfunction n2p(v) {\n\treturn lim(round(v * 100), 0, 100);\n}\nconst RGB_RE = /^rgba?\\(\\s*([-+.\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?(?:[\\s,/]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction rgbParse(str) {\n\tconst m = RGB_RE.exec(str);\n\tlet a = 255;\n\tlet r, g, b;\n\tif (!m) {\n\t\treturn;\n\t}\n\tif (m[7] !== r) {\n\t\tconst v = +m[7];\n\t\ta = 255 & (m[8] ? p2b(v) : v * 255);\n\t}\n\tr = +m[1];\n\tg = +m[3];\n\tb = +m[5];\n\tr = 255 & (m[2] ? p2b(r) : r);\n\tg = 255 & (m[4] ? p2b(g) : g);\n\tb = 255 & (m[6] ? p2b(b) : b);\n\treturn {\n\t\tr: r,\n\t\tg: g,\n\t\tb: b,\n\t\ta: a\n\t};\n}\nfunction rgbString(v) {\n\treturn v && (\n\t\tv.a < 255\n\t\t\t? `rgba(${v.r}, ${v.g}, ${v.b}, ${b2n(v.a)})`\n\t\t\t: `rgb(${v.r}, ${v.g}, ${v.b})`\n\t);\n}\nconst HUE_RE = /^(hsla?|hwb|hsv)\\(\\s*([-+.e\\d]+)(?:deg)?[\\s,]+([-+.e\\d]+)%[\\s,]+([-+.e\\d]+)%(?:[\\s,]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction hsl2rgbn(h, s, l) {\n\tconst a = s * Math.min(l, 1 - l);\n\tconst f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n\treturn [f(0), f(8), f(4)];\n}\nfunction hsv2rgbn(h, s, v) {\n\tconst f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\n\treturn [f(5), f(3), f(1)];\n}\nfunction hwb2rgbn(h, w, b) {\n\tconst rgb = hsl2rgbn(h, 1, 0.5);\n\tlet i;\n\tif (w + b > 1) {\n\t\ti = 1 / (w + b);\n\t\tw *= i;\n\t\tb *= i;\n\t}\n\tfor (i = 0; i < 3; i++) {\n\t\trgb[i] *= 1 - w - b;\n\t\trgb[i] += w;\n\t}\n\treturn rgb;\n}\nfunction rgb2hsl(v) {\n\tconst range = 255;\n\tconst r = v.r / range;\n\tconst g = v.g / range;\n\tconst b = v.b / range;\n\tconst max = Math.max(r, g, b);\n\tconst min = Math.min(r, g, b);\n\tconst l = (max + min) / 2;\n\tlet h, s, d;\n\tif (max !== min) {\n\t\td = max - min;\n\t\ts = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n\t\th = max === r\n\t\t\t? ((g - b) / d) + (g < b ? 6 : 0)\n\t\t\t: max === g\n\t\t\t\t? (b - r) / d + 2\n\t\t\t\t: (r - g) / d + 4;\n\t\th = h * 60 + 0.5;\n\t}\n\treturn [h | 0, s || 0, l];\n}\nfunction calln(f, a, b, c) {\n\treturn (\n\t\tArray.isArray(a)\n\t\t\t? f(a[0], a[1], a[2])\n\t\t\t: f(a, b, c)\n\t).map(n2b);\n}\nfunction hsl2rgb(h, s, l) {\n\treturn calln(hsl2rgbn, h, s, l);\n}\nfunction hwb2rgb(h, w, b) {\n\treturn calln(hwb2rgbn, h, w, b);\n}\nfunction hsv2rgb(h, s, v) {\n\treturn calln(hsv2rgbn, h, s, v);\n}\nfunction hue(h) {\n\treturn (h % 360 + 360) % 360;\n}\nfunction hueParse(str) {\n\tconst m = HUE_RE.exec(str);\n\tlet a = 255;\n\tlet v;\n\tif (!m) {\n\t\treturn;\n\t}\n\tif (m[5] !== v) {\n\t\ta = m[6] ? p2b(+m[5]) : n2b(+m[5]);\n\t}\n\tconst h = hue(+m[2]);\n\tconst p1 = +m[3] / 100;\n\tconst p2 = +m[4] / 100;\n\tif (m[1] === 'hwb') {\n\t\tv = hwb2rgb(h, p1, p2);\n\t} else if (m[1] === 'hsv') {\n\t\tv = hsv2rgb(h, p1, p2);\n\t} else {\n\t\tv = hsl2rgb(h, p1, p2);\n\t}\n\treturn {\n\t\tr: v[0],\n\t\tg: v[1],\n\t\tb: v[2],\n\t\ta: a\n\t};\n}\nfunction rotate(v, deg) {\n\tvar h = rgb2hsl(v);\n\th[0] = hue(h[0] + deg);\n\th = hsl2rgb(h);\n\tv.r = h[0];\n\tv.g = h[1];\n\tv.b = h[2];\n}\nfunction hslString(v) {\n\tif (!v) {\n\t\treturn;\n\t}\n\tconst a = rgb2hsl(v);\n\tconst h = a[0];\n\tconst s = n2p(a[1]);\n\tconst l = n2p(a[2]);\n\treturn v.a < 255\n\t\t? `hsla(${h}, ${s}%, ${l}%, ${b2n(v.a)})`\n\t\t: `hsl(${h}, ${s}%, ${l}%)`;\n}\nconst map$1 = {\n\tx: 'dark',\n\tZ: 'light',\n\tY: 're',\n\tX: 'blu',\n\tW: 'gr',\n\tV: 'medium',\n\tU: 'slate',\n\tA: 'ee',\n\tT: 'ol',\n\tS: 'or',\n\tB: 'ra',\n\tC: 'lateg',\n\tD: 'ights',\n\tR: 'in',\n\tQ: 'turquois',\n\tE: 'hi',\n\tP: 'ro',\n\tO: 'al',\n\tN: 'le',\n\tM: 'de',\n\tL: 'yello',\n\tF: 'en',\n\tK: 'ch',\n\tG: 'arks',\n\tH: 'ea',\n\tI: 'ightg',\n\tJ: 'wh'\n};\nconst names = {\n\tOiceXe: 'f0f8ff',\n\tantiquewEte: 'faebd7',\n\taqua: 'ffff',\n\taquamarRe: '7fffd4',\n\tazuY: 'f0ffff',\n\tbeige: 'f5f5dc',\n\tbisque: 'ffe4c4',\n\tblack: '0',\n\tblanKedOmond: 'ffebcd',\n\tXe: 'ff',\n\tXeviTet: '8a2be2',\n\tbPwn: 'a52a2a',\n\tburlywood: 'deb887',\n\tcaMtXe: '5f9ea0',\n\tKartYuse: '7fff00',\n\tKocTate: 'd2691e',\n\tcSO: 'ff7f50',\n\tcSnflowerXe: '6495ed',\n\tcSnsilk: 'fff8dc',\n\tcrimson: 'dc143c',\n\tcyan: 'ffff',\n\txXe: '8b',\n\txcyan: '8b8b',\n\txgTMnPd: 'b8860b',\n\txWay: 'a9a9a9',\n\txgYF: '6400',\n\txgYy: 'a9a9a9',\n\txkhaki: 'bdb76b',\n\txmagFta: '8b008b',\n\txTivegYF: '556b2f',\n\txSange: 'ff8c00',\n\txScEd: '9932cc',\n\txYd: '8b0000',\n\txsOmon: 'e9967a',\n\txsHgYF: '8fbc8f',\n\txUXe: '483d8b',\n\txUWay: '2f4f4f',\n\txUgYy: '2f4f4f',\n\txQe: 'ced1',\n\txviTet: '9400d3',\n\tdAppRk: 'ff1493',\n\tdApskyXe: 'bfff',\n\tdimWay: '696969',\n\tdimgYy: '696969',\n\tdodgerXe: '1e90ff',\n\tfiYbrick: 'b22222',\n\tflSOwEte: 'fffaf0',\n\tfoYstWAn: '228b22',\n\tfuKsia: 'ff00ff',\n\tgaRsbSo: 'dcdcdc',\n\tghostwEte: 'f8f8ff',\n\tgTd: 'ffd700',\n\tgTMnPd: 'daa520',\n\tWay: '808080',\n\tgYF: '8000',\n\tgYFLw: 'adff2f',\n\tgYy: '808080',\n\thoneyMw: 'f0fff0',\n\thotpRk: 'ff69b4',\n\tRdianYd: 'cd5c5c',\n\tRdigo: '4b0082',\n\tivSy: 'fffff0',\n\tkhaki: 'f0e68c',\n\tlavFMr: 'e6e6fa',\n\tlavFMrXsh: 'fff0f5',\n\tlawngYF: '7cfc00',\n\tNmoncEffon: 'fffacd',\n\tZXe: 'add8e6',\n\tZcSO: 'f08080',\n\tZcyan: 'e0ffff',\n\tZgTMnPdLw: 'fafad2',\n\tZWay: 'd3d3d3',\n\tZgYF: '90ee90',\n\tZgYy: 'd3d3d3',\n\tZpRk: 'ffb6c1',\n\tZsOmon: 'ffa07a',\n\tZsHgYF: '20b2aa',\n\tZskyXe: '87cefa',\n\tZUWay: '778899',\n\tZUgYy: '778899',\n\tZstAlXe: 'b0c4de',\n\tZLw: 'ffffe0',\n\tlime: 'ff00',\n\tlimegYF: '32cd32',\n\tlRF: 'faf0e6',\n\tmagFta: 'ff00ff',\n\tmaPon: '800000',\n\tVaquamarRe: '66cdaa',\n\tVXe: 'cd',\n\tVScEd: 'ba55d3',\n\tVpurpN: '9370db',\n\tVsHgYF: '3cb371',\n\tVUXe: '7b68ee',\n\tVsprRggYF: 'fa9a',\n\tVQe: '48d1cc',\n\tVviTetYd: 'c71585',\n\tmidnightXe: '191970',\n\tmRtcYam: 'f5fffa',\n\tmistyPse: 'ffe4e1',\n\tmoccasR: 'ffe4b5',\n\tnavajowEte: 'ffdead',\n\tnavy: '80',\n\tTdlace: 'fdf5e6',\n\tTive: '808000',\n\tTivedBb: '6b8e23',\n\tSange: 'ffa500',\n\tSangeYd: 'ff4500',\n\tScEd: 'da70d6',\n\tpOegTMnPd: 'eee8aa',\n\tpOegYF: '98fb98',\n\tpOeQe: 'afeeee',\n\tpOeviTetYd: 'db7093',\n\tpapayawEp: 'ffefd5',\n\tpHKpuff: 'ffdab9',\n\tperu: 'cd853f',\n\tpRk: 'ffc0cb',\n\tplum: 'dda0dd',\n\tpowMrXe: 'b0e0e6',\n\tpurpN: '800080',\n\tYbeccapurpN: '663399',\n\tYd: 'ff0000',\n\tPsybrown: 'bc8f8f',\n\tPyOXe: '4169e1',\n\tsaddNbPwn: '8b4513',\n\tsOmon: 'fa8072',\n\tsandybPwn: 'f4a460',\n\tsHgYF: '2e8b57',\n\tsHshell: 'fff5ee',\n\tsiFna: 'a0522d',\n\tsilver: 'c0c0c0',\n\tskyXe: '87ceeb',\n\tUXe: '6a5acd',\n\tUWay: '708090',\n\tUgYy: '708090',\n\tsnow: 'fffafa',\n\tsprRggYF: 'ff7f',\n\tstAlXe: '4682b4',\n\ttan: 'd2b48c',\n\tteO: '8080',\n\ttEstN: 'd8bfd8',\n\ttomato: 'ff6347',\n\tQe: '40e0d0',\n\tviTet: 'ee82ee',\n\tJHt: 'f5deb3',\n\twEte: 'ffffff',\n\twEtesmoke: 'f5f5f5',\n\tLw: 'ffff00',\n\tLwgYF: '9acd32'\n};\nfunction unpack() {\n\tconst unpacked = {};\n\tconst keys = Object.keys(names);\n\tconst tkeys = Object.keys(map$1);\n\tlet i, j, k, ok, nk;\n\tfor (i = 0; i < keys.length; i++) {\n\t\tok = nk = keys[i];\n\t\tfor (j = 0; j < tkeys.length; j++) {\n\t\t\tk = tkeys[j];\n\t\t\tnk = nk.replace(k, map$1[k]);\n\t\t}\n\t\tk = parseInt(names[ok], 16);\n\t\tunpacked[nk] = [k >> 16 & 0xFF, k >> 8 & 0xFF, k & 0xFF];\n\t}\n\treturn unpacked;\n}\nlet names$1;\nfunction nameParse(str) {\n\tif (!names$1) {\n\t\tnames$1 = unpack();\n\t\tnames$1.transparent = [0, 0, 0, 0];\n\t}\n\tconst a = names$1[str.toLowerCase()];\n\treturn a && {\n\t\tr: a[0],\n\t\tg: a[1],\n\t\tb: a[2],\n\t\ta: a.length === 4 ? a[3] : 255\n\t};\n}\nfunction modHSL(v, i, ratio) {\n\tif (v) {\n\t\tlet tmp = rgb2hsl(v);\n\t\ttmp[i] = Math.max(0, Math.min(tmp[i] + tmp[i] * ratio, i === 0 ? 360 : 1));\n\t\ttmp = hsl2rgb(tmp);\n\t\tv.r = tmp[0];\n\t\tv.g = tmp[1];\n\t\tv.b = tmp[2];\n\t}\n}\nfunction clone(v, proto) {\n\treturn v ? Object.assign(proto || {}, v) : v;\n}\nfunction fromObject(input) {\n\tvar v = {r: 0, g: 0, b: 0, a: 255};\n\tif (Array.isArray(input)) {\n\t\tif (input.length >= 3) {\n\t\t\tv = {r: input[0], g: input[1], b: input[2], a: 255};\n\t\t\tif (input.length > 3) {\n\t\t\t\tv.a = n2b(input[3]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tv = clone(input, {r: 0, g: 0, b: 0, a: 1});\n\t\tv.a = n2b(v.a);\n\t}\n\treturn v;\n}\nfunction functionParse(str) {\n\tif (str.charAt(0) === 'r') {\n\t\treturn rgbParse(str);\n\t}\n\treturn hueParse(str);\n}\nclass Color {\n\tconstructor(input) {\n\t\tif (input instanceof Color) {\n\t\t\treturn input;\n\t\t}\n\t\tconst type = typeof input;\n\t\tlet v;\n\t\tif (type === 'object') {\n\t\t\tv = fromObject(input);\n\t\t} else if (type === 'string') {\n\t\t\tv = hexParse(input) || nameParse(input) || functionParse(input);\n\t\t}\n\t\tthis._rgb = v;\n\t\tthis._valid = !!v;\n\t}\n\tget valid() {\n\t\treturn this._valid;\n\t}\n\tget rgb() {\n\t\tvar v = clone(this._rgb);\n\t\tif (v) {\n\t\t\tv.a = b2n(v.a);\n\t\t}\n\t\treturn v;\n\t}\n\tset rgb(obj) {\n\t\tthis._rgb = fromObject(obj);\n\t}\n\trgbString() {\n\t\treturn this._valid ? rgbString(this._rgb) : this._rgb;\n\t}\n\thexString() {\n\t\treturn this._valid ? hexString(this._rgb) : this._rgb;\n\t}\n\thslString() {\n\t\treturn this._valid ? hslString(this._rgb) : this._rgb;\n\t}\n\tmix(color, weight) {\n\t\tconst me = this;\n\t\tif (color) {\n\t\t\tconst c1 = me.rgb;\n\t\t\tconst c2 = color.rgb;\n\t\t\tlet w2;\n\t\t\tconst p = weight === w2 ? 0.5 : weight;\n\t\t\tconst w = 2 * p - 1;\n\t\t\tconst a = c1.a - c2.a;\n\t\t\tconst w1 = ((w * a === -1 ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n\t\t\tw2 = 1 - w1;\n\t\t\tc1.r = 0xFF & w1 * c1.r + w2 * c2.r + 0.5;\n\t\t\tc1.g = 0xFF & w1 * c1.g + w2 * c2.g + 0.5;\n\t\t\tc1.b = 0xFF & w1 * c1.b + w2 * c2.b + 0.5;\n\t\t\tc1.a = p * c1.a + (1 - p) * c2.a;\n\t\t\tme.rgb = c1;\n\t\t}\n\t\treturn me;\n\t}\n\tclone() {\n\t\treturn new Color(this.rgb);\n\t}\n\talpha(a) {\n\t\tthis._rgb.a = n2b(a);\n\t\treturn this;\n\t}\n\tclearer(ratio) {\n\t\tconst rgb = this._rgb;\n\t\trgb.a *= 1 - ratio;\n\t\treturn this;\n\t}\n\tgreyscale() {\n\t\tconst rgb = this._rgb;\n\t\tconst val = round(rgb.r * 0.3 + rgb.g * 0.59 + rgb.b * 0.11);\n\t\trgb.r = rgb.g = rgb.b = val;\n\t\treturn this;\n\t}\n\topaquer(ratio) {\n\t\tconst rgb = this._rgb;\n\t\trgb.a *= 1 + ratio;\n\t\treturn this;\n\t}\n\tnegate() {\n\t\tconst v = this._rgb;\n\t\tv.r = 255 - v.r;\n\t\tv.g = 255 - v.g;\n\t\tv.b = 255 - v.b;\n\t\treturn this;\n\t}\n\tlighten(ratio) {\n\t\tmodHSL(this._rgb, 2, ratio);\n\t\treturn this;\n\t}\n\tdarken(ratio) {\n\t\tmodHSL(this._rgb, 2, -ratio);\n\t\treturn this;\n\t}\n\tsaturate(ratio) {\n\t\tmodHSL(this._rgb, 1, ratio);\n\t\treturn this;\n\t}\n\tdesaturate(ratio) {\n\t\tmodHSL(this._rgb, 1, -ratio);\n\t\treturn this;\n\t}\n\trotate(deg) {\n\t\trotate(this._rgb, deg);\n\t\treturn this;\n\t}\n}\nfunction index_esm(input) {\n\treturn new Color(input);\n}\n\nconst isPatternOrGradient = (value) => value instanceof CanvasGradient || value instanceof CanvasPattern;\nfunction color(value) {\n  return isPatternOrGradient(value) ? value : index_esm(value);\n}\nfunction getHoverColor(value) {\n  return isPatternOrGradient(value)\n    ? value\n    : index_esm(value).saturate(0.5).darken(0.1).hexString();\n}\n\nconst overrides = Object.create(null);\nconst descriptors = Object.create(null);\nfunction getScope$1(node, key) {\n  if (!key) {\n    return node;\n  }\n  const keys = key.split('.');\n  for (let i = 0, n = keys.length; i < n; ++i) {\n    const k = keys[i];\n    node = node[k] || (node[k] = Object.create(null));\n  }\n  return node;\n}\nfunction set(root, scope, values) {\n  if (typeof scope === 'string') {\n    return merge(getScope$1(root, scope), values);\n  }\n  return merge(getScope$1(root, ''), scope);\n}\nclass Defaults {\n  constructor(_descriptors) {\n    this.animation = undefined;\n    this.backgroundColor = 'rgba(0,0,0,0.1)';\n    this.borderColor = 'rgba(0,0,0,0.1)';\n    this.color = '#666';\n    this.datasets = {};\n    this.devicePixelRatio = (context) => context.chart.platform.getDevicePixelRatio();\n    this.elements = {};\n    this.events = [\n      'mousemove',\n      'mouseout',\n      'click',\n      'touchstart',\n      'touchmove'\n    ];\n    this.font = {\n      family: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n      size: 12,\n      style: 'normal',\n      lineHeight: 1.2,\n      weight: null\n    };\n    this.hover = {};\n    this.hoverBackgroundColor = (ctx, options) => getHoverColor(options.backgroundColor);\n    this.hoverBorderColor = (ctx, options) => getHoverColor(options.borderColor);\n    this.hoverColor = (ctx, options) => getHoverColor(options.color);\n    this.indexAxis = 'x';\n    this.interaction = {\n      mode: 'nearest',\n      intersect: true\n    };\n    this.maintainAspectRatio = true;\n    this.onHover = null;\n    this.onClick = null;\n    this.parsing = true;\n    this.plugins = {};\n    this.responsive = true;\n    this.scale = undefined;\n    this.scales = {};\n    this.showLine = true;\n    this.describe(_descriptors);\n  }\n  set(scope, values) {\n    return set(this, scope, values);\n  }\n  get(scope) {\n    return getScope$1(this, scope);\n  }\n  describe(scope, values) {\n    return set(descriptors, scope, values);\n  }\n  override(scope, values) {\n    return set(overrides, scope, values);\n  }\n  route(scope, name, targetScope, targetName) {\n    const scopeObject = getScope$1(this, scope);\n    const targetScopeObject = getScope$1(this, targetScope);\n    const privateName = '_' + name;\n    Object.defineProperties(scopeObject, {\n      [privateName]: {\n        value: scopeObject[name],\n        writable: true\n      },\n      [name]: {\n        enumerable: true,\n        get() {\n          const local = this[privateName];\n          const target = targetScopeObject[targetName];\n          if (isObject(local)) {\n            return Object.assign({}, target, local);\n          }\n          return valueOrDefault(local, target);\n        },\n        set(value) {\n          this[privateName] = value;\n        }\n      }\n    });\n  }\n}\nvar defaults = new Defaults({\n  _scriptable: (name) => !name.startsWith('on'),\n  _indexable: (name) => name !== 'events',\n  hover: {\n    _fallback: 'interaction'\n  },\n  interaction: {\n    _scriptable: false,\n    _indexable: false,\n  }\n});\n\nfunction toFontString(font) {\n  if (!font || isNullOrUndef(font.size) || isNullOrUndef(font.family)) {\n    return null;\n  }\n  return (font.style ? font.style + ' ' : '')\n\t\t+ (font.weight ? font.weight + ' ' : '')\n\t\t+ font.size + 'px '\n\t\t+ font.family;\n}\nfunction _measureText(ctx, data, gc, longest, string) {\n  let textWidth = data[string];\n  if (!textWidth) {\n    textWidth = data[string] = ctx.measureText(string).width;\n    gc.push(string);\n  }\n  if (textWidth > longest) {\n    longest = textWidth;\n  }\n  return longest;\n}\nfunction _longestText(ctx, font, arrayOfThings, cache) {\n  cache = cache || {};\n  let data = cache.data = cache.data || {};\n  let gc = cache.garbageCollect = cache.garbageCollect || [];\n  if (cache.font !== font) {\n    data = cache.data = {};\n    gc = cache.garbageCollect = [];\n    cache.font = font;\n  }\n  ctx.save();\n  ctx.font = font;\n  let longest = 0;\n  const ilen = arrayOfThings.length;\n  let i, j, jlen, thing, nestedThing;\n  for (i = 0; i < ilen; i++) {\n    thing = arrayOfThings[i];\n    if (thing !== undefined && thing !== null && isArray(thing) !== true) {\n      longest = _measureText(ctx, data, gc, longest, thing);\n    } else if (isArray(thing)) {\n      for (j = 0, jlen = thing.length; j < jlen; j++) {\n        nestedThing = thing[j];\n        if (nestedThing !== undefined && nestedThing !== null && !isArray(nestedThing)) {\n          longest = _measureText(ctx, data, gc, longest, nestedThing);\n        }\n      }\n    }\n  }\n  ctx.restore();\n  const gcLen = gc.length / 2;\n  if (gcLen > arrayOfThings.length) {\n    for (i = 0; i < gcLen; i++) {\n      delete data[gc[i]];\n    }\n    gc.splice(0, gcLen);\n  }\n  return longest;\n}\nfunction _alignPixel(chart, pixel, width) {\n  const devicePixelRatio = chart.currentDevicePixelRatio;\n  const halfWidth = width !== 0 ? Math.max(width / 2, 0.5) : 0;\n  return Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\n}\nfunction clearCanvas(canvas, ctx) {\n  ctx = ctx || canvas.getContext('2d');\n  ctx.save();\n  ctx.resetTransform();\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.restore();\n}\nfunction drawPoint(ctx, options, x, y) {\n  let type, xOffset, yOffset, size, cornerRadius;\n  const style = options.pointStyle;\n  const rotation = options.rotation;\n  const radius = options.radius;\n  let rad = (rotation || 0) * RAD_PER_DEG;\n  if (style && typeof style === 'object') {\n    type = style.toString();\n    if (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.rotate(rad);\n      ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\n      ctx.restore();\n      return;\n    }\n  }\n  if (isNaN(radius) || radius <= 0) {\n    return;\n  }\n  ctx.beginPath();\n  switch (style) {\n  default:\n    ctx.arc(x, y, radius, 0, TAU);\n    ctx.closePath();\n    break;\n  case 'triangle':\n    ctx.moveTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    rad += TWO_THIRDS_PI;\n    ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    rad += TWO_THIRDS_PI;\n    ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    ctx.closePath();\n    break;\n  case 'rectRounded':\n    cornerRadius = radius * 0.516;\n    size = radius - cornerRadius;\n    xOffset = Math.cos(rad + QUARTER_PI) * size;\n    yOffset = Math.sin(rad + QUARTER_PI) * size;\n    ctx.arc(x - xOffset, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\n    ctx.arc(x + yOffset, y - xOffset, cornerRadius, rad - HALF_PI, rad);\n    ctx.arc(x + xOffset, y + yOffset, cornerRadius, rad, rad + HALF_PI);\n    ctx.arc(x - yOffset, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\n    ctx.closePath();\n    break;\n  case 'rect':\n    if (!rotation) {\n      size = Math.SQRT1_2 * radius;\n      ctx.rect(x - size, y - size, 2 * size, 2 * size);\n      break;\n    }\n    rad += QUARTER_PI;\n  case 'rectRot':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    ctx.closePath();\n    break;\n  case 'crossRot':\n    rad += QUARTER_PI;\n  case 'cross':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    break;\n  case 'star':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    rad += QUARTER_PI;\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    break;\n  case 'line':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    break;\n  case 'dash':\n    ctx.moveTo(x, y);\n    ctx.lineTo(x + Math.cos(rad) * radius, y + Math.sin(rad) * radius);\n    break;\n  }\n  ctx.fill();\n  if (options.borderWidth > 0) {\n    ctx.stroke();\n  }\n}\nfunction _isPointInArea(point, area, margin) {\n  margin = margin || 0.5;\n  return point && point.x > area.left - margin && point.x < area.right + margin &&\n\t\tpoint.y > area.top - margin && point.y < area.bottom + margin;\n}\nfunction clipArea(ctx, area) {\n  ctx.save();\n  ctx.beginPath();\n  ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\n  ctx.clip();\n}\nfunction unclipArea(ctx) {\n  ctx.restore();\n}\nfunction _steppedLineTo(ctx, previous, target, flip, mode) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  if (mode === 'middle') {\n    const midpoint = (previous.x + target.x) / 2.0;\n    ctx.lineTo(midpoint, previous.y);\n    ctx.lineTo(midpoint, target.y);\n  } else if (mode === 'after' !== !!flip) {\n    ctx.lineTo(previous.x, target.y);\n  } else {\n    ctx.lineTo(target.x, previous.y);\n  }\n  ctx.lineTo(target.x, target.y);\n}\nfunction _bezierCurveTo(ctx, previous, target, flip) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  ctx.bezierCurveTo(\n    flip ? previous.cp1x : previous.cp2x,\n    flip ? previous.cp1y : previous.cp2y,\n    flip ? target.cp2x : target.cp1x,\n    flip ? target.cp2y : target.cp1y,\n    target.x,\n    target.y);\n}\nfunction renderText(ctx, text, x, y, font, opts = {}) {\n  const lines = isArray(text) ? text : [text];\n  const stroke = opts.strokeWidth > 0 && opts.strokeColor !== '';\n  let i, line;\n  ctx.save();\n  if (opts.translation) {\n    ctx.translate(opts.translation[0], opts.translation[1]);\n  }\n  if (!isNullOrUndef(opts.rotation)) {\n    ctx.rotate(opts.rotation);\n  }\n  ctx.font = font.string;\n  if (opts.color) {\n    ctx.fillStyle = opts.color;\n  }\n  if (opts.textAlign) {\n    ctx.textAlign = opts.textAlign;\n  }\n  if (opts.textBaseline) {\n    ctx.textBaseline = opts.textBaseline;\n  }\n  for (i = 0; i < lines.length; ++i) {\n    line = lines[i];\n    if (stroke) {\n      if (opts.strokeColor) {\n        ctx.strokeStyle = opts.strokeColor;\n      }\n      if (!isNullOrUndef(opts.strokeWidth)) {\n        ctx.lineWidth = opts.strokeWidth;\n      }\n      ctx.strokeText(line, x, y, opts.maxWidth);\n    }\n    ctx.fillText(line, x, y, opts.maxWidth);\n    if (opts.strikethrough || opts.underline) {\n      const metrics = ctx.measureText(line);\n      const left = x - metrics.actualBoundingBoxLeft;\n      const right = x + metrics.actualBoundingBoxRight;\n      const top = y - metrics.actualBoundingBoxAscent;\n      const bottom = y + metrics.actualBoundingBoxDescent;\n      const yDecoration = opts.strikethrough ? (top + bottom) / 2 : bottom;\n      ctx.strokeStyle = ctx.fillStyle;\n      ctx.beginPath();\n      ctx.lineWidth = opts.decorationWidth || 2;\n      ctx.moveTo(left, yDecoration);\n      ctx.lineTo(right, yDecoration);\n      ctx.stroke();\n    }\n    y += font.lineHeight;\n  }\n  ctx.restore();\n}\nfunction addRoundedRectPath(ctx, rect) {\n  const {x, y, w, h, radius} = rect;\n  ctx.arc(x + radius.topLeft, y + radius.topLeft, radius.topLeft, -HALF_PI, PI, true);\n  ctx.lineTo(x, y + h - radius.bottomLeft);\n  ctx.arc(x + radius.bottomLeft, y + h - radius.bottomLeft, radius.bottomLeft, PI, HALF_PI, true);\n  ctx.lineTo(x + w - radius.bottomRight, y + h);\n  ctx.arc(x + w - radius.bottomRight, y + h - radius.bottomRight, radius.bottomRight, HALF_PI, 0, true);\n  ctx.lineTo(x + w, y + radius.topRight);\n  ctx.arc(x + w - radius.topRight, y + radius.topRight, radius.topRight, 0, -HALF_PI, true);\n  ctx.lineTo(x + radius.topLeft, y);\n}\n\nconst LINE_HEIGHT = new RegExp(/^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/);\nconst FONT_STYLE = new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);\nfunction toLineHeight(value, size) {\n  const matches = ('' + value).match(LINE_HEIGHT);\n  if (!matches || matches[1] === 'normal') {\n    return size * 1.2;\n  }\n  value = +matches[2];\n  switch (matches[3]) {\n  case 'px':\n    return value;\n  case '%':\n    value /= 100;\n    break;\n  }\n  return size * value;\n}\nconst numberOrZero = v => +v || 0;\nfunction _readValueToProps(value, props) {\n  const ret = {};\n  const objProps = isObject(props);\n  const keys = objProps ? Object.keys(props) : props;\n  const read = isObject(value)\n    ? objProps\n      ? prop => valueOrDefault(value[prop], value[props[prop]])\n      : prop => value[prop]\n    : () => value;\n  for (const prop of keys) {\n    ret[prop] = numberOrZero(read(prop));\n  }\n  return ret;\n}\nfunction toTRBL(value) {\n  return _readValueToProps(value, {top: 'y', right: 'x', bottom: 'y', left: 'x'});\n}\nfunction toTRBLCorners(value) {\n  return _readValueToProps(value, ['topLeft', 'topRight', 'bottomLeft', 'bottomRight']);\n}\nfunction toPadding(value) {\n  const obj = toTRBL(value);\n  obj.width = obj.left + obj.right;\n  obj.height = obj.top + obj.bottom;\n  return obj;\n}\nfunction toFont(options, fallback) {\n  options = options || {};\n  fallback = fallback || defaults.font;\n  let size = valueOrDefault(options.size, fallback.size);\n  if (typeof size === 'string') {\n    size = parseInt(size, 10);\n  }\n  let style = valueOrDefault(options.style, fallback.style);\n  if (style && !('' + style).match(FONT_STYLE)) {\n    console.warn('Invalid font style specified: \"' + style + '\"');\n    style = '';\n  }\n  const font = {\n    family: valueOrDefault(options.family, fallback.family),\n    lineHeight: toLineHeight(valueOrDefault(options.lineHeight, fallback.lineHeight), size),\n    size,\n    style,\n    weight: valueOrDefault(options.weight, fallback.weight),\n    string: ''\n  };\n  font.string = toFontString(font);\n  return font;\n}\nfunction resolve(inputs, context, index, info) {\n  let cacheable = true;\n  let i, ilen, value;\n  for (i = 0, ilen = inputs.length; i < ilen; ++i) {\n    value = inputs[i];\n    if (value === undefined) {\n      continue;\n    }\n    if (context !== undefined && typeof value === 'function') {\n      value = value(context);\n      cacheable = false;\n    }\n    if (index !== undefined && isArray(value)) {\n      value = value[index % value.length];\n      cacheable = false;\n    }\n    if (value !== undefined) {\n      if (info && !cacheable) {\n        info.cacheable = false;\n      }\n      return value;\n    }\n  }\n}\nfunction _addGrace(minmax, grace) {\n  const {min, max} = minmax;\n  return {\n    min: min - Math.abs(toDimension(grace, min)),\n    max: max + toDimension(grace, max)\n  };\n}\n\nfunction _lookup(table, value, cmp) {\n  cmp = cmp || ((index) => table[index] < value);\n  let hi = table.length - 1;\n  let lo = 0;\n  let mid;\n  while (hi - lo > 1) {\n    mid = (lo + hi) >> 1;\n    if (cmp(mid)) {\n      lo = mid;\n    } else {\n      hi = mid;\n    }\n  }\n  return {lo, hi};\n}\nconst _lookupByKey = (table, key, value) =>\n  _lookup(table, value, index => table[index][key] < value);\nconst _rlookupByKey = (table, key, value) =>\n  _lookup(table, value, index => table[index][key] >= value);\nfunction _filterBetween(values, min, max) {\n  let start = 0;\n  let end = values.length;\n  while (start < end && values[start] < min) {\n    start++;\n  }\n  while (end > start && values[end - 1] > max) {\n    end--;\n  }\n  return start > 0 || end < values.length\n    ? values.slice(start, end)\n    : values;\n}\nconst arrayEvents = ['push', 'pop', 'shift', 'splice', 'unshift'];\nfunction listenArrayEvents(array, listener) {\n  if (array._chartjs) {\n    array._chartjs.listeners.push(listener);\n    return;\n  }\n  Object.defineProperty(array, '_chartjs', {\n    configurable: true,\n    enumerable: false,\n    value: {\n      listeners: [listener]\n    }\n  });\n  arrayEvents.forEach((key) => {\n    const method = '_onData' + _capitalize(key);\n    const base = array[key];\n    Object.defineProperty(array, key, {\n      configurable: true,\n      enumerable: false,\n      value(...args) {\n        const res = base.apply(this, args);\n        array._chartjs.listeners.forEach((object) => {\n          if (typeof object[method] === 'function') {\n            object[method](...args);\n          }\n        });\n        return res;\n      }\n    });\n  });\n}\nfunction unlistenArrayEvents(array, listener) {\n  const stub = array._chartjs;\n  if (!stub) {\n    return;\n  }\n  const listeners = stub.listeners;\n  const index = listeners.indexOf(listener);\n  if (index !== -1) {\n    listeners.splice(index, 1);\n  }\n  if (listeners.length > 0) {\n    return;\n  }\n  arrayEvents.forEach((key) => {\n    delete array[key];\n  });\n  delete array._chartjs;\n}\nfunction _arrayUnique(items) {\n  const set = new Set();\n  let i, ilen;\n  for (i = 0, ilen = items.length; i < ilen; ++i) {\n    set.add(items[i]);\n  }\n  if (set.size === ilen) {\n    return items;\n  }\n  const result = [];\n  set.forEach(item => {\n    result.push(item);\n  });\n  return result;\n}\n\nfunction _createResolver(scopes, prefixes = [''], rootScopes = scopes, fallback, getTarget = () => scopes[0]) {\n  if (!defined(fallback)) {\n    fallback = _resolve('_fallback', scopes);\n  }\n  const cache = {\n    [Symbol.toStringTag]: 'Object',\n    _cacheable: true,\n    _scopes: scopes,\n    _rootScopes: rootScopes,\n    _fallback: fallback,\n    _getTarget: getTarget,\n    override: (scope) => _createResolver([scope, ...scopes], prefixes, rootScopes, fallback),\n  };\n  return new Proxy(cache, {\n    deleteProperty(target, prop) {\n      delete target[prop];\n      delete target._keys;\n      delete scopes[0][prop];\n      return true;\n    },\n    get(target, prop) {\n      return _cached(target, prop,\n        () => _resolveWithPrefixes(prop, prefixes, scopes, target));\n    },\n    getOwnPropertyDescriptor(target, prop) {\n      return Reflect.getOwnPropertyDescriptor(target._scopes[0], prop);\n    },\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(scopes[0]);\n    },\n    has(target, prop) {\n      return getKeysFromAllScopes(target).includes(prop);\n    },\n    ownKeys(target) {\n      return getKeysFromAllScopes(target);\n    },\n    set(target, prop, value) {\n      const storage = target._storage || (target._storage = getTarget());\n      storage[prop] = value;\n      delete target[prop];\n      delete target._keys;\n      return true;\n    }\n  });\n}\nfunction _attachContext(proxy, context, subProxy, descriptorDefaults) {\n  const cache = {\n    _cacheable: false,\n    _proxy: proxy,\n    _context: context,\n    _subProxy: subProxy,\n    _stack: new Set(),\n    _descriptors: _descriptors(proxy, descriptorDefaults),\n    setContext: (ctx) => _attachContext(proxy, ctx, subProxy, descriptorDefaults),\n    override: (scope) => _attachContext(proxy.override(scope), context, subProxy, descriptorDefaults)\n  };\n  return new Proxy(cache, {\n    deleteProperty(target, prop) {\n      delete target[prop];\n      delete proxy[prop];\n      return true;\n    },\n    get(target, prop, receiver) {\n      return _cached(target, prop,\n        () => _resolveWithContext(target, prop, receiver));\n    },\n    getOwnPropertyDescriptor(target, prop) {\n      return target._descriptors.allKeys\n        ? Reflect.has(proxy, prop) ? {enumerable: true, configurable: true} : undefined\n        : Reflect.getOwnPropertyDescriptor(proxy, prop);\n    },\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(proxy);\n    },\n    has(target, prop) {\n      return Reflect.has(proxy, prop);\n    },\n    ownKeys() {\n      return Reflect.ownKeys(proxy);\n    },\n    set(target, prop, value) {\n      proxy[prop] = value;\n      delete target[prop];\n      return true;\n    }\n  });\n}\nfunction _descriptors(proxy, defaults = {scriptable: true, indexable: true}) {\n  const {_scriptable = defaults.scriptable, _indexable = defaults.indexable, _allKeys = defaults.allKeys} = proxy;\n  return {\n    allKeys: _allKeys,\n    scriptable: _scriptable,\n    indexable: _indexable,\n    isScriptable: isFunction(_scriptable) ? _scriptable : () => _scriptable,\n    isIndexable: isFunction(_indexable) ? _indexable : () => _indexable\n  };\n}\nconst readKey = (prefix, name) => prefix ? prefix + _capitalize(name) : name;\nconst needsSubResolver = (prop, value) => isObject(value) && prop !== 'adapters';\nfunction _cached(target, prop, resolve) {\n  let value = target[prop];\n  if (defined(value)) {\n    return value;\n  }\n  value = resolve();\n  if (defined(value)) {\n    target[prop] = value;\n  }\n  return value;\n}\nfunction _resolveWithContext(target, prop, receiver) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n  let value = _proxy[prop];\n  if (isFunction(value) && descriptors.isScriptable(prop)) {\n    value = _resolveScriptable(prop, value, target, receiver);\n  }\n  if (isArray(value) && value.length) {\n    value = _resolveArray(prop, value, target, descriptors.isIndexable);\n  }\n  if (needsSubResolver(prop, value)) {\n    value = _attachContext(value, _context, _subProxy && _subProxy[prop], descriptors);\n  }\n  return value;\n}\nfunction _resolveScriptable(prop, value, target, receiver) {\n  const {_proxy, _context, _subProxy, _stack} = target;\n  if (_stack.has(prop)) {\n    throw new Error('Recursion detected: ' + [..._stack].join('->') + '->' + prop);\n  }\n  _stack.add(prop);\n  value = value(_context, _subProxy || receiver);\n  _stack.delete(prop);\n  if (isObject(value)) {\n    value = createSubResolver(_proxy._scopes, _proxy, prop, value);\n  }\n  return value;\n}\nfunction _resolveArray(prop, value, target, isIndexable) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n  if (defined(_context.index) && isIndexable(prop)) {\n    value = value[_context.index % value.length];\n  } else if (isObject(value[0])) {\n    const arr = value;\n    const scopes = _proxy._scopes.filter(s => s !== arr);\n    value = [];\n    for (const item of arr) {\n      const resolver = createSubResolver(scopes, _proxy, prop, item);\n      value.push(_attachContext(resolver, _context, _subProxy && _subProxy[prop], descriptors));\n    }\n  }\n  return value;\n}\nfunction resolveFallback(fallback, prop, value) {\n  return isFunction(fallback) ? fallback(prop, value) : fallback;\n}\nconst getScope = (key, parent) => key === true ? parent\n  : typeof key === 'string' ? resolveObjectKey(parent, key) : undefined;\nfunction addScopes(set, parentScopes, key, parentFallback) {\n  for (const parent of parentScopes) {\n    const scope = getScope(key, parent);\n    if (scope) {\n      set.add(scope);\n      const fallback = resolveFallback(scope._fallback, key, scope);\n      if (defined(fallback) && fallback !== key && fallback !== parentFallback) {\n        return fallback;\n      }\n    } else if (scope === false && defined(parentFallback) && key !== parentFallback) {\n      return null;\n    }\n  }\n  return false;\n}\nfunction createSubResolver(parentScopes, resolver, prop, value) {\n  const rootScopes = resolver._rootScopes;\n  const fallback = resolveFallback(resolver._fallback, prop, value);\n  const allScopes = [...parentScopes, ...rootScopes];\n  const set = new Set();\n  set.add(value);\n  let key = addScopesFromKey(set, allScopes, prop, fallback || prop);\n  if (key === null) {\n    return false;\n  }\n  if (defined(fallback) && fallback !== prop) {\n    key = addScopesFromKey(set, allScopes, fallback, key);\n    if (key === null) {\n      return false;\n    }\n  }\n  return _createResolver([...set], [''], rootScopes, fallback, () => {\n    const parent = resolver._getTarget();\n    if (!(prop in parent)) {\n      parent[prop] = {};\n    }\n    return parent[prop];\n  });\n}\nfunction addScopesFromKey(set, allScopes, key, fallback) {\n  while (key) {\n    key = addScopes(set, allScopes, key, fallback);\n  }\n  return key;\n}\nfunction _resolveWithPrefixes(prop, prefixes, scopes, proxy) {\n  let value;\n  for (const prefix of prefixes) {\n    value = _resolve(readKey(prefix, prop), scopes);\n    if (defined(value)) {\n      return needsSubResolver(prop, value)\n        ? createSubResolver(scopes, proxy, prop, value)\n        : value;\n    }\n  }\n}\nfunction _resolve(key, scopes) {\n  for (const scope of scopes) {\n    if (!scope) {\n      continue;\n    }\n    const value = scope[key];\n    if (defined(value)) {\n      return value;\n    }\n  }\n}\nfunction getKeysFromAllScopes(target) {\n  let keys = target._keys;\n  if (!keys) {\n    keys = target._keys = resolveKeysFromAllScopes(target._scopes);\n  }\n  return keys;\n}\nfunction resolveKeysFromAllScopes(scopes) {\n  const set = new Set();\n  for (const scope of scopes) {\n    for (const key of Object.keys(scope).filter(k => !k.startsWith('_'))) {\n      set.add(key);\n    }\n  }\n  return [...set];\n}\n\nconst EPSILON = Number.EPSILON || 1e-14;\nconst getPoint = (points, i) => i < points.length && !points[i].skip && points[i];\nfunction splineCurve(firstPoint, middlePoint, afterPoint, t) {\n  const previous = firstPoint.skip ? middlePoint : firstPoint;\n  const current = middlePoint;\n  const next = afterPoint.skip ? middlePoint : afterPoint;\n  const d01 = distanceBetweenPoints(current, previous);\n  const d12 = distanceBetweenPoints(next, current);\n  let s01 = d01 / (d01 + d12);\n  let s12 = d12 / (d01 + d12);\n  s01 = isNaN(s01) ? 0 : s01;\n  s12 = isNaN(s12) ? 0 : s12;\n  const fa = t * s01;\n  const fb = t * s12;\n  return {\n    previous: {\n      x: current.x - fa * (next.x - previous.x),\n      y: current.y - fa * (next.y - previous.y)\n    },\n    next: {\n      x: current.x + fb * (next.x - previous.x),\n      y: current.y + fb * (next.y - previous.y)\n    }\n  };\n}\nfunction monotoneAdjust(points, deltaK, mK) {\n  const pointsLen = points.length;\n  let alphaK, betaK, tauK, squaredMagnitude, pointCurrent;\n  let pointAfter = getPoint(points, 0);\n  for (let i = 0; i < pointsLen - 1; ++i) {\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent || !pointAfter) {\n      continue;\n    }\n    if (almostEquals(deltaK[i], 0, EPSILON)) {\n      mK[i] = mK[i + 1] = 0;\n      continue;\n    }\n    alphaK = mK[i] / deltaK[i];\n    betaK = mK[i + 1] / deltaK[i];\n    squaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\n    if (squaredMagnitude <= 9) {\n      continue;\n    }\n    tauK = 3 / Math.sqrt(squaredMagnitude);\n    mK[i] = alphaK * tauK * deltaK[i];\n    mK[i + 1] = betaK * tauK * deltaK[i];\n  }\n}\nfunction monotoneCompute(points, mK) {\n  const pointsLen = points.length;\n  let deltaX, pointBefore, pointCurrent;\n  let pointAfter = getPoint(points, 0);\n  for (let i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n    const {x, y} = pointCurrent;\n    if (pointBefore) {\n      deltaX = (x - pointBefore.x) / 3;\n      pointCurrent.cp1x = x - deltaX;\n      pointCurrent.cp1y = y - deltaX * mK[i];\n    }\n    if (pointAfter) {\n      deltaX = (pointAfter.x - x) / 3;\n      pointCurrent.cp2x = x + deltaX;\n      pointCurrent.cp2y = y + deltaX * mK[i];\n    }\n  }\n}\nfunction splineCurveMonotone(points) {\n  const pointsLen = points.length;\n  const deltaK = Array(pointsLen).fill(0);\n  const mK = Array(pointsLen);\n  let i, pointBefore, pointCurrent;\n  let pointAfter = getPoint(points, 0);\n  for (i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n    if (pointAfter) {\n      const slopeDeltaX = (pointAfter.x - pointCurrent.x);\n      deltaK[i] = slopeDeltaX !== 0 ? (pointAfter.y - pointCurrent.y) / slopeDeltaX : 0;\n    }\n    mK[i] = !pointBefore ? deltaK[i]\n      : !pointAfter ? deltaK[i - 1]\n      : (sign(deltaK[i - 1]) !== sign(deltaK[i])) ? 0\n      : (deltaK[i - 1] + deltaK[i]) / 2;\n  }\n  monotoneAdjust(points, deltaK, mK);\n  monotoneCompute(points, mK);\n}\nfunction capControlPoint(pt, min, max) {\n  return Math.max(Math.min(pt, max), min);\n}\nfunction capBezierPoints(points, area) {\n  let i, ilen, point, inArea, inAreaPrev;\n  let inAreaNext = _isPointInArea(points[0], area);\n  for (i = 0, ilen = points.length; i < ilen; ++i) {\n    inAreaPrev = inArea;\n    inArea = inAreaNext;\n    inAreaNext = i < ilen - 1 && _isPointInArea(points[i + 1], area);\n    if (!inArea) {\n      continue;\n    }\n    point = points[i];\n    if (inAreaPrev) {\n      point.cp1x = capControlPoint(point.cp1x, area.left, area.right);\n      point.cp1y = capControlPoint(point.cp1y, area.top, area.bottom);\n    }\n    if (inAreaNext) {\n      point.cp2x = capControlPoint(point.cp2x, area.left, area.right);\n      point.cp2y = capControlPoint(point.cp2y, area.top, area.bottom);\n    }\n  }\n}\nfunction _updateBezierControlPoints(points, options, area, loop) {\n  let i, ilen, point, controlPoints;\n  if (options.spanGaps) {\n    points = points.filter((pt) => !pt.skip);\n  }\n  if (options.cubicInterpolationMode === 'monotone') {\n    splineCurveMonotone(points);\n  } else {\n    let prev = loop ? points[points.length - 1] : points[0];\n    for (i = 0, ilen = points.length; i < ilen; ++i) {\n      point = points[i];\n      controlPoints = splineCurve(\n        prev,\n        point,\n        points[Math.min(i + 1, ilen - (loop ? 0 : 1)) % ilen],\n        options.tension\n      );\n      point.cp1x = controlPoints.previous.x;\n      point.cp1y = controlPoints.previous.y;\n      point.cp2x = controlPoints.next.x;\n      point.cp2y = controlPoints.next.y;\n      prev = point;\n    }\n  }\n  if (options.capBezierPoints) {\n    capBezierPoints(points, area);\n  }\n}\n\nfunction _getParentNode(domNode) {\n  let parent = domNode.parentNode;\n  if (parent && parent.toString() === '[object ShadowRoot]') {\n    parent = parent.host;\n  }\n  return parent;\n}\nfunction parseMaxStyle(styleValue, node, parentProperty) {\n  let valueInPixels;\n  if (typeof styleValue === 'string') {\n    valueInPixels = parseInt(styleValue, 10);\n    if (styleValue.indexOf('%') !== -1) {\n      valueInPixels = valueInPixels / 100 * node.parentNode[parentProperty];\n    }\n  } else {\n    valueInPixels = styleValue;\n  }\n  return valueInPixels;\n}\nconst getComputedStyle = (element) => window.getComputedStyle(element, null);\nfunction getStyle(el, property) {\n  return getComputedStyle(el).getPropertyValue(property);\n}\nconst positions = ['top', 'right', 'bottom', 'left'];\nfunction getPositionedStyle(styles, style, suffix) {\n  const result = {};\n  suffix = suffix ? '-' + suffix : '';\n  for (let i = 0; i < 4; i++) {\n    const pos = positions[i];\n    result[pos] = parseFloat(styles[style + '-' + pos + suffix]) || 0;\n  }\n  result.width = result.left + result.right;\n  result.height = result.top + result.bottom;\n  return result;\n}\nconst useOffsetPos = (x, y, target) => (x > 0 || y > 0) && (!target || !target.shadowRoot);\nfunction getCanvasPosition(evt, canvas) {\n  const e = evt.native || evt;\n  const touches = e.touches;\n  const source = touches && touches.length ? touches[0] : e;\n  const {offsetX, offsetY} = source;\n  let box = false;\n  let x, y;\n  if (useOffsetPos(offsetX, offsetY, e.target)) {\n    x = offsetX;\n    y = offsetY;\n  } else {\n    const rect = canvas.getBoundingClientRect();\n    x = source.clientX - rect.left;\n    y = source.clientY - rect.top;\n    box = true;\n  }\n  return {x, y, box};\n}\nfunction getRelativePosition(evt, chart) {\n  const {canvas, currentDevicePixelRatio} = chart;\n  const style = getComputedStyle(canvas);\n  const borderBox = style.boxSizing === 'border-box';\n  const paddings = getPositionedStyle(style, 'padding');\n  const borders = getPositionedStyle(style, 'border', 'width');\n  const {x, y, box} = getCanvasPosition(evt, canvas);\n  const xOffset = paddings.left + (box && borders.left);\n  const yOffset = paddings.top + (box && borders.top);\n  let {width, height} = chart;\n  if (borderBox) {\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  return {\n    x: Math.round((x - xOffset) / width * canvas.width / currentDevicePixelRatio),\n    y: Math.round((y - yOffset) / height * canvas.height / currentDevicePixelRatio)\n  };\n}\nfunction getContainerSize(canvas, width, height) {\n  let maxWidth, maxHeight;\n  if (width === undefined || height === undefined) {\n    const container = _getParentNode(canvas);\n    if (!container) {\n      width = canvas.clientWidth;\n      height = canvas.clientHeight;\n    } else {\n      const rect = container.getBoundingClientRect();\n      const containerStyle = getComputedStyle(container);\n      const containerBorder = getPositionedStyle(containerStyle, 'border', 'width');\n      const containerPadding = getPositionedStyle(containerStyle, 'padding');\n      width = rect.width - containerPadding.width - containerBorder.width;\n      height = rect.height - containerPadding.height - containerBorder.height;\n      maxWidth = parseMaxStyle(containerStyle.maxWidth, container, 'clientWidth');\n      maxHeight = parseMaxStyle(containerStyle.maxHeight, container, 'clientHeight');\n    }\n  }\n  return {\n    width,\n    height,\n    maxWidth: maxWidth || INFINITY,\n    maxHeight: maxHeight || INFINITY\n  };\n}\nconst round1 = v => Math.round(v * 10) / 10;\nfunction getMaximumSize(canvas, bbWidth, bbHeight, aspectRatio) {\n  const style = getComputedStyle(canvas);\n  const margins = getPositionedStyle(style, 'margin');\n  const maxWidth = parseMaxStyle(style.maxWidth, canvas, 'clientWidth') || INFINITY;\n  const maxHeight = parseMaxStyle(style.maxHeight, canvas, 'clientHeight') || INFINITY;\n  const containerSize = getContainerSize(canvas, bbWidth, bbHeight);\n  let {width, height} = containerSize;\n  if (style.boxSizing === 'content-box') {\n    const borders = getPositionedStyle(style, 'border', 'width');\n    const paddings = getPositionedStyle(style, 'padding');\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  width = Math.max(0, width - margins.width);\n  height = Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height - margins.height);\n  width = round1(Math.min(width, maxWidth, containerSize.maxWidth));\n  height = round1(Math.min(height, maxHeight, containerSize.maxHeight));\n  if (width && !height) {\n    height = round1(width / 2);\n  }\n  return {\n    width,\n    height\n  };\n}\nfunction retinaScale(chart, forceRatio, forceStyle) {\n  const pixelRatio = chart.currentDevicePixelRatio = forceRatio || 1;\n  const {canvas, width, height} = chart;\n  canvas.height = height * pixelRatio;\n  canvas.width = width * pixelRatio;\n  chart.ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n  if (canvas.style && (forceStyle || (!canvas.style.height && !canvas.style.width))) {\n    canvas.style.height = height + 'px';\n    canvas.style.width = width + 'px';\n  }\n}\nconst supportsEventListenerOptions = (function() {\n  let passiveSupported = false;\n  try {\n    const options = {\n      get passive() {\n        passiveSupported = true;\n        return false;\n      }\n    };\n    window.addEventListener('test', null, options);\n    window.removeEventListener('test', null, options);\n  } catch (e) {\n  }\n  return passiveSupported;\n}());\nfunction readUsedSize(element, property) {\n  const value = getStyle(element, property);\n  const matches = value && value.match(/^(\\d+)(\\.\\d+)?px$/);\n  return matches ? +matches[1] : undefined;\n}\n\nfunction _pointInLine(p1, p2, t, mode) {\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: p1.y + t * (p2.y - p1.y)\n  };\n}\nfunction _steppedInterpolation(p1, p2, t, mode) {\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: mode === 'middle' ? t < 0.5 ? p1.y : p2.y\n    : mode === 'after' ? t < 1 ? p1.y : p2.y\n    : t > 0 ? p2.y : p1.y\n  };\n}\nfunction _bezierInterpolation(p1, p2, t, mode) {\n  const cp1 = {x: p1.cp2x, y: p1.cp2y};\n  const cp2 = {x: p2.cp1x, y: p2.cp1y};\n  const a = _pointInLine(p1, cp1, t);\n  const b = _pointInLine(cp1, cp2, t);\n  const c = _pointInLine(cp2, p2, t);\n  const d = _pointInLine(a, b, t);\n  const e = _pointInLine(b, c, t);\n  return _pointInLine(d, e, t);\n}\n\nconst intlCache = new Map();\nfunction getNumberFormat(locale, options) {\n  options = options || {};\n  const cacheKey = locale + JSON.stringify(options);\n  let formatter = intlCache.get(cacheKey);\n  if (!formatter) {\n    formatter = new Intl.NumberFormat(locale, options);\n    intlCache.set(cacheKey, formatter);\n  }\n  return formatter;\n}\nfunction formatNumber(num, locale, options) {\n  return getNumberFormat(locale, options).format(num);\n}\n\nconst getRightToLeftAdapter = function(rectX, width) {\n  return {\n    x(x) {\n      return rectX + rectX + width - x;\n    },\n    setWidth(w) {\n      width = w;\n    },\n    textAlign(align) {\n      if (align === 'center') {\n        return align;\n      }\n      return align === 'right' ? 'left' : 'right';\n    },\n    xPlus(x, value) {\n      return x - value;\n    },\n    leftForLtr(x, itemWidth) {\n      return x - itemWidth;\n    },\n  };\n};\nconst getLeftToRightAdapter = function() {\n  return {\n    x(x) {\n      return x;\n    },\n    setWidth(w) {\n    },\n    textAlign(align) {\n      return align;\n    },\n    xPlus(x, value) {\n      return x + value;\n    },\n    leftForLtr(x, _itemWidth) {\n      return x;\n    },\n  };\n};\nfunction getRtlAdapter(rtl, rectX, width) {\n  return rtl ? getRightToLeftAdapter(rectX, width) : getLeftToRightAdapter();\n}\nfunction overrideTextDirection(ctx, direction) {\n  let style, original;\n  if (direction === 'ltr' || direction === 'rtl') {\n    style = ctx.canvas.style;\n    original = [\n      style.getPropertyValue('direction'),\n      style.getPropertyPriority('direction'),\n    ];\n    style.setProperty('direction', direction, 'important');\n    ctx.prevTextDirection = original;\n  }\n}\nfunction restoreTextDirection(ctx, original) {\n  if (original !== undefined) {\n    delete ctx.prevTextDirection;\n    ctx.canvas.style.setProperty('direction', original[0], original[1]);\n  }\n}\n\nfunction propertyFn(property) {\n  if (property === 'angle') {\n    return {\n      between: _angleBetween,\n      compare: _angleDiff,\n      normalize: _normalizeAngle,\n    };\n  }\n  return {\n    between: (n, s, e) => n >= Math.min(s, e) && n <= Math.max(e, s),\n    compare: (a, b) => a - b,\n    normalize: x => x\n  };\n}\nfunction normalizeSegment({start, end, count, loop, style}) {\n  return {\n    start: start % count,\n    end: end % count,\n    loop: loop && (end - start + 1) % count === 0,\n    style\n  };\n}\nfunction getSegment(segment, points, bounds) {\n  const {property, start: startBound, end: endBound} = bounds;\n  const {between, normalize} = propertyFn(property);\n  const count = points.length;\n  let {start, end, loop} = segment;\n  let i, ilen;\n  if (loop) {\n    start += count;\n    end += count;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      if (!between(normalize(points[start % count][property]), startBound, endBound)) {\n        break;\n      }\n      start--;\n      end--;\n    }\n    start %= count;\n    end %= count;\n  }\n  if (end < start) {\n    end += count;\n  }\n  return {start, end, loop, style: segment.style};\n}\nfunction _boundSegment(segment, points, bounds) {\n  if (!bounds) {\n    return [segment];\n  }\n  const {property, start: startBound, end: endBound} = bounds;\n  const count = points.length;\n  const {compare, between, normalize} = propertyFn(property);\n  const {start, end, loop, style} = getSegment(segment, points, bounds);\n  const result = [];\n  let inside = false;\n  let subStart = null;\n  let value, point, prevValue;\n  const startIsBefore = () => between(startBound, prevValue, value) && compare(startBound, prevValue) !== 0;\n  const endIsBefore = () => compare(endBound, value) === 0 || between(endBound, prevValue, value);\n  const shouldStart = () => inside || startIsBefore();\n  const shouldStop = () => !inside || endIsBefore();\n  for (let i = start, prev = start; i <= end; ++i) {\n    point = points[i % count];\n    if (point.skip) {\n      continue;\n    }\n    value = normalize(point[property]);\n    inside = between(value, startBound, endBound);\n    if (subStart === null && shouldStart()) {\n      subStart = compare(value, startBound) === 0 ? i : prev;\n    }\n    if (subStart !== null && shouldStop()) {\n      result.push(normalizeSegment({start: subStart, end: i, loop, count, style}));\n      subStart = null;\n    }\n    prev = i;\n    prevValue = value;\n  }\n  if (subStart !== null) {\n    result.push(normalizeSegment({start: subStart, end, loop, count, style}));\n  }\n  return result;\n}\nfunction _boundSegments(line, bounds) {\n  const result = [];\n  const segments = line.segments;\n  for (let i = 0; i < segments.length; i++) {\n    const sub = _boundSegment(segments[i], line.points, bounds);\n    if (sub.length) {\n      result.push(...sub);\n    }\n  }\n  return result;\n}\nfunction findStartAndEnd(points, count, loop, spanGaps) {\n  let start = 0;\n  let end = count - 1;\n  if (loop && !spanGaps) {\n    while (start < count && !points[start].skip) {\n      start++;\n    }\n  }\n  while (start < count && points[start].skip) {\n    start++;\n  }\n  start %= count;\n  if (loop) {\n    end += start;\n  }\n  while (end > start && points[end % count].skip) {\n    end--;\n  }\n  end %= count;\n  return {start, end};\n}\nfunction solidSegments(points, start, max, loop) {\n  const count = points.length;\n  const result = [];\n  let last = start;\n  let prev = points[start];\n  let end;\n  for (end = start + 1; end <= max; ++end) {\n    const cur = points[end % count];\n    if (cur.skip || cur.stop) {\n      if (!prev.skip) {\n        loop = false;\n        result.push({start: start % count, end: (end - 1) % count, loop});\n        start = last = cur.stop ? end : null;\n      }\n    } else {\n      last = end;\n      if (prev.skip) {\n        start = end;\n      }\n    }\n    prev = cur;\n  }\n  if (last !== null) {\n    result.push({start: start % count, end: last % count, loop});\n  }\n  return result;\n}\nfunction _computeSegments(line, segmentOptions) {\n  const points = line.points;\n  const spanGaps = line.options.spanGaps;\n  const count = points.length;\n  if (!count) {\n    return [];\n  }\n  const loop = !!line._loop;\n  const {start, end} = findStartAndEnd(points, count, loop, spanGaps);\n  if (spanGaps === true) {\n    return splitByStyles([{start, end, loop}], points, segmentOptions);\n  }\n  const max = end < start ? end + count : end;\n  const completeLoop = !!line._fullLoop && start === 0 && end === count - 1;\n  return splitByStyles(solidSegments(points, start, max, completeLoop), points, segmentOptions);\n}\nfunction splitByStyles(segments, points, segmentOptions) {\n  if (!segmentOptions || !segmentOptions.setContext || !points) {\n    return segments;\n  }\n  return doSplitByStyles(segments, points, segmentOptions);\n}\nfunction doSplitByStyles(segments, points, segmentOptions) {\n  const count = points.length;\n  const result = [];\n  let start = segments[0].start;\n  let i = start;\n  for (const segment of segments) {\n    let prevStyle, style;\n    let prev = points[start % count];\n    for (i = start + 1; i <= segment.end; i++) {\n      const pt = points[i % count];\n      style = readStyle(segmentOptions.setContext({type: 'segment', p0: prev, p1: pt}));\n      if (styleChanged(style, prevStyle)) {\n        result.push({start: start, end: i - 1, loop: segment.loop, style: prevStyle});\n        prevStyle = style;\n        start = i - 1;\n      }\n      prev = pt;\n      prevStyle = style;\n    }\n    if (start < i - 1) {\n      result.push({start, end: i - 1, loop: segment.loop, style});\n      start = i - 1;\n    }\n  }\n  return result;\n}\nfunction readStyle(options) {\n  return {\n    backgroundColor: options.backgroundColor,\n    borderCapStyle: options.borderCapStyle,\n    borderDash: options.borderDash,\n    borderDashOffset: options.borderDashOffset,\n    borderJoinStyle: options.borderJoinStyle,\n    borderWidth: options.borderWidth,\n    borderColor: options.borderColor\n  };\n}\nfunction styleChanged(style, prevStyle) {\n  return prevStyle && JSON.stringify(style) !== JSON.stringify(prevStyle);\n}\n\nexport { merge as $, _isPointInArea as A, _rlookupByKey as B, toPadding as C, each as D, getMaximumSize as E, _getParentNode as F, readUsedSize as G, HALF_PI as H, throttled as I, supportsEventListenerOptions as J, log10 as K, _factorize as L, finiteOrDefault as M, callback as N, _addGrace as O, PI as P, toDegrees as Q, _measureText as R, _int16Range as S, TAU as T, _alignPixel as U, renderText as V, toFont as W, _toLeftRightCenter as X, _alignStartEnd as Y, overrides as Z, _arrayUnique as _, resolve as a, _capitalize as a0, descriptors as a1, isFunction as a2, _attachContext as a3, _createResolver as a4, _descriptors as a5, mergeIf as a6, uid as a7, debounce as a8, retinaScale as a9, niceNum as aA, almostWhole as aB, almostEquals as aC, _decimalPlaces as aD, _longestText as aE, _filterBetween as aF, _lookup as aG, getHoverColor as aH, clone$1 as aI, _merger as aJ, _mergerIf as aK, _deprecated as aL, toFontString as aM, splineCurve as aN, splineCurveMonotone as aO, getStyle as aP, fontString as aQ, toLineHeight as aR, PITAU as aS, INFINITY as aT, RAD_PER_DEG as aU, QUARTER_PI as aV, TWO_THIRDS_PI as aW, _angleDiff as aX, clearCanvas as aa, setsEqual as ab, _elementsEqual as ac, getAngleFromPoint as ad, _readValueToProps as ae, _updateBezierControlPoints as af, _computeSegments as ag, _boundSegments as ah, _steppedInterpolation as ai, _bezierInterpolation as aj, _pointInLine as ak, _steppedLineTo as al, _bezierCurveTo as am, drawPoint as an, addRoundedRectPath as ao, toTRBL as ap, toTRBLCorners as aq, _boundSegment as ar, _normalizeAngle as as, getRtlAdapter as at, overrideTextDirection as au, _textX as av, restoreTextDirection as aw, noop as ax, distanceBetweenPoints as ay, _setMinAndMaxByKey as az, isArray as b, color as c, defaults as d, effects as e, resolveObjectKey as f, isNumberFinite as g, defined as h, isObject as i, isNullOrUndef as j, clipArea as k, listenArrayEvents as l, unclipArea as m, toPercentage as n, toDimension as o, formatNumber as p, _angleBetween as q, requestAnimFrame as r, sign as s, toRadians as t, unlistenArrayEvents as u, valueOrDefault as v, isNumber as w, _limitValue as x, _lookupByKey as y, getRelativePosition as z };\n","/*!\n * Chart.js v3.2.1\n * https://www.chartjs.org\n * (c) 2021 Chart.js Contributors\n * Released under the MIT License\n */\nimport { r as requestAnimFrame, a as resolve, e as effects, c as color, i as isObject, b as isArray, d as defaults, v as valueOrDefault, u as unlistenArrayEvents, l as listenArrayEvents, f as resolveObjectKey, g as isNumberFinite, h as defined, s as sign, j as isNullOrUndef, k as clipArea, m as unclipArea, _ as _arrayUnique, t as toRadians, n as toPercentage, o as toDimension, T as TAU, p as formatNumber, q as _angleBetween, H as HALF_PI, P as PI, w as isNumber, x as _limitValue, y as _lookupByKey, z as getRelativePosition$1, A as _isPointInArea, B as _rlookupByKey, C as toPadding, D as each, E as getMaximumSize, F as _getParentNode, G as readUsedSize, I as throttled, J as supportsEventListenerOptions, K as log10, L as _factorize, M as finiteOrDefault, N as callback, O as _addGrace, Q as toDegrees, R as _measureText, S as _int16Range, U as _alignPixel, V as renderText, W as toFont, X as _toLeftRightCenter, Y as _alignStartEnd, Z as overrides, $ as merge, a0 as _capitalize, a1 as descriptors, a2 as isFunction, a3 as _attachContext, a4 as _createResolver, a5 as _descriptors, a6 as mergeIf, a7 as uid, a8 as debounce, a9 as retinaScale, aa as clearCanvas, ab as setsEqual, ac as _elementsEqual, ad as getAngleFromPoint, ae as _readValueToProps, af as _updateBezierControlPoints, ag as _computeSegments, ah as _boundSegments, ai as _steppedInterpolation, aj as _bezierInterpolation, ak as _pointInLine, al as _steppedLineTo, am as _bezierCurveTo, an as drawPoint, ao as addRoundedRectPath, ap as toTRBL, aq as toTRBLCorners, ar as _boundSegment, as as _normalizeAngle, at as getRtlAdapter, au as overrideTextDirection, av as _textX, aw as restoreTextDirection, ax as noop, ay as distanceBetweenPoints, az as _setMinAndMaxByKey, aA as niceNum, aB as almostWhole, aC as almostEquals, aD as _decimalPlaces, aE as _longestText, aF as _filterBetween, aG as _lookup } from './chunks/helpers.segment.js';\nexport { d as defaults } from './chunks/helpers.segment.js';\n\nclass Animator {\n  constructor() {\n    this._request = null;\n    this._charts = new Map();\n    this._running = false;\n    this._lastDate = undefined;\n  }\n  _notify(chart, anims, date, type) {\n    const callbacks = anims.listeners[type];\n    const numSteps = anims.duration;\n    callbacks.forEach(fn => fn({\n      chart,\n      initial: anims.initial,\n      numSteps,\n      currentStep: Math.min(date - anims.start, numSteps)\n    }));\n  }\n  _refresh() {\n    const me = this;\n    if (me._request) {\n      return;\n    }\n    me._running = true;\n    me._request = requestAnimFrame.call(window, () => {\n      me._update();\n      me._request = null;\n      if (me._running) {\n        me._refresh();\n      }\n    });\n  }\n  _update(date = Date.now()) {\n    const me = this;\n    let remaining = 0;\n    me._charts.forEach((anims, chart) => {\n      if (!anims.running || !anims.items.length) {\n        return;\n      }\n      const items = anims.items;\n      let i = items.length - 1;\n      let draw = false;\n      let item;\n      for (; i >= 0; --i) {\n        item = items[i];\n        if (item._active) {\n          if (item._total > anims.duration) {\n            anims.duration = item._total;\n          }\n          item.tick(date);\n          draw = true;\n        } else {\n          items[i] = items[items.length - 1];\n          items.pop();\n        }\n      }\n      if (draw) {\n        chart.draw();\n        me._notify(chart, anims, date, 'progress');\n      }\n      if (!items.length) {\n        anims.running = false;\n        me._notify(chart, anims, date, 'complete');\n        anims.initial = false;\n      }\n      remaining += items.length;\n    });\n    me._lastDate = date;\n    if (remaining === 0) {\n      me._running = false;\n    }\n  }\n  _getAnims(chart) {\n    const charts = this._charts;\n    let anims = charts.get(chart);\n    if (!anims) {\n      anims = {\n        running: false,\n        initial: true,\n        items: [],\n        listeners: {\n          complete: [],\n          progress: []\n        }\n      };\n      charts.set(chart, anims);\n    }\n    return anims;\n  }\n  listen(chart, event, cb) {\n    this._getAnims(chart).listeners[event].push(cb);\n  }\n  add(chart, items) {\n    if (!items || !items.length) {\n      return;\n    }\n    this._getAnims(chart).items.push(...items);\n  }\n  has(chart) {\n    return this._getAnims(chart).items.length > 0;\n  }\n  start(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims) {\n      return;\n    }\n    anims.running = true;\n    anims.start = Date.now();\n    anims.duration = anims.items.reduce((acc, cur) => Math.max(acc, cur._duration), 0);\n    this._refresh();\n  }\n  running(chart) {\n    if (!this._running) {\n      return false;\n    }\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.running || !anims.items.length) {\n      return false;\n    }\n    return true;\n  }\n  stop(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.items.length) {\n      return;\n    }\n    const items = anims.items;\n    let i = items.length - 1;\n    for (; i >= 0; --i) {\n      items[i].cancel();\n    }\n    anims.items = [];\n    this._notify(chart, anims, Date.now(), 'complete');\n  }\n  remove(chart) {\n    return this._charts.delete(chart);\n  }\n}\nvar animator = new Animator();\n\nconst transparent = 'transparent';\nconst interpolators = {\n  boolean(from, to, factor) {\n    return factor > 0.5 ? to : from;\n  },\n  color(from, to, factor) {\n    const c0 = color(from || transparent);\n    const c1 = c0.valid && color(to || transparent);\n    return c1 && c1.valid\n      ? c1.mix(c0, factor).hexString()\n      : to;\n  },\n  number(from, to, factor) {\n    return from + (to - from) * factor;\n  }\n};\nclass Animation {\n  constructor(cfg, target, prop, to) {\n    const currentValue = target[prop];\n    to = resolve([cfg.to, to, currentValue, cfg.from]);\n    const from = resolve([cfg.from, currentValue, to]);\n    this._active = true;\n    this._fn = cfg.fn || interpolators[cfg.type || typeof from];\n    this._easing = effects[cfg.easing] || effects.linear;\n    this._start = Math.floor(Date.now() + (cfg.delay || 0));\n    this._duration = this._total = Math.floor(cfg.duration);\n    this._loop = !!cfg.loop;\n    this._target = target;\n    this._prop = prop;\n    this._from = from;\n    this._to = to;\n    this._promises = undefined;\n  }\n  active() {\n    return this._active;\n  }\n  update(cfg, to, date) {\n    const me = this;\n    if (me._active) {\n      me._notify(false);\n      const currentValue = me._target[me._prop];\n      const elapsed = date - me._start;\n      const remain = me._duration - elapsed;\n      me._start = date;\n      me._duration = Math.floor(Math.max(remain, cfg.duration));\n      me._total += elapsed;\n      me._loop = !!cfg.loop;\n      me._to = resolve([cfg.to, to, currentValue, cfg.from]);\n      me._from = resolve([cfg.from, currentValue, to]);\n    }\n  }\n  cancel() {\n    const me = this;\n    if (me._active) {\n      me.tick(Date.now());\n      me._active = false;\n      me._notify(false);\n    }\n  }\n  tick(date) {\n    const me = this;\n    const elapsed = date - me._start;\n    const duration = me._duration;\n    const prop = me._prop;\n    const from = me._from;\n    const loop = me._loop;\n    const to = me._to;\n    let factor;\n    me._active = from !== to && (loop || (elapsed < duration));\n    if (!me._active) {\n      me._target[prop] = to;\n      me._notify(true);\n      return;\n    }\n    if (elapsed < 0) {\n      me._target[prop] = from;\n      return;\n    }\n    factor = (elapsed / duration) % 2;\n    factor = loop && factor > 1 ? 2 - factor : factor;\n    factor = me._easing(Math.min(1, Math.max(0, factor)));\n    me._target[prop] = me._fn(from, to, factor);\n  }\n  wait() {\n    const promises = this._promises || (this._promises = []);\n    return new Promise((res, rej) => {\n      promises.push({res, rej});\n    });\n  }\n  _notify(resolved) {\n    const method = resolved ? 'res' : 'rej';\n    const promises = this._promises || [];\n    for (let i = 0; i < promises.length; i++) {\n      promises[i][method]();\n    }\n  }\n}\n\nconst numbers = ['x', 'y', 'borderWidth', 'radius', 'tension'];\nconst colors = ['color', 'borderColor', 'backgroundColor'];\ndefaults.set('animation', {\n  delay: undefined,\n  duration: 1000,\n  easing: 'easeOutQuart',\n  fn: undefined,\n  from: undefined,\n  loop: undefined,\n  to: undefined,\n  type: undefined,\n});\nconst animationOptions = Object.keys(defaults.animation);\ndefaults.describe('animation', {\n  _fallback: false,\n  _indexable: false,\n  _scriptable: (name) => name !== 'onProgress' && name !== 'onComplete' && name !== 'fn',\n});\ndefaults.set('animations', {\n  colors: {\n    type: 'color',\n    properties: colors\n  },\n  numbers: {\n    type: 'number',\n    properties: numbers\n  },\n});\ndefaults.describe('animations', {\n  _fallback: 'animation',\n});\ndefaults.set('transitions', {\n  active: {\n    animation: {\n      duration: 400\n    }\n  },\n  resize: {\n    animation: {\n      duration: 0\n    }\n  },\n  show: {\n    animations: {\n      colors: {\n        from: 'transparent'\n      },\n      visible: {\n        type: 'boolean',\n        duration: 0\n      },\n    }\n  },\n  hide: {\n    animations: {\n      colors: {\n        to: 'transparent'\n      },\n      visible: {\n        type: 'boolean',\n        easing: 'linear',\n        fn: v => v | 0\n      },\n    }\n  }\n});\nclass Animations {\n  constructor(chart, config) {\n    this._chart = chart;\n    this._properties = new Map();\n    this.configure(config);\n  }\n  configure(config) {\n    if (!isObject(config)) {\n      return;\n    }\n    const animatedProps = this._properties;\n    Object.getOwnPropertyNames(config).forEach(key => {\n      const cfg = config[key];\n      if (!isObject(cfg)) {\n        return;\n      }\n      const resolved = {};\n      for (const option of animationOptions) {\n        resolved[option] = cfg[option];\n      }\n      (isArray(cfg.properties) && cfg.properties || [key]).forEach((prop) => {\n        if (prop === key || !animatedProps.has(prop)) {\n          animatedProps.set(prop, resolved);\n        }\n      });\n    });\n  }\n  _animateOptions(target, values) {\n    const newOptions = values.options;\n    const options = resolveTargetOptions(target, newOptions);\n    if (!options) {\n      return [];\n    }\n    const animations = this._createAnimations(options, newOptions);\n    if (newOptions.$shared) {\n      awaitAll(target.options.$animations, newOptions).then(() => {\n        target.options = newOptions;\n      }, () => {\n      });\n    }\n    return animations;\n  }\n  _createAnimations(target, values) {\n    const animatedProps = this._properties;\n    const animations = [];\n    const running = target.$animations || (target.$animations = {});\n    const props = Object.keys(values);\n    const date = Date.now();\n    let i;\n    for (i = props.length - 1; i >= 0; --i) {\n      const prop = props[i];\n      if (prop.charAt(0) === '$') {\n        continue;\n      }\n      if (prop === 'options') {\n        animations.push(...this._animateOptions(target, values));\n        continue;\n      }\n      const value = values[prop];\n      let animation = running[prop];\n      const cfg = animatedProps.get(prop);\n      if (animation) {\n        if (cfg && animation.active()) {\n          animation.update(cfg, value, date);\n          continue;\n        } else {\n          animation.cancel();\n        }\n      }\n      if (!cfg || !cfg.duration) {\n        target[prop] = value;\n        continue;\n      }\n      running[prop] = animation = new Animation(cfg, target, prop, value);\n      animations.push(animation);\n    }\n    return animations;\n  }\n  update(target, values) {\n    if (this._properties.size === 0) {\n      Object.assign(target, values);\n      return;\n    }\n    const animations = this._createAnimations(target, values);\n    if (animations.length) {\n      animator.add(this._chart, animations);\n      return true;\n    }\n  }\n}\nfunction awaitAll(animations, properties) {\n  const running = [];\n  const keys = Object.keys(properties);\n  for (let i = 0; i < keys.length; i++) {\n    const anim = animations[keys[i]];\n    if (anim && anim.active()) {\n      running.push(anim.wait());\n    }\n  }\n  return Promise.all(running);\n}\nfunction resolveTargetOptions(target, newOptions) {\n  if (!newOptions) {\n    return;\n  }\n  let options = target.options;\n  if (!options) {\n    target.options = newOptions;\n    return;\n  }\n  if (options.$shared) {\n    target.options = options = Object.assign({}, options, {$shared: false, $animations: {}});\n  }\n  return options;\n}\n\nfunction scaleClip(scale, allowedOverflow) {\n  const opts = scale && scale.options || {};\n  const reverse = opts.reverse;\n  const min = opts.min === undefined ? allowedOverflow : 0;\n  const max = opts.max === undefined ? allowedOverflow : 0;\n  return {\n    start: reverse ? max : min,\n    end: reverse ? min : max\n  };\n}\nfunction defaultClip(xScale, yScale, allowedOverflow) {\n  if (allowedOverflow === false) {\n    return false;\n  }\n  const x = scaleClip(xScale, allowedOverflow);\n  const y = scaleClip(yScale, allowedOverflow);\n  return {\n    top: y.end,\n    right: x.end,\n    bottom: y.start,\n    left: x.start\n  };\n}\nfunction toClip(value) {\n  let t, r, b, l;\n  if (isObject(value)) {\n    t = value.top;\n    r = value.right;\n    b = value.bottom;\n    l = value.left;\n  } else {\n    t = r = b = l = value;\n  }\n  return {\n    top: t,\n    right: r,\n    bottom: b,\n    left: l\n  };\n}\nfunction getSortedDatasetIndices(chart, filterVisible) {\n  const keys = [];\n  const metasets = chart._getSortedDatasetMetas(filterVisible);\n  let i, ilen;\n  for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n    keys.push(metasets[i].index);\n  }\n  return keys;\n}\nfunction applyStack(stack, value, dsIndex, options) {\n  const keys = stack.keys;\n  const singleMode = options.mode === 'single';\n  let i, ilen, datasetIndex, otherValue;\n  if (value === null) {\n    return;\n  }\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    datasetIndex = +keys[i];\n    if (datasetIndex === dsIndex) {\n      if (options.all) {\n        continue;\n      }\n      break;\n    }\n    otherValue = stack.values[datasetIndex];\n    if (isNumberFinite(otherValue) && (singleMode || (value === 0 || sign(value) === sign(otherValue)))) {\n      value += otherValue;\n    }\n  }\n  return value;\n}\nfunction convertObjectDataToArray(data) {\n  const keys = Object.keys(data);\n  const adata = new Array(keys.length);\n  let i, ilen, key;\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    key = keys[i];\n    adata[i] = {\n      x: key,\n      y: data[key]\n    };\n  }\n  return adata;\n}\nfunction isStacked(scale, meta) {\n  const stacked = scale && scale.options.stacked;\n  return stacked || (stacked === undefined && meta.stack !== undefined);\n}\nfunction getStackKey(indexScale, valueScale, meta) {\n  return `${indexScale.id}.${valueScale.id}.${meta.stack || meta.type}`;\n}\nfunction getUserBounds(scale) {\n  const {min, max, minDefined, maxDefined} = scale.getUserBounds();\n  return {\n    min: minDefined ? min : Number.NEGATIVE_INFINITY,\n    max: maxDefined ? max : Number.POSITIVE_INFINITY\n  };\n}\nfunction getOrCreateStack(stacks, stackKey, indexValue) {\n  const subStack = stacks[stackKey] || (stacks[stackKey] = {});\n  return subStack[indexValue] || (subStack[indexValue] = {});\n}\nfunction getLastIndexInStack(stack, vScale, positive) {\n  for (const meta of vScale.getMatchingVisibleMetas('bar').reverse()) {\n    const value = stack[meta.index];\n    if ((positive && value > 0) || (!positive && value < 0)) {\n      return meta.index;\n    }\n  }\n  return null;\n}\nfunction updateStacks(controller, parsed) {\n  const {chart, _cachedMeta: meta} = controller;\n  const stacks = chart._stacks || (chart._stacks = {});\n  const {iScale, vScale, index: datasetIndex} = meta;\n  const iAxis = iScale.axis;\n  const vAxis = vScale.axis;\n  const key = getStackKey(iScale, vScale, meta);\n  const ilen = parsed.length;\n  let stack;\n  for (let i = 0; i < ilen; ++i) {\n    const item = parsed[i];\n    const {[iAxis]: index, [vAxis]: value} = item;\n    const itemStacks = item._stacks || (item._stacks = {});\n    stack = itemStacks[vAxis] = getOrCreateStack(stacks, key, index);\n    stack[datasetIndex] = value;\n    stack._top = getLastIndexInStack(stack, vScale, true);\n    stack._bottom = getLastIndexInStack(stack, vScale, false);\n  }\n}\nfunction getFirstScaleId(chart, axis) {\n  const scales = chart.scales;\n  return Object.keys(scales).filter(key => scales[key].axis === axis).shift();\n}\nfunction createDatasetContext(parent, index) {\n  return Object.assign(Object.create(parent),\n    {\n      active: false,\n      dataset: undefined,\n      datasetIndex: index,\n      index,\n      mode: 'default',\n      type: 'dataset'\n    }\n  );\n}\nfunction createDataContext(parent, index, element) {\n  return Object.assign(Object.create(parent), {\n    active: false,\n    dataIndex: index,\n    parsed: undefined,\n    raw: undefined,\n    element,\n    index,\n    mode: 'default',\n    type: 'data'\n  });\n}\nfunction clearStacks(meta, items) {\n  items = items || meta._parsed;\n  for (const parsed of items) {\n    const stacks = parsed._stacks;\n    if (!stacks || stacks[meta.vScale.id] === undefined || stacks[meta.vScale.id][meta.index] === undefined) {\n      return;\n    }\n    delete stacks[meta.vScale.id][meta.index];\n  }\n}\nconst isDirectUpdateMode = (mode) => mode === 'reset' || mode === 'none';\nconst cloneIfNotShared = (cached, shared) => shared ? cached : Object.assign({}, cached);\nclass DatasetController {\n  constructor(chart, datasetIndex) {\n    this.chart = chart;\n    this._ctx = chart.ctx;\n    this.index = datasetIndex;\n    this._cachedDataOpts = {};\n    this._cachedMeta = this.getMeta();\n    this._type = this._cachedMeta.type;\n    this.options = undefined;\n    this._parsing = false;\n    this._data = undefined;\n    this._objectData = undefined;\n    this._sharedOptions = undefined;\n    this._drawStart = undefined;\n    this._drawCount = undefined;\n    this.enableOptionSharing = false;\n    this.$context = undefined;\n    this.initialize();\n  }\n  initialize() {\n    const me = this;\n    const meta = me._cachedMeta;\n    me.configure();\n    me.linkScales();\n    meta._stacked = isStacked(meta.vScale, meta);\n    me.addElements();\n  }\n  updateIndex(datasetIndex) {\n    this.index = datasetIndex;\n  }\n  linkScales() {\n    const me = this;\n    const chart = me.chart;\n    const meta = me._cachedMeta;\n    const dataset = me.getDataset();\n    const chooseId = (axis, x, y, r) => axis === 'x' ? x : axis === 'r' ? r : y;\n    const xid = meta.xAxisID = valueOrDefault(dataset.xAxisID, getFirstScaleId(chart, 'x'));\n    const yid = meta.yAxisID = valueOrDefault(dataset.yAxisID, getFirstScaleId(chart, 'y'));\n    const rid = meta.rAxisID = valueOrDefault(dataset.rAxisID, getFirstScaleId(chart, 'r'));\n    const indexAxis = meta.indexAxis;\n    const iid = meta.iAxisID = chooseId(indexAxis, xid, yid, rid);\n    const vid = meta.vAxisID = chooseId(indexAxis, yid, xid, rid);\n    meta.xScale = me.getScaleForId(xid);\n    meta.yScale = me.getScaleForId(yid);\n    meta.rScale = me.getScaleForId(rid);\n    meta.iScale = me.getScaleForId(iid);\n    meta.vScale = me.getScaleForId(vid);\n  }\n  getDataset() {\n    return this.chart.data.datasets[this.index];\n  }\n  getMeta() {\n    return this.chart.getDatasetMeta(this.index);\n  }\n  getScaleForId(scaleID) {\n    return this.chart.scales[scaleID];\n  }\n  _getOtherScale(scale) {\n    const meta = this._cachedMeta;\n    return scale === meta.iScale\n      ? meta.vScale\n      : meta.iScale;\n  }\n  reset() {\n    this._update('reset');\n  }\n  _destroy() {\n    const meta = this._cachedMeta;\n    if (this._data) {\n      unlistenArrayEvents(this._data, this);\n    }\n    if (meta._stacked) {\n      clearStacks(meta);\n    }\n  }\n  _dataCheck() {\n    const me = this;\n    const dataset = me.getDataset();\n    const data = dataset.data || (dataset.data = []);\n    if (isObject(data)) {\n      me._data = convertObjectDataToArray(data);\n    } else if (me._data !== data) {\n      if (me._data) {\n        unlistenArrayEvents(me._data, me);\n        clearStacks(me._cachedMeta);\n      }\n      if (data && Object.isExtensible(data)) {\n        listenArrayEvents(data, me);\n      }\n      me._data = data;\n    }\n  }\n  addElements() {\n    const me = this;\n    const meta = me._cachedMeta;\n    me._dataCheck();\n    if (me.datasetElementType) {\n      meta.dataset = new me.datasetElementType();\n    }\n  }\n  buildOrUpdateElements(resetNewElements) {\n    const me = this;\n    const meta = me._cachedMeta;\n    const dataset = me.getDataset();\n    let stackChanged = false;\n    me._dataCheck();\n    meta._stacked = isStacked(meta.vScale, meta);\n    if (meta.stack !== dataset.stack) {\n      stackChanged = true;\n      clearStacks(meta);\n      meta.stack = dataset.stack;\n    }\n    me._resyncElements(resetNewElements);\n    if (stackChanged) {\n      updateStacks(me, meta._parsed);\n    }\n  }\n  configure() {\n    const me = this;\n    const config = me.chart.config;\n    const scopeKeys = config.datasetScopeKeys(me._type);\n    const scopes = config.getOptionScopes(me.getDataset(), scopeKeys, true);\n    me.options = config.createResolver(scopes, me.getContext());\n    me._parsing = me.options.parsing;\n  }\n  parse(start, count) {\n    const me = this;\n    const {_cachedMeta: meta, _data: data} = me;\n    const {iScale, _stacked} = meta;\n    const iAxis = iScale.axis;\n    let sorted = start === 0 && count === data.length ? true : meta._sorted;\n    let prev = start > 0 && meta._parsed[start - 1];\n    let i, cur, parsed;\n    if (me._parsing === false) {\n      meta._parsed = data;\n      meta._sorted = true;\n      parsed = data;\n    } else {\n      if (isArray(data[start])) {\n        parsed = me.parseArrayData(meta, data, start, count);\n      } else if (isObject(data[start])) {\n        parsed = me.parseObjectData(meta, data, start, count);\n      } else {\n        parsed = me.parsePrimitiveData(meta, data, start, count);\n      }\n      const isNotInOrderComparedToPrev = () => cur[iAxis] === null || (prev && cur[iAxis] < prev[iAxis]);\n      for (i = 0; i < count; ++i) {\n        meta._parsed[i + start] = cur = parsed[i];\n        if (sorted) {\n          if (isNotInOrderComparedToPrev()) {\n            sorted = false;\n          }\n          prev = cur;\n        }\n      }\n      meta._sorted = sorted;\n    }\n    if (_stacked) {\n      updateStacks(me, parsed);\n    }\n  }\n  parsePrimitiveData(meta, data, start, count) {\n    const {iScale, vScale} = meta;\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const labels = iScale.getLabels();\n    const singleScale = iScale === vScale;\n    const parsed = new Array(count);\n    let i, ilen, index;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      parsed[i] = {\n        [iAxis]: singleScale || iScale.parse(labels[index], index),\n        [vAxis]: vScale.parse(data[index], index)\n      };\n    }\n    return parsed;\n  }\n  parseArrayData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(item[0], index),\n        y: yScale.parse(item[1], index)\n      };\n    }\n    return parsed;\n  }\n  parseObjectData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(resolveObjectKey(item, xAxisKey), index),\n        y: yScale.parse(resolveObjectKey(item, yAxisKey), index)\n      };\n    }\n    return parsed;\n  }\n  getParsed(index) {\n    return this._cachedMeta._parsed[index];\n  }\n  getDataElement(index) {\n    return this._cachedMeta.data[index];\n  }\n  applyStack(scale, parsed, mode) {\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const value = parsed[scale.axis];\n    const stack = {\n      keys: getSortedDatasetIndices(chart, true),\n      values: parsed._stacks[scale.axis]\n    };\n    return applyStack(stack, value, meta.index, {mode});\n  }\n  updateRangeFromParsed(range, scale, parsed, stack) {\n    const parsedValue = parsed[scale.axis];\n    let value = parsedValue === null ? NaN : parsedValue;\n    const values = stack && parsed._stacks[scale.axis];\n    if (stack && values) {\n      stack.values = values;\n      range.min = Math.min(range.min, value);\n      range.max = Math.max(range.max, value);\n      value = applyStack(stack, parsedValue, this._cachedMeta.index, {all: true});\n    }\n    range.min = Math.min(range.min, value);\n    range.max = Math.max(range.max, value);\n  }\n  getMinMax(scale, canStack) {\n    const me = this;\n    const meta = me._cachedMeta;\n    const _parsed = meta._parsed;\n    const sorted = meta._sorted && scale === meta.iScale;\n    const ilen = _parsed.length;\n    const otherScale = me._getOtherScale(scale);\n    const stack = canStack && meta._stacked && {keys: getSortedDatasetIndices(me.chart, true), values: null};\n    const range = {min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY};\n    const {min: otherMin, max: otherMax} = getUserBounds(otherScale);\n    let i, value, parsed, otherValue;\n    function _skip() {\n      parsed = _parsed[i];\n      value = parsed[scale.axis];\n      otherValue = parsed[otherScale.axis];\n      return !isNumberFinite(value) || otherMin > otherValue || otherMax < otherValue;\n    }\n    for (i = 0; i < ilen; ++i) {\n      if (_skip()) {\n        continue;\n      }\n      me.updateRangeFromParsed(range, scale, parsed, stack);\n      if (sorted) {\n        break;\n      }\n    }\n    if (sorted) {\n      for (i = ilen - 1; i >= 0; --i) {\n        if (_skip()) {\n          continue;\n        }\n        me.updateRangeFromParsed(range, scale, parsed, stack);\n        break;\n      }\n    }\n    return range;\n  }\n  getAllParsedValues(scale) {\n    const parsed = this._cachedMeta._parsed;\n    const values = [];\n    let i, ilen, value;\n    for (i = 0, ilen = parsed.length; i < ilen; ++i) {\n      value = parsed[i][scale.axis];\n      if (isNumberFinite(value)) {\n        values.push(value);\n      }\n    }\n    return values;\n  }\n  getMaxOverflow() {\n    return false;\n  }\n  getLabelAndValue(index) {\n    const me = this;\n    const meta = me._cachedMeta;\n    const iScale = meta.iScale;\n    const vScale = meta.vScale;\n    const parsed = me.getParsed(index);\n    return {\n      label: iScale ? '' + iScale.getLabelForValue(parsed[iScale.axis]) : '',\n      value: vScale ? '' + vScale.getLabelForValue(parsed[vScale.axis]) : ''\n    };\n  }\n  _update(mode) {\n    const me = this;\n    const meta = me._cachedMeta;\n    me.configure();\n    me._cachedDataOpts = {};\n    me.update(mode || 'default');\n    meta._clip = toClip(valueOrDefault(me.options.clip, defaultClip(meta.xScale, meta.yScale, me.getMaxOverflow())));\n  }\n  update(mode) {}\n  draw() {\n    const me = this;\n    const ctx = me._ctx;\n    const chart = me.chart;\n    const meta = me._cachedMeta;\n    const elements = meta.data || [];\n    const area = chart.chartArea;\n    const active = [];\n    const start = me._drawStart || 0;\n    const count = me._drawCount || (elements.length - start);\n    let i;\n    if (meta.dataset) {\n      meta.dataset.draw(ctx, area, start, count);\n    }\n    for (i = start; i < start + count; ++i) {\n      const element = elements[i];\n      if (element.active) {\n        active.push(element);\n      } else {\n        element.draw(ctx, area);\n      }\n    }\n    for (i = 0; i < active.length; ++i) {\n      active[i].draw(ctx, area);\n    }\n  }\n  getStyle(index, active) {\n    const mode = active ? 'active' : 'default';\n    return index === undefined && this._cachedMeta.dataset\n      ? this.resolveDatasetElementOptions(mode)\n      : this.resolveDataElementOptions(index || 0, mode);\n  }\n  getContext(index, active, mode) {\n    const me = this;\n    const dataset = me.getDataset();\n    let context;\n    if (index >= 0 && index < me._cachedMeta.data.length) {\n      const element = me._cachedMeta.data[index];\n      context = element.$context ||\n        (element.$context = createDataContext(me.getContext(), index, element));\n      context.parsed = me.getParsed(index);\n      context.raw = dataset.data[index];\n    } else {\n      context = me.$context ||\n        (me.$context = createDatasetContext(me.chart.getContext(), me.index));\n      context.dataset = dataset;\n    }\n    context.active = !!active;\n    context.mode = mode;\n    return context;\n  }\n  resolveDatasetElementOptions(mode) {\n    return this._resolveElementOptions(this.datasetElementType.id, mode);\n  }\n  resolveDataElementOptions(index, mode) {\n    return this._resolveElementOptions(this.dataElementType.id, mode, index);\n  }\n  _resolveElementOptions(elementType, mode = 'default', index) {\n    const me = this;\n    const active = mode === 'active';\n    const cache = me._cachedDataOpts;\n    const cacheKey = elementType + '-' + mode;\n    const cached = cache[cacheKey];\n    const sharing = me.enableOptionSharing && defined(index);\n    if (cached) {\n      return cloneIfNotShared(cached, sharing);\n    }\n    const config = me.chart.config;\n    const scopeKeys = config.datasetElementScopeKeys(me._type, elementType);\n    const prefixes = active ? [`${elementType}Hover`, 'hover', elementType, ''] : [elementType, ''];\n    const scopes = config.getOptionScopes(me.getDataset(), scopeKeys);\n    const names = Object.keys(defaults.elements[elementType]);\n    const context = () => me.getContext(index, active);\n    const values = config.resolveNamedOptions(scopes, names, context, prefixes);\n    if (values.$shared) {\n      values.$shared = sharing;\n      cache[cacheKey] = Object.freeze(cloneIfNotShared(values, sharing));\n    }\n    return values;\n  }\n  _resolveAnimations(index, transition, active) {\n    const me = this;\n    const chart = me.chart;\n    const cache = me._cachedDataOpts;\n    const cacheKey = `animation-${transition}`;\n    const cached = cache[cacheKey];\n    if (cached) {\n      return cached;\n    }\n    let options;\n    if (chart.options.animation !== false) {\n      const config = me.chart.config;\n      const scopeKeys = config.datasetAnimationScopeKeys(me._type, transition);\n      const scopes = config.getOptionScopes(me.getDataset(), scopeKeys);\n      options = config.createResolver(scopes, me.getContext(index, active, transition));\n    }\n    const animations = new Animations(chart, options && options.animations);\n    if (options && options._cacheable) {\n      cache[cacheKey] = Object.freeze(animations);\n    }\n    return animations;\n  }\n  getSharedOptions(options) {\n    if (!options.$shared) {\n      return;\n    }\n    return this._sharedOptions || (this._sharedOptions = Object.assign({}, options));\n  }\n  includeOptions(mode, sharedOptions) {\n    return !sharedOptions || isDirectUpdateMode(mode) || this.chart._animationsDisabled;\n  }\n  updateElement(element, index, properties, mode) {\n    if (isDirectUpdateMode(mode)) {\n      Object.assign(element, properties);\n    } else {\n      this._resolveAnimations(index, mode).update(element, properties);\n    }\n  }\n  updateSharedOptions(sharedOptions, mode, newOptions) {\n    if (sharedOptions && !isDirectUpdateMode(mode)) {\n      this._resolveAnimations(undefined, mode).update(sharedOptions, newOptions);\n    }\n  }\n  _setStyle(element, index, mode, active) {\n    element.active = active;\n    const options = this.getStyle(index, active);\n    this._resolveAnimations(index, mode, active).update(element, {\n      options: (!active && this.getSharedOptions(options)) || options\n    });\n  }\n  removeHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', false);\n  }\n  setHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', true);\n  }\n  _removeDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n    if (element) {\n      this._setStyle(element, undefined, 'active', false);\n    }\n  }\n  _setDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n    if (element) {\n      this._setStyle(element, undefined, 'active', true);\n    }\n  }\n  _resyncElements(resetNewElements) {\n    const me = this;\n    const numMeta = me._cachedMeta.data.length;\n    const numData = me._data.length;\n    if (numData > numMeta) {\n      me._insertElements(numMeta, numData - numMeta, resetNewElements);\n    } else if (numData < numMeta) {\n      me._removeElements(numData, numMeta - numData);\n    }\n    const count = Math.min(numData, numMeta);\n    if (count) {\n      me.parse(0, count);\n    }\n  }\n  _insertElements(start, count, resetNewElements = true) {\n    const me = this;\n    const meta = me._cachedMeta;\n    const data = meta.data;\n    const end = start + count;\n    let i;\n    const move = (arr) => {\n      arr.length += count;\n      for (i = arr.length - 1; i >= end; i--) {\n        arr[i] = arr[i - count];\n      }\n    };\n    move(data);\n    for (i = start; i < end; ++i) {\n      data[i] = new me.dataElementType();\n    }\n    if (me._parsing) {\n      move(meta._parsed);\n    }\n    me.parse(start, count);\n    if (resetNewElements) {\n      me.updateElements(data, start, count, 'reset');\n    }\n  }\n  updateElements(element, start, count, mode) {}\n  _removeElements(start, count) {\n    const me = this;\n    const meta = me._cachedMeta;\n    if (me._parsing) {\n      const removed = meta._parsed.splice(start, count);\n      if (meta._stacked) {\n        clearStacks(meta, removed);\n      }\n    }\n    meta.data.splice(start, count);\n  }\n  _onDataPush() {\n    const count = arguments.length;\n    this._insertElements(this.getDataset().data.length - count, count);\n  }\n  _onDataPop() {\n    this._removeElements(this._cachedMeta.data.length - 1, 1);\n  }\n  _onDataShift() {\n    this._removeElements(0, 1);\n  }\n  _onDataSplice(start, count) {\n    this._removeElements(start, count);\n    this._insertElements(start, arguments.length - 2);\n  }\n  _onDataUnshift() {\n    this._insertElements(0, arguments.length);\n  }\n}\nDatasetController.defaults = {};\nDatasetController.prototype.datasetElementType = null;\nDatasetController.prototype.dataElementType = null;\n\nfunction getAllScaleValues(scale) {\n  if (!scale._cache.$bar) {\n    const metas = scale.getMatchingVisibleMetas('bar');\n    let values = [];\n    for (let i = 0, ilen = metas.length; i < ilen; i++) {\n      values = values.concat(metas[i].controller.getAllParsedValues(scale));\n    }\n    scale._cache.$bar = _arrayUnique(values.sort((a, b) => a - b));\n  }\n  return scale._cache.$bar;\n}\nfunction computeMinSampleSize(scale) {\n  const values = getAllScaleValues(scale);\n  let min = scale._length;\n  let i, ilen, curr, prev;\n  const updateMinAndPrev = () => {\n    if (curr === 32767 || curr === -32768) {\n      return;\n    }\n    if (defined(prev)) {\n      min = Math.min(min, Math.abs(curr - prev) || min);\n    }\n    prev = curr;\n  };\n  for (i = 0, ilen = values.length; i < ilen; ++i) {\n    curr = scale.getPixelForValue(values[i]);\n    updateMinAndPrev();\n  }\n  prev = undefined;\n  for (i = 0, ilen = scale.ticks.length; i < ilen; ++i) {\n    curr = scale.getPixelForTick(i);\n    updateMinAndPrev();\n  }\n  return min;\n}\nfunction computeFitCategoryTraits(index, ruler, options, stackCount) {\n  const thickness = options.barThickness;\n  let size, ratio;\n  if (isNullOrUndef(thickness)) {\n    size = ruler.min * options.categoryPercentage;\n    ratio = options.barPercentage;\n  } else {\n    size = thickness * stackCount;\n    ratio = 1;\n  }\n  return {\n    chunk: size / stackCount,\n    ratio,\n    start: ruler.pixels[index] - (size / 2)\n  };\n}\nfunction computeFlexCategoryTraits(index, ruler, options, stackCount) {\n  const pixels = ruler.pixels;\n  const curr = pixels[index];\n  let prev = index > 0 ? pixels[index - 1] : null;\n  let next = index < pixels.length - 1 ? pixels[index + 1] : null;\n  const percent = options.categoryPercentage;\n  if (prev === null) {\n    prev = curr - (next === null ? ruler.end - ruler.start : next - curr);\n  }\n  if (next === null) {\n    next = curr + curr - prev;\n  }\n  const start = curr - (curr - Math.min(prev, next)) / 2 * percent;\n  const size = Math.abs(next - prev) / 2 * percent;\n  return {\n    chunk: size / stackCount,\n    ratio: options.barPercentage,\n    start\n  };\n}\nfunction parseFloatBar(entry, item, vScale, i) {\n  const startValue = vScale.parse(entry[0], i);\n  const endValue = vScale.parse(entry[1], i);\n  const min = Math.min(startValue, endValue);\n  const max = Math.max(startValue, endValue);\n  let barStart = min;\n  let barEnd = max;\n  if (Math.abs(min) > Math.abs(max)) {\n    barStart = max;\n    barEnd = min;\n  }\n  item[vScale.axis] = barEnd;\n  item._custom = {\n    barStart,\n    barEnd,\n    start: startValue,\n    end: endValue,\n    min,\n    max\n  };\n}\nfunction parseValue(entry, item, vScale, i) {\n  if (isArray(entry)) {\n    parseFloatBar(entry, item, vScale, i);\n  } else {\n    item[vScale.axis] = vScale.parse(entry, i);\n  }\n  return item;\n}\nfunction parseArrayOrPrimitive(meta, data, start, count) {\n  const iScale = meta.iScale;\n  const vScale = meta.vScale;\n  const labels = iScale.getLabels();\n  const singleScale = iScale === vScale;\n  const parsed = [];\n  let i, ilen, item, entry;\n  for (i = start, ilen = start + count; i < ilen; ++i) {\n    entry = data[i];\n    item = {};\n    item[iScale.axis] = singleScale || iScale.parse(labels[i], i);\n    parsed.push(parseValue(entry, item, vScale, i));\n  }\n  return parsed;\n}\nfunction isFloatBar(custom) {\n  return custom && custom.barStart !== undefined && custom.barEnd !== undefined;\n}\nclass BarController extends DatasetController {\n  parsePrimitiveData(meta, data, start, count) {\n    return parseArrayOrPrimitive(meta, data, start, count);\n  }\n  parseArrayData(meta, data, start, count) {\n    return parseArrayOrPrimitive(meta, data, start, count);\n  }\n  parseObjectData(meta, data, start, count) {\n    const {iScale, vScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const iAxisKey = iScale.axis === 'x' ? xAxisKey : yAxisKey;\n    const vAxisKey = vScale.axis === 'x' ? xAxisKey : yAxisKey;\n    const parsed = [];\n    let i, ilen, item, obj;\n    for (i = start, ilen = start + count; i < ilen; ++i) {\n      obj = data[i];\n      item = {};\n      item[iScale.axis] = iScale.parse(resolveObjectKey(obj, iAxisKey), i);\n      parsed.push(parseValue(resolveObjectKey(obj, vAxisKey), item, vScale, i));\n    }\n    return parsed;\n  }\n  updateRangeFromParsed(range, scale, parsed, stack) {\n    super.updateRangeFromParsed(range, scale, parsed, stack);\n    const custom = parsed._custom;\n    if (custom && scale === this._cachedMeta.vScale) {\n      range.min = Math.min(range.min, custom.min);\n      range.max = Math.max(range.max, custom.max);\n    }\n  }\n  getLabelAndValue(index) {\n    const me = this;\n    const meta = me._cachedMeta;\n    const {iScale, vScale} = meta;\n    const parsed = me.getParsed(index);\n    const custom = parsed._custom;\n    const value = isFloatBar(custom)\n      ? '[' + custom.start + ', ' + custom.end + ']'\n      : '' + vScale.getLabelForValue(parsed[vScale.axis]);\n    return {\n      label: '' + iScale.getLabelForValue(parsed[iScale.axis]),\n      value\n    };\n  }\n  initialize() {\n    const me = this;\n    me.enableOptionSharing = true;\n    super.initialize();\n    const meta = me._cachedMeta;\n    meta.stack = me.getDataset().stack;\n  }\n  update(mode) {\n    const me = this;\n    const meta = me._cachedMeta;\n    me.updateElements(meta.data, 0, meta.data.length, mode);\n  }\n  updateElements(bars, start, count, mode) {\n    const me = this;\n    const reset = mode === 'reset';\n    const vScale = me._cachedMeta.vScale;\n    const base = vScale.getBasePixel();\n    const horizontal = vScale.isHorizontal();\n    const ruler = me._getRuler();\n    const firstOpts = me.resolveDataElementOptions(start, mode);\n    const sharedOptions = me.getSharedOptions(firstOpts);\n    const includeOptions = me.includeOptions(mode, sharedOptions);\n    me.updateSharedOptions(sharedOptions, mode, firstOpts);\n    for (let i = start; i < start + count; i++) {\n      const parsed = me.getParsed(i);\n      const vpixels = reset || isNullOrUndef(parsed[vScale.axis]) ? {base, head: base} : me._calculateBarValuePixels(i);\n      const ipixels = me._calculateBarIndexPixels(i, ruler);\n      const stack = (parsed._stacks || {})[vScale.axis];\n      const properties = {\n        horizontal,\n        base: vpixels.base,\n        enableBorderRadius: !stack || isFloatBar(parsed._custom) || (me.index === stack._top || me.index === stack._bottom),\n        x: horizontal ? vpixels.head : ipixels.center,\n        y: horizontal ? ipixels.center : vpixels.head,\n        height: horizontal ? ipixels.size : undefined,\n        width: horizontal ? undefined : ipixels.size\n      };\n      if (includeOptions) {\n        properties.options = sharedOptions || me.resolveDataElementOptions(i, mode);\n      }\n      me.updateElement(bars[i], i, properties, mode);\n    }\n  }\n  _getStacks(last, dataIndex) {\n    const me = this;\n    const meta = me._cachedMeta;\n    const iScale = meta.iScale;\n    const metasets = iScale.getMatchingVisibleMetas(me._type);\n    const stacked = iScale.options.stacked;\n    const ilen = metasets.length;\n    const stacks = [];\n    let i, item;\n    for (i = 0; i < ilen; ++i) {\n      item = metasets[i];\n      if (typeof dataIndex !== 'undefined') {\n        const val = item.controller.getParsed(dataIndex)[\n          item.controller._cachedMeta.vScale.axis\n        ];\n        if (isNullOrUndef(val) || isNaN(val)) {\n          continue;\n        }\n      }\n      if (stacked === false || stacks.indexOf(item.stack) === -1 ||\n\t\t\t\t(stacked === undefined && item.stack === undefined)) {\n        stacks.push(item.stack);\n      }\n      if (item.index === last) {\n        break;\n      }\n    }\n    if (!stacks.length) {\n      stacks.push(undefined);\n    }\n    return stacks;\n  }\n  _getStackCount(index) {\n    return this._getStacks(undefined, index).length;\n  }\n  _getStackIndex(datasetIndex, name, dataIndex) {\n    const stacks = this._getStacks(datasetIndex, dataIndex);\n    const index = (name !== undefined)\n      ? stacks.indexOf(name)\n      : -1;\n    return (index === -1)\n      ? stacks.length - 1\n      : index;\n  }\n  _getRuler() {\n    const me = this;\n    const opts = me.options;\n    const meta = me._cachedMeta;\n    const iScale = meta.iScale;\n    const pixels = [];\n    let i, ilen;\n    for (i = 0, ilen = meta.data.length; i < ilen; ++i) {\n      pixels.push(iScale.getPixelForValue(me.getParsed(i)[iScale.axis], i));\n    }\n    const barThickness = opts.barThickness;\n    const min = barThickness || computeMinSampleSize(iScale);\n    return {\n      min,\n      pixels,\n      start: iScale._startPixel,\n      end: iScale._endPixel,\n      stackCount: me._getStackCount(),\n      scale: iScale,\n      grouped: opts.grouped,\n      ratio: barThickness ? 1 : opts.categoryPercentage * opts.barPercentage\n    };\n  }\n  _calculateBarValuePixels(index) {\n    const me = this;\n    const {vScale, _stacked} = me._cachedMeta;\n    const {base: baseValue, minBarLength} = me.options;\n    const parsed = me.getParsed(index);\n    const custom = parsed._custom;\n    const floating = isFloatBar(custom);\n    let value = parsed[vScale.axis];\n    let start = 0;\n    let length = _stacked ? me.applyStack(vScale, parsed, _stacked) : value;\n    let head, size;\n    if (length !== value) {\n      start = length - value;\n      length = value;\n    }\n    if (floating) {\n      value = custom.barStart;\n      length = custom.barEnd - custom.barStart;\n      if (value !== 0 && sign(value) !== sign(custom.barEnd)) {\n        start = 0;\n      }\n      start += value;\n    }\n    const startValue = !isNullOrUndef(baseValue) && !floating ? baseValue : start;\n    let base = vScale.getPixelForValue(startValue);\n    if (this.chart.getDataVisibility(index)) {\n      head = vScale.getPixelForValue(start + length);\n    } else {\n      head = base;\n    }\n    size = head - base;\n    if (minBarLength !== undefined && Math.abs(size) < minBarLength) {\n      size = size < 0 ? -minBarLength : minBarLength;\n      if (value === 0) {\n        base -= size / 2;\n      }\n      head = base + size;\n    }\n    const actualBase = baseValue || 0;\n    if (base === vScale.getPixelForValue(actualBase)) {\n      const halfGrid = vScale.getLineWidthForValue(actualBase) / 2;\n      if (size > 0) {\n        base += halfGrid;\n        size -= halfGrid;\n      } else if (size < 0) {\n        base -= halfGrid;\n        size += halfGrid;\n      }\n    }\n    return {\n      size,\n      base,\n      head,\n      center: head + size / 2\n    };\n  }\n  _calculateBarIndexPixels(index, ruler) {\n    const me = this;\n    const scale = ruler.scale;\n    const options = me.options;\n    const skipNull = options.skipNull;\n    const maxBarThickness = valueOrDefault(options.maxBarThickness, Infinity);\n    let center, size;\n    if (ruler.grouped) {\n      const stackCount = skipNull ? me._getStackCount(index) : ruler.stackCount;\n      const range = options.barThickness === 'flex'\n        ? computeFlexCategoryTraits(index, ruler, options, stackCount)\n        : computeFitCategoryTraits(index, ruler, options, stackCount);\n      const stackIndex = me._getStackIndex(me.index, me._cachedMeta.stack, skipNull ? index : undefined);\n      center = range.start + (range.chunk * stackIndex) + (range.chunk / 2);\n      size = Math.min(maxBarThickness, range.chunk * range.ratio);\n    } else {\n      center = scale.getPixelForValue(me.getParsed(index)[scale.axis], index);\n      size = Math.min(maxBarThickness, ruler.min * ruler.ratio);\n    }\n    return {\n      base: center - size / 2,\n      head: center + size / 2,\n      center,\n      size\n    };\n  }\n  draw() {\n    const me = this;\n    const chart = me.chart;\n    const meta = me._cachedMeta;\n    const vScale = meta.vScale;\n    const rects = meta.data;\n    const ilen = rects.length;\n    let i = 0;\n    clipArea(chart.ctx, chart.chartArea);\n    for (; i < ilen; ++i) {\n      if (me.getParsed(i)[vScale.axis] !== null) {\n        rects[i].draw(me._ctx);\n      }\n    }\n    unclipArea(chart.ctx);\n  }\n}\nBarController.id = 'bar';\nBarController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'bar',\n  categoryPercentage: 0.8,\n  barPercentage: 0.9,\n  grouped: true,\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'base', 'width', 'height']\n    }\n  }\n};\nBarController.overrides = {\n  interaction: {\n    mode: 'index'\n  },\n  scales: {\n    _index_: {\n      type: 'category',\n      offset: true,\n      grid: {\n        offset: true\n      }\n    },\n    _value_: {\n      type: 'linear',\n      beginAtZero: true,\n    }\n  }\n};\n\nclass BubbleController extends DatasetController {\n  initialize() {\n    this.enableOptionSharing = true;\n    super.initialize();\n  }\n  parseObjectData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const parsed = [];\n    let i, ilen, item;\n    for (i = start, ilen = start + count; i < ilen; ++i) {\n      item = data[i];\n      parsed.push({\n        x: xScale.parse(resolveObjectKey(item, xAxisKey), i),\n        y: yScale.parse(resolveObjectKey(item, yAxisKey), i),\n        _custom: item && item.r && +item.r\n      });\n    }\n    return parsed;\n  }\n  getMaxOverflow() {\n    const {data, _parsed} = this._cachedMeta;\n    let max = 0;\n    for (let i = data.length - 1; i >= 0; --i) {\n      max = Math.max(max, data[i].size() / 2, _parsed[i]._custom);\n    }\n    return max > 0 && max;\n  }\n  getLabelAndValue(index) {\n    const me = this;\n    const meta = me._cachedMeta;\n    const {xScale, yScale} = meta;\n    const parsed = me.getParsed(index);\n    const x = xScale.getLabelForValue(parsed.x);\n    const y = yScale.getLabelForValue(parsed.y);\n    const r = parsed._custom;\n    return {\n      label: meta.label,\n      value: '(' + x + ', ' + y + (r ? ', ' + r : '') + ')'\n    };\n  }\n  update(mode) {\n    const me = this;\n    const points = me._cachedMeta.data;\n    me.updateElements(points, 0, points.length, mode);\n  }\n  updateElements(points, start, count, mode) {\n    const me = this;\n    const reset = mode === 'reset';\n    const {xScale, yScale} = me._cachedMeta;\n    const firstOpts = me.resolveDataElementOptions(start, mode);\n    const sharedOptions = me.getSharedOptions(firstOpts);\n    const includeOptions = me.includeOptions(mode, sharedOptions);\n    for (let i = start; i < start + count; i++) {\n      const point = points[i];\n      const parsed = !reset && me.getParsed(i);\n      const x = reset ? xScale.getPixelForDecimal(0.5) : xScale.getPixelForValue(parsed.x);\n      const y = reset ? yScale.getBasePixel() : yScale.getPixelForValue(parsed.y);\n      const properties = {\n        x,\n        y,\n        skip: isNaN(x) || isNaN(y)\n      };\n      if (includeOptions) {\n        properties.options = me.resolveDataElementOptions(i, mode);\n        if (reset) {\n          properties.options.radius = 0;\n        }\n      }\n      me.updateElement(point, i, properties, mode);\n    }\n    me.updateSharedOptions(sharedOptions, mode, firstOpts);\n  }\n  resolveDataElementOptions(index, mode) {\n    const parsed = this.getParsed(index);\n    let values = super.resolveDataElementOptions(index, mode);\n    if (values.$shared) {\n      values = Object.assign({}, values, {$shared: false});\n    }\n    const radius = values.radius;\n    if (mode !== 'active') {\n      values.radius = 0;\n    }\n    values.radius += valueOrDefault(parsed && parsed._custom, radius);\n    return values;\n  }\n}\nBubbleController.id = 'bubble';\nBubbleController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'point',\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'borderWidth', 'radius']\n    }\n  }\n};\nBubbleController.overrides = {\n  scales: {\n    x: {\n      type: 'linear'\n    },\n    y: {\n      type: 'linear'\n    }\n  },\n  plugins: {\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        }\n      }\n    }\n  }\n};\n\nfunction getRatioAndOffset(rotation, circumference, cutout) {\n  let ratioX = 1;\n  let ratioY = 1;\n  let offsetX = 0;\n  let offsetY = 0;\n  if (circumference < TAU) {\n    const startAngle = rotation;\n    const endAngle = startAngle + circumference;\n    const startX = Math.cos(startAngle);\n    const startY = Math.sin(startAngle);\n    const endX = Math.cos(endAngle);\n    const endY = Math.sin(endAngle);\n    const calcMax = (angle, a, b) => _angleBetween(angle, startAngle, endAngle) ? 1 : Math.max(a, a * cutout, b, b * cutout);\n    const calcMin = (angle, a, b) => _angleBetween(angle, startAngle, endAngle) ? -1 : Math.min(a, a * cutout, b, b * cutout);\n    const maxX = calcMax(0, startX, endX);\n    const maxY = calcMax(HALF_PI, startY, endY);\n    const minX = calcMin(PI, startX, endX);\n    const minY = calcMin(PI + HALF_PI, startY, endY);\n    ratioX = (maxX - minX) / 2;\n    ratioY = (maxY - minY) / 2;\n    offsetX = -(maxX + minX) / 2;\n    offsetY = -(maxY + minY) / 2;\n  }\n  return {ratioX, ratioY, offsetX, offsetY};\n}\nclass DoughnutController extends DatasetController {\n  constructor(chart, datasetIndex) {\n    super(chart, datasetIndex);\n    this.enableOptionSharing = true;\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n    this.offsetX = undefined;\n    this.offsetY = undefined;\n  }\n  linkScales() {}\n  parse(start, count) {\n    const data = this.getDataset().data;\n    const meta = this._cachedMeta;\n    let i, ilen;\n    for (i = start, ilen = start + count; i < ilen; ++i) {\n      meta._parsed[i] = +data[i];\n    }\n  }\n  _getRotation() {\n    return toRadians(this.options.rotation - 90);\n  }\n  _getCircumference() {\n    return toRadians(this.options.circumference);\n  }\n  _getRotationExtents() {\n    let min = TAU;\n    let max = -TAU;\n    const me = this;\n    for (let i = 0; i < me.chart.data.datasets.length; ++i) {\n      if (me.chart.isDatasetVisible(i)) {\n        const controller = me.chart.getDatasetMeta(i).controller;\n        const rotation = controller._getRotation();\n        const circumference = controller._getCircumference();\n        min = Math.min(min, rotation);\n        max = Math.max(max, rotation + circumference);\n      }\n    }\n    return {\n      rotation: min,\n      circumference: max - min,\n    };\n  }\n  update(mode) {\n    const me = this;\n    const chart = me.chart;\n    const {chartArea} = chart;\n    const meta = me._cachedMeta;\n    const arcs = meta.data;\n    const spacing = me.getMaxBorderWidth() + me.getMaxOffset(arcs);\n    const maxSize = Math.max((Math.min(chartArea.width, chartArea.height) - spacing) / 2, 0);\n    const cutout = Math.min(toPercentage(me.options.cutout, maxSize), 1);\n    const chartWeight = me._getRingWeight(me.index);\n    const {circumference, rotation} = me._getRotationExtents();\n    const {ratioX, ratioY, offsetX, offsetY} = getRatioAndOffset(rotation, circumference, cutout);\n    const maxWidth = (chartArea.width - spacing) / ratioX;\n    const maxHeight = (chartArea.height - spacing) / ratioY;\n    const maxRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);\n    const outerRadius = toDimension(me.options.radius, maxRadius);\n    const innerRadius = Math.max(outerRadius * cutout, 0);\n    const radiusLength = (outerRadius - innerRadius) / me._getVisibleDatasetWeightTotal();\n    me.offsetX = offsetX * outerRadius;\n    me.offsetY = offsetY * outerRadius;\n    meta.total = me.calculateTotal();\n    me.outerRadius = outerRadius - radiusLength * me._getRingWeightOffset(me.index);\n    me.innerRadius = Math.max(me.outerRadius - radiusLength * chartWeight, 0);\n    me.updateElements(arcs, 0, arcs.length, mode);\n  }\n  _circumference(i, reset) {\n    const me = this;\n    const opts = me.options;\n    const meta = me._cachedMeta;\n    const circumference = me._getCircumference();\n    if ((reset && opts.animation.animateRotate) || !this.chart.getDataVisibility(i) || meta._parsed[i] === null) {\n      return 0;\n    }\n    return me.calculateCircumference(meta._parsed[i] * circumference / TAU);\n  }\n  updateElements(arcs, start, count, mode) {\n    const me = this;\n    const reset = mode === 'reset';\n    const chart = me.chart;\n    const chartArea = chart.chartArea;\n    const opts = chart.options;\n    const animationOpts = opts.animation;\n    const centerX = (chartArea.left + chartArea.right) / 2;\n    const centerY = (chartArea.top + chartArea.bottom) / 2;\n    const animateScale = reset && animationOpts.animateScale;\n    const innerRadius = animateScale ? 0 : me.innerRadius;\n    const outerRadius = animateScale ? 0 : me.outerRadius;\n    const firstOpts = me.resolveDataElementOptions(start, mode);\n    const sharedOptions = me.getSharedOptions(firstOpts);\n    const includeOptions = me.includeOptions(mode, sharedOptions);\n    let startAngle = me._getRotation();\n    let i;\n    for (i = 0; i < start; ++i) {\n      startAngle += me._circumference(i, reset);\n    }\n    for (i = start; i < start + count; ++i) {\n      const circumference = me._circumference(i, reset);\n      const arc = arcs[i];\n      const properties = {\n        x: centerX + me.offsetX,\n        y: centerY + me.offsetY,\n        startAngle,\n        endAngle: startAngle + circumference,\n        circumference,\n        outerRadius,\n        innerRadius\n      };\n      if (includeOptions) {\n        properties.options = sharedOptions || me.resolveDataElementOptions(i, mode);\n      }\n      startAngle += circumference;\n      me.updateElement(arc, i, properties, mode);\n    }\n    me.updateSharedOptions(sharedOptions, mode, firstOpts);\n  }\n  calculateTotal() {\n    const meta = this._cachedMeta;\n    const metaData = meta.data;\n    let total = 0;\n    let i;\n    for (i = 0; i < metaData.length; i++) {\n      const value = meta._parsed[i];\n      if (value !== null && !isNaN(value) && this.chart.getDataVisibility(i)) {\n        total += Math.abs(value);\n      }\n    }\n    return total;\n  }\n  calculateCircumference(value) {\n    const total = this._cachedMeta.total;\n    if (total > 0 && !isNaN(value)) {\n      return TAU * (Math.abs(value) / total);\n    }\n    return 0;\n  }\n  getLabelAndValue(index) {\n    const me = this;\n    const meta = me._cachedMeta;\n    const chart = me.chart;\n    const labels = chart.data.labels || [];\n    const value = formatNumber(meta._parsed[index], chart.options.locale);\n    return {\n      label: labels[index] || '',\n      value,\n    };\n  }\n  getMaxBorderWidth(arcs) {\n    const me = this;\n    let max = 0;\n    const chart = me.chart;\n    let i, ilen, meta, controller, options;\n    if (!arcs) {\n      for (i = 0, ilen = chart.data.datasets.length; i < ilen; ++i) {\n        if (chart.isDatasetVisible(i)) {\n          meta = chart.getDatasetMeta(i);\n          arcs = meta.data;\n          controller = meta.controller;\n          if (controller !== me) {\n            controller.configure();\n          }\n          break;\n        }\n      }\n    }\n    if (!arcs) {\n      return 0;\n    }\n    for (i = 0, ilen = arcs.length; i < ilen; ++i) {\n      options = controller.resolveDataElementOptions(i);\n      if (options.borderAlign !== 'inner') {\n        max = Math.max(max, options.borderWidth || 0, options.hoverBorderWidth || 0);\n      }\n    }\n    return max;\n  }\n  getMaxOffset(arcs) {\n    let max = 0;\n    for (let i = 0, ilen = arcs.length; i < ilen; ++i) {\n      const options = this.resolveDataElementOptions(i);\n      max = Math.max(max, options.offset || 0, options.hoverOffset || 0);\n    }\n    return max;\n  }\n  _getRingWeightOffset(datasetIndex) {\n    let ringWeightOffset = 0;\n    for (let i = 0; i < datasetIndex; ++i) {\n      if (this.chart.isDatasetVisible(i)) {\n        ringWeightOffset += this._getRingWeight(i);\n      }\n    }\n    return ringWeightOffset;\n  }\n  _getRingWeight(datasetIndex) {\n    return Math.max(valueOrDefault(this.chart.data.datasets[datasetIndex].weight, 1), 0);\n  }\n  _getVisibleDatasetWeightTotal() {\n    return this._getRingWeightOffset(this.chart.data.datasets.length) || 1;\n  }\n}\nDoughnutController.id = 'doughnut';\nDoughnutController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'arc',\n  animation: {\n    animateRotate: true,\n    animateScale: false\n  },\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['circumference', 'endAngle', 'innerRadius', 'outerRadius', 'startAngle', 'x', 'y', 'offset', 'borderWidth']\n    },\n  },\n  cutout: '50%',\n  rotation: 0,\n  circumference: 360,\n  radius: '100%',\n  indexAxis: 'r',\n};\nDoughnutController.overrides = {\n  aspectRatio: 1,\n  plugins: {\n    legend: {\n      labels: {\n        generateLabels(chart) {\n          const data = chart.data;\n          if (data.labels.length && data.datasets.length) {\n            return data.labels.map((label, i) => {\n              const meta = chart.getDatasetMeta(0);\n              const style = meta.controller.getStyle(i);\n              return {\n                text: label,\n                fillStyle: style.backgroundColor,\n                strokeStyle: style.borderColor,\n                lineWidth: style.borderWidth,\n                hidden: !chart.getDataVisibility(i),\n                index: i\n              };\n            });\n          }\n          return [];\n        }\n      },\n      onClick(e, legendItem, legend) {\n        legend.chart.toggleDataVisibility(legendItem.index);\n        legend.chart.update();\n      }\n    },\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        },\n        label(tooltipItem) {\n          let dataLabel = tooltipItem.label;\n          const value = ': ' + tooltipItem.formattedValue;\n          if (isArray(dataLabel)) {\n            dataLabel = dataLabel.slice();\n            dataLabel[0] += value;\n          } else {\n            dataLabel += value;\n          }\n          return dataLabel;\n        }\n      }\n    }\n  }\n};\n\nclass LineController extends DatasetController {\n  initialize() {\n    this.enableOptionSharing = true;\n    super.initialize();\n  }\n  update(mode) {\n    const me = this;\n    const meta = me._cachedMeta;\n    const {dataset: line, data: points = [], _dataset} = meta;\n    const animationsDisabled = me.chart._animationsDisabled;\n    let {start, count} = getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n    me._drawStart = start;\n    me._drawCount = count;\n    if (scaleRangesChanged(meta)) {\n      start = 0;\n      count = points.length;\n    }\n    line._decimated = !!_dataset._decimated;\n    line.points = points;\n    const options = me.resolveDatasetElementOptions(mode);\n    if (!me.options.showLine) {\n      options.borderWidth = 0;\n    }\n    options.segment = me.options.segment;\n    me.updateElement(line, undefined, {\n      animated: !animationsDisabled,\n      options\n    }, mode);\n    me.updateElements(points, start, count, mode);\n  }\n  updateElements(points, start, count, mode) {\n    const me = this;\n    const reset = mode === 'reset';\n    const {xScale, yScale, _stacked} = me._cachedMeta;\n    const firstOpts = me.resolveDataElementOptions(start, mode);\n    const sharedOptions = me.getSharedOptions(firstOpts);\n    const includeOptions = me.includeOptions(mode, sharedOptions);\n    const spanGaps = me.options.spanGaps;\n    const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n    const directUpdate = me.chart._animationsDisabled || reset || mode === 'none';\n    let prevParsed = start > 0 && me.getParsed(start - 1);\n    for (let i = start; i < start + count; ++i) {\n      const point = points[i];\n      const parsed = me.getParsed(i);\n      const properties = directUpdate ? point : {};\n      const nullData = isNullOrUndef(parsed.y);\n      const x = properties.x = xScale.getPixelForValue(parsed.x, i);\n      const y = properties.y = reset || nullData ? yScale.getBasePixel() : yScale.getPixelForValue(_stacked ? me.applyStack(yScale, parsed, _stacked) : parsed.y, i);\n      properties.skip = isNaN(x) || isNaN(y) || nullData;\n      properties.stop = i > 0 && (parsed.x - prevParsed.x) > maxGapLength;\n      properties.parsed = parsed;\n      if (includeOptions) {\n        properties.options = sharedOptions || me.resolveDataElementOptions(i, mode);\n      }\n      if (!directUpdate) {\n        me.updateElement(point, i, properties, mode);\n      }\n      prevParsed = parsed;\n    }\n    me.updateSharedOptions(sharedOptions, mode, firstOpts);\n  }\n  getMaxOverflow() {\n    const me = this;\n    const meta = me._cachedMeta;\n    const dataset = meta.dataset;\n    const border = dataset.options && dataset.options.borderWidth || 0;\n    const data = meta.data || [];\n    if (!data.length) {\n      return border;\n    }\n    const firstPoint = data[0].size(me.resolveDataElementOptions(0));\n    const lastPoint = data[data.length - 1].size(me.resolveDataElementOptions(data.length - 1));\n    return Math.max(border, firstPoint, lastPoint) / 2;\n  }\n  draw() {\n    this._cachedMeta.dataset.updateControlPoints(this.chart.chartArea);\n    super.draw();\n  }\n}\nLineController.id = 'line';\nLineController.defaults = {\n  datasetElementType: 'line',\n  dataElementType: 'point',\n  showLine: true,\n  spanGaps: false,\n};\nLineController.overrides = {\n  scales: {\n    _index_: {\n      type: 'category',\n    },\n    _value_: {\n      type: 'linear',\n    },\n  }\n};\nfunction getStartAndCountOfVisiblePoints(meta, points, animationsDisabled) {\n  const pointCount = points.length;\n  let start = 0;\n  let count = pointCount;\n  if (meta._sorted) {\n    const {iScale, _parsed} = meta;\n    const axis = iScale.axis;\n    const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\n    if (minDefined) {\n      start = _limitValue(Math.min(\n        _lookupByKey(_parsed, iScale.axis, min).lo,\n        animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo),\n      0, pointCount - 1);\n    }\n    if (maxDefined) {\n      count = _limitValue(Math.max(\n        _lookupByKey(_parsed, iScale.axis, max).hi + 1,\n        animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max)).hi + 1),\n      start, pointCount) - start;\n    } else {\n      count = pointCount - start;\n    }\n  }\n  return {start, count};\n}\nfunction scaleRangesChanged(meta) {\n  const {xScale, yScale, _scaleRanges} = meta;\n  const newRanges = {\n    xmin: xScale.min,\n    xmax: xScale.max,\n    ymin: yScale.min,\n    ymax: yScale.max\n  };\n  if (!_scaleRanges) {\n    meta._scaleRanges = newRanges;\n    return true;\n  }\n  const changed = _scaleRanges.xmin !== xScale.min\n\t\t|| _scaleRanges.xmax !== xScale.max\n\t\t|| _scaleRanges.ymin !== yScale.min\n\t\t|| _scaleRanges.ymax !== yScale.max;\n  Object.assign(_scaleRanges, newRanges);\n  return changed;\n}\n\nclass PolarAreaController extends DatasetController {\n  constructor(chart, datasetIndex) {\n    super(chart, datasetIndex);\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n  }\n  update(mode) {\n    const arcs = this._cachedMeta.data;\n    this._updateRadius();\n    this.updateElements(arcs, 0, arcs.length, mode);\n  }\n  _updateRadius() {\n    const me = this;\n    const chart = me.chart;\n    const chartArea = chart.chartArea;\n    const opts = chart.options;\n    const minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\n    const outerRadius = Math.max(minSize / 2, 0);\n    const innerRadius = Math.max(opts.cutoutPercentage ? (outerRadius / 100) * (opts.cutoutPercentage) : 1, 0);\n    const radiusLength = (outerRadius - innerRadius) / chart.getVisibleDatasetCount();\n    me.outerRadius = outerRadius - (radiusLength * me.index);\n    me.innerRadius = me.outerRadius - radiusLength;\n  }\n  updateElements(arcs, start, count, mode) {\n    const me = this;\n    const reset = mode === 'reset';\n    const chart = me.chart;\n    const dataset = me.getDataset();\n    const opts = chart.options;\n    const animationOpts = opts.animation;\n    const scale = me._cachedMeta.rScale;\n    const centerX = scale.xCenter;\n    const centerY = scale.yCenter;\n    const datasetStartAngle = scale.getIndexAngle(0) - 0.5 * PI;\n    let angle = datasetStartAngle;\n    let i;\n    const defaultAngle = 360 / me.countVisibleElements();\n    for (i = 0; i < start; ++i) {\n      angle += me._computeAngle(i, mode, defaultAngle);\n    }\n    for (i = start; i < start + count; i++) {\n      const arc = arcs[i];\n      let startAngle = angle;\n      let endAngle = angle + me._computeAngle(i, mode, defaultAngle);\n      let outerRadius = chart.getDataVisibility(i) ? scale.getDistanceFromCenterForValue(dataset.data[i]) : 0;\n      angle = endAngle;\n      if (reset) {\n        if (animationOpts.animateScale) {\n          outerRadius = 0;\n        }\n        if (animationOpts.animateRotate) {\n          startAngle = endAngle = datasetStartAngle;\n        }\n      }\n      const properties = {\n        x: centerX,\n        y: centerY,\n        innerRadius: 0,\n        outerRadius,\n        startAngle,\n        endAngle,\n        options: me.resolveDataElementOptions(i, mode)\n      };\n      me.updateElement(arc, i, properties, mode);\n    }\n  }\n  countVisibleElements() {\n    const dataset = this.getDataset();\n    const meta = this._cachedMeta;\n    let count = 0;\n    meta.data.forEach((element, index) => {\n      if (!isNaN(dataset.data[index]) && this.chart.getDataVisibility(index)) {\n        count++;\n      }\n    });\n    return count;\n  }\n  _computeAngle(index, mode, defaultAngle) {\n    return this.chart.getDataVisibility(index)\n      ? toRadians(this.resolveDataElementOptions(index, mode).angle || defaultAngle)\n      : 0;\n  }\n}\nPolarAreaController.id = 'polarArea';\nPolarAreaController.defaults = {\n  dataElementType: 'arc',\n  animation: {\n    animateRotate: true,\n    animateScale: true\n  },\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'startAngle', 'endAngle', 'innerRadius', 'outerRadius']\n    },\n  },\n  indexAxis: 'r',\n  startAngle: 0,\n};\nPolarAreaController.overrides = {\n  aspectRatio: 1,\n  plugins: {\n    legend: {\n      labels: {\n        generateLabels(chart) {\n          const data = chart.data;\n          if (data.labels.length && data.datasets.length) {\n            return data.labels.map((label, i) => {\n              const meta = chart.getDatasetMeta(0);\n              const style = meta.controller.getStyle(i);\n              return {\n                text: label,\n                fillStyle: style.backgroundColor,\n                strokeStyle: style.borderColor,\n                lineWidth: style.borderWidth,\n                hidden: !chart.getDataVisibility(i),\n                index: i\n              };\n            });\n          }\n          return [];\n        }\n      },\n      onClick(e, legendItem, legend) {\n        legend.chart.toggleDataVisibility(legendItem.index);\n        legend.chart.update();\n      }\n    },\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        },\n        label(context) {\n          return context.chart.data.labels[context.dataIndex] + ': ' + context.formattedValue;\n        }\n      }\n    }\n  },\n  scales: {\n    r: {\n      type: 'radialLinear',\n      angleLines: {\n        display: false\n      },\n      beginAtZero: true,\n      grid: {\n        circular: true\n      },\n      pointLabels: {\n        display: false\n      },\n      startAngle: 0\n    }\n  }\n};\n\nclass PieController extends DoughnutController {\n}\nPieController.id = 'pie';\nPieController.defaults = {\n  cutout: 0,\n  rotation: 0,\n  circumference: 360,\n  radius: '100%'\n};\n\nclass RadarController extends DatasetController {\n  getLabelAndValue(index) {\n    const me = this;\n    const vScale = me._cachedMeta.vScale;\n    const parsed = me.getParsed(index);\n    return {\n      label: vScale.getLabels()[index],\n      value: '' + vScale.getLabelForValue(parsed[vScale.axis])\n    };\n  }\n  update(mode) {\n    const me = this;\n    const meta = me._cachedMeta;\n    const line = meta.dataset;\n    const points = meta.data || [];\n    const labels = meta.iScale.getLabels();\n    line.points = points;\n    if (mode !== 'resize') {\n      const options = me.resolveDatasetElementOptions(mode);\n      if (!me.options.showLine) {\n        options.borderWidth = 0;\n      }\n      const properties = {\n        _loop: true,\n        _fullLoop: labels.length === points.length,\n        options\n      };\n      me.updateElement(line, undefined, properties, mode);\n    }\n    me.updateElements(points, 0, points.length, mode);\n  }\n  updateElements(points, start, count, mode) {\n    const me = this;\n    const dataset = me.getDataset();\n    const scale = me._cachedMeta.rScale;\n    const reset = mode === 'reset';\n    for (let i = start; i < start + count; i++) {\n      const point = points[i];\n      const options = me.resolveDataElementOptions(i, mode);\n      const pointPosition = scale.getPointPositionForValue(i, dataset.data[i]);\n      const x = reset ? scale.xCenter : pointPosition.x;\n      const y = reset ? scale.yCenter : pointPosition.y;\n      const properties = {\n        x,\n        y,\n        angle: pointPosition.angle,\n        skip: isNaN(x) || isNaN(y),\n        options\n      };\n      me.updateElement(point, i, properties, mode);\n    }\n  }\n}\nRadarController.id = 'radar';\nRadarController.defaults = {\n  datasetElementType: 'line',\n  dataElementType: 'point',\n  indexAxis: 'r',\n  showLine: true,\n  elements: {\n    line: {\n      fill: 'start'\n    }\n  },\n};\nRadarController.overrides = {\n  aspectRatio: 1,\n  scales: {\n    r: {\n      type: 'radialLinear',\n    }\n  }\n};\n\nclass ScatterController extends LineController {\n}\nScatterController.id = 'scatter';\nScatterController.defaults = {\n  showLine: false,\n  fill: false\n};\nScatterController.overrides = {\n  interaction: {\n    mode: 'point'\n  },\n  plugins: {\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        },\n        label(item) {\n          return '(' + item.label + ', ' + item.formattedValue + ')';\n        }\n      }\n    }\n  },\n  scales: {\n    x: {\n      type: 'linear'\n    },\n    y: {\n      type: 'linear'\n    }\n  }\n};\n\nvar controllers = /*#__PURE__*/Object.freeze({\n__proto__: null,\nBarController: BarController,\nBubbleController: BubbleController,\nDoughnutController: DoughnutController,\nLineController: LineController,\nPolarAreaController: PolarAreaController,\nPieController: PieController,\nRadarController: RadarController,\nScatterController: ScatterController\n});\n\nfunction abstract() {\n  throw new Error('This method is not implemented: either no adapter can be found or an incomplete integration was provided.');\n}\nclass DateAdapter {\n  constructor(options) {\n    this.options = options || {};\n  }\n  formats() {\n    return abstract();\n  }\n  parse(value, format) {\n    return abstract();\n  }\n  format(timestamp, format) {\n    return abstract();\n  }\n  add(timestamp, amount, unit) {\n    return abstract();\n  }\n  diff(a, b, unit) {\n    return abstract();\n  }\n  startOf(timestamp, unit, weekday) {\n    return abstract();\n  }\n  endOf(timestamp, unit) {\n    return abstract();\n  }\n}\nDateAdapter.override = function(members) {\n  Object.assign(DateAdapter.prototype, members);\n};\nvar adapters = {\n  _date: DateAdapter\n};\n\nfunction getRelativePosition(e, chart) {\n  if ('native' in e) {\n    return {\n      x: e.x,\n      y: e.y\n    };\n  }\n  return getRelativePosition$1(e, chart);\n}\nfunction evaluateAllVisibleItems(chart, handler) {\n  const metasets = chart.getSortedVisibleDatasetMetas();\n  let index, data, element;\n  for (let i = 0, ilen = metasets.length; i < ilen; ++i) {\n    ({index, data} = metasets[i]);\n    for (let j = 0, jlen = data.length; j < jlen; ++j) {\n      element = data[j];\n      if (!element.skip) {\n        handler(element, index, j);\n      }\n    }\n  }\n}\nfunction binarySearch(metaset, axis, value, intersect) {\n  const {controller, data, _sorted} = metaset;\n  const iScale = controller._cachedMeta.iScale;\n  if (iScale && axis === iScale.axis && _sorted && data.length) {\n    const lookupMethod = iScale._reversePixels ? _rlookupByKey : _lookupByKey;\n    if (!intersect) {\n      return lookupMethod(data, axis, value);\n    } else if (controller._sharedOptions) {\n      const el = data[0];\n      const range = typeof el.getRange === 'function' && el.getRange(axis);\n      if (range) {\n        const start = lookupMethod(data, axis, value - range);\n        const end = lookupMethod(data, axis, value + range);\n        return {lo: start.lo, hi: end.hi};\n      }\n    }\n  }\n  return {lo: 0, hi: data.length - 1};\n}\nfunction optimizedEvaluateItems(chart, axis, position, handler, intersect) {\n  const metasets = chart.getSortedVisibleDatasetMetas();\n  const value = position[axis];\n  for (let i = 0, ilen = metasets.length; i < ilen; ++i) {\n    const {index, data} = metasets[i];\n    const {lo, hi} = binarySearch(metasets[i], axis, value, intersect);\n    for (let j = lo; j <= hi; ++j) {\n      const element = data[j];\n      if (!element.skip) {\n        handler(element, index, j);\n      }\n    }\n  }\n}\nfunction getDistanceMetricForAxis(axis) {\n  const useX = axis.indexOf('x') !== -1;\n  const useY = axis.indexOf('y') !== -1;\n  return function(pt1, pt2) {\n    const deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;\n    const deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;\n    return Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\n  };\n}\nfunction getIntersectItems(chart, position, axis, useFinalPosition) {\n  const items = [];\n  if (!_isPointInArea(position, chart.chartArea, chart._minPadding)) {\n    return items;\n  }\n  const evaluationFunc = function(element, datasetIndex, index) {\n    if (element.inRange(position.x, position.y, useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n    }\n  };\n  optimizedEvaluateItems(chart, axis, position, evaluationFunc, true);\n  return items;\n}\nfunction getNearestItems(chart, position, axis, intersect, useFinalPosition) {\n  const distanceMetric = getDistanceMetricForAxis(axis);\n  let minDistance = Number.POSITIVE_INFINITY;\n  let items = [];\n  if (!_isPointInArea(position, chart.chartArea, chart._minPadding)) {\n    return items;\n  }\n  const evaluationFunc = function(element, datasetIndex, index) {\n    if (intersect && !element.inRange(position.x, position.y, useFinalPosition)) {\n      return;\n    }\n    const center = element.getCenterPoint(useFinalPosition);\n    const distance = distanceMetric(position, center);\n    if (distance < minDistance) {\n      items = [{element, datasetIndex, index}];\n      minDistance = distance;\n    } else if (distance === minDistance) {\n      items.push({element, datasetIndex, index});\n    }\n  };\n  optimizedEvaluateItems(chart, axis, position, evaluationFunc);\n  return items;\n}\nfunction getAxisItems(chart, e, options, useFinalPosition) {\n  const position = getRelativePosition(e, chart);\n  const items = [];\n  const axis = options.axis;\n  const rangeMethod = axis === 'x' ? 'inXRange' : 'inYRange';\n  let intersectsItem = false;\n  evaluateAllVisibleItems(chart, (element, datasetIndex, index) => {\n    if (element[rangeMethod](position[axis], useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n    }\n    if (element.inRange(position.x, position.y, useFinalPosition)) {\n      intersectsItem = true;\n    }\n  });\n  if (options.intersect && !intersectsItem) {\n    return [];\n  }\n  return items;\n}\nvar Interaction = {\n  modes: {\n    index(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'x';\n      const items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition)\n        : getNearestItems(chart, position, axis, false, useFinalPosition);\n      const elements = [];\n      if (!items.length) {\n        return [];\n      }\n      chart.getSortedVisibleDatasetMetas().forEach((meta) => {\n        const index = items[0].index;\n        const element = meta.data[index];\n        if (element && !element.skip) {\n          elements.push({element, datasetIndex: meta.index, index});\n        }\n      });\n      return elements;\n    },\n    dataset(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      let items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition) :\n        getNearestItems(chart, position, axis, false, useFinalPosition);\n      if (items.length > 0) {\n        const datasetIndex = items[0].datasetIndex;\n        const data = chart.getDatasetMeta(datasetIndex).data;\n        items = [];\n        for (let i = 0; i < data.length; ++i) {\n          items.push({element: data[i], datasetIndex, index: i});\n        }\n      }\n      return items;\n    },\n    point(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      return getIntersectItems(chart, position, axis, useFinalPosition);\n    },\n    nearest(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      return getNearestItems(chart, position, axis, options.intersect, useFinalPosition);\n    },\n    x(chart, e, options, useFinalPosition) {\n      options.axis = 'x';\n      return getAxisItems(chart, e, options, useFinalPosition);\n    },\n    y(chart, e, options, useFinalPosition) {\n      options.axis = 'y';\n      return getAxisItems(chart, e, options, useFinalPosition);\n    }\n  }\n};\n\nconst STATIC_POSITIONS = ['left', 'top', 'right', 'bottom'];\nfunction filterByPosition(array, position) {\n  return array.filter(v => v.pos === position);\n}\nfunction filterDynamicPositionByAxis(array, axis) {\n  return array.filter(v => STATIC_POSITIONS.indexOf(v.pos) === -1 && v.box.axis === axis);\n}\nfunction sortByWeight(array, reverse) {\n  return array.sort((a, b) => {\n    const v0 = reverse ? b : a;\n    const v1 = reverse ? a : b;\n    return v0.weight === v1.weight ?\n      v0.index - v1.index :\n      v0.weight - v1.weight;\n  });\n}\nfunction wrapBoxes(boxes) {\n  const layoutBoxes = [];\n  let i, ilen, box;\n  for (i = 0, ilen = (boxes || []).length; i < ilen; ++i) {\n    box = boxes[i];\n    layoutBoxes.push({\n      index: i,\n      box,\n      pos: box.position,\n      horizontal: box.isHorizontal(),\n      weight: box.weight\n    });\n  }\n  return layoutBoxes;\n}\nfunction setLayoutDims(layouts, params) {\n  let i, ilen, layout;\n  for (i = 0, ilen = layouts.length; i < ilen; ++i) {\n    layout = layouts[i];\n    if (layout.horizontal) {\n      layout.width = layout.box.fullSize && params.availableWidth;\n      layout.height = params.hBoxMaxHeight;\n    } else {\n      layout.width = params.vBoxMaxWidth;\n      layout.height = layout.box.fullSize && params.availableHeight;\n    }\n  }\n}\nfunction buildLayoutBoxes(boxes) {\n  const layoutBoxes = wrapBoxes(boxes);\n  const fullSize = sortByWeight(layoutBoxes.filter(wrap => wrap.box.fullSize), true);\n  const left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);\n  const right = sortByWeight(filterByPosition(layoutBoxes, 'right'));\n  const top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);\n  const bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));\n  const centerHorizontal = filterDynamicPositionByAxis(layoutBoxes, 'x');\n  const centerVertical = filterDynamicPositionByAxis(layoutBoxes, 'y');\n  return {\n    fullSize,\n    leftAndTop: left.concat(top),\n    rightAndBottom: right.concat(centerVertical).concat(bottom).concat(centerHorizontal),\n    chartArea: filterByPosition(layoutBoxes, 'chartArea'),\n    vertical: left.concat(right).concat(centerVertical),\n    horizontal: top.concat(bottom).concat(centerHorizontal)\n  };\n}\nfunction getCombinedMax(maxPadding, chartArea, a, b) {\n  return Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);\n}\nfunction updateMaxPadding(maxPadding, boxPadding) {\n  maxPadding.top = Math.max(maxPadding.top, boxPadding.top);\n  maxPadding.left = Math.max(maxPadding.left, boxPadding.left);\n  maxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);\n  maxPadding.right = Math.max(maxPadding.right, boxPadding.right);\n}\nfunction updateDims(chartArea, params, layout) {\n  const box = layout.box;\n  const maxPadding = chartArea.maxPadding;\n  if (!isObject(layout.pos)) {\n    if (layout.size) {\n      chartArea[layout.pos] -= layout.size;\n    }\n    layout.size = layout.horizontal ? box.height : box.width;\n    chartArea[layout.pos] += layout.size;\n  }\n  if (box.getPadding) {\n    updateMaxPadding(maxPadding, box.getPadding());\n  }\n  const newWidth = Math.max(0, params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right'));\n  const newHeight = Math.max(0, params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom'));\n  const widthChanged = newWidth !== chartArea.w;\n  const heightChanged = newHeight !== chartArea.h;\n  chartArea.w = newWidth;\n  chartArea.h = newHeight;\n  return layout.horizontal\n    ? {same: widthChanged, other: heightChanged}\n    : {same: heightChanged, other: widthChanged};\n}\nfunction handleMaxPadding(chartArea) {\n  const maxPadding = chartArea.maxPadding;\n  function updatePos(pos) {\n    const change = Math.max(maxPadding[pos] - chartArea[pos], 0);\n    chartArea[pos] += change;\n    return change;\n  }\n  chartArea.y += updatePos('top');\n  chartArea.x += updatePos('left');\n  updatePos('right');\n  updatePos('bottom');\n}\nfunction getMargins(horizontal, chartArea) {\n  const maxPadding = chartArea.maxPadding;\n  function marginForPositions(positions) {\n    const margin = {left: 0, top: 0, right: 0, bottom: 0};\n    positions.forEach((pos) => {\n      margin[pos] = Math.max(chartArea[pos], maxPadding[pos]);\n    });\n    return margin;\n  }\n  return horizontal\n    ? marginForPositions(['left', 'right'])\n    : marginForPositions(['top', 'bottom']);\n}\nfunction fitBoxes(boxes, chartArea, params) {\n  const refitBoxes = [];\n  let i, ilen, layout, box, refit, changed;\n  for (i = 0, ilen = boxes.length, refit = 0; i < ilen; ++i) {\n    layout = boxes[i];\n    box = layout.box;\n    box.update(\n      layout.width || chartArea.w,\n      layout.height || chartArea.h,\n      getMargins(layout.horizontal, chartArea)\n    );\n    const {same, other} = updateDims(chartArea, params, layout);\n    refit |= same && refitBoxes.length;\n    changed = changed || other;\n    if (!box.fullSize) {\n      refitBoxes.push(layout);\n    }\n  }\n  return refit && fitBoxes(refitBoxes, chartArea, params) || changed;\n}\nfunction placeBoxes(boxes, chartArea, params) {\n  const userPadding = params.padding;\n  let x = chartArea.x;\n  let y = chartArea.y;\n  let i, ilen, layout, box;\n  for (i = 0, ilen = boxes.length; i < ilen; ++i) {\n    layout = boxes[i];\n    box = layout.box;\n    if (layout.horizontal) {\n      box.left = box.fullSize ? userPadding.left : chartArea.left;\n      box.right = box.fullSize ? params.outerWidth - userPadding.right : chartArea.left + chartArea.w;\n      box.top = y;\n      box.bottom = y + box.height;\n      box.width = box.right - box.left;\n      y = box.bottom;\n    } else {\n      box.left = x;\n      box.right = x + box.width;\n      box.top = box.fullSize ? userPadding.top : chartArea.top;\n      box.bottom = box.fullSize ? params.outerHeight - userPadding.right : chartArea.top + chartArea.h;\n      box.height = box.bottom - box.top;\n      x = box.right;\n    }\n  }\n  chartArea.x = x;\n  chartArea.y = y;\n}\ndefaults.set('layout', {\n  padding: {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  }\n});\nvar layouts = {\n  addBox(chart, item) {\n    if (!chart.boxes) {\n      chart.boxes = [];\n    }\n    item.fullSize = item.fullSize || false;\n    item.position = item.position || 'top';\n    item.weight = item.weight || 0;\n    item._layers = item._layers || function() {\n      return [{\n        z: 0,\n        draw(chartArea) {\n          item.draw(chartArea);\n        }\n      }];\n    };\n    chart.boxes.push(item);\n  },\n  removeBox(chart, layoutItem) {\n    const index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;\n    if (index !== -1) {\n      chart.boxes.splice(index, 1);\n    }\n  },\n  configure(chart, item, options) {\n    item.fullSize = options.fullSize;\n    item.position = options.position;\n    item.weight = options.weight;\n  },\n  update(chart, width, height, minPadding) {\n    if (!chart) {\n      return;\n    }\n    const padding = toPadding(chart.options.layout.padding);\n    const availableWidth = width - padding.width;\n    const availableHeight = height - padding.height;\n    const boxes = buildLayoutBoxes(chart.boxes);\n    const verticalBoxes = boxes.vertical;\n    const horizontalBoxes = boxes.horizontal;\n    each(chart.boxes, box => {\n      if (typeof box.beforeLayout === 'function') {\n        box.beforeLayout();\n      }\n    });\n    const visibleVerticalBoxCount = verticalBoxes.reduce((total, wrap) =>\n      wrap.box.options && wrap.box.options.display === false ? total : total + 1, 0) || 1;\n    const params = Object.freeze({\n      outerWidth: width,\n      outerHeight: height,\n      padding,\n      availableWidth,\n      availableHeight,\n      vBoxMaxWidth: availableWidth / 2 / visibleVerticalBoxCount,\n      hBoxMaxHeight: availableHeight / 2\n    });\n    const maxPadding = Object.assign({}, padding);\n    updateMaxPadding(maxPadding, toPadding(minPadding));\n    const chartArea = Object.assign({\n      maxPadding,\n      w: availableWidth,\n      h: availableHeight,\n      x: padding.left,\n      y: padding.top\n    }, padding);\n    setLayoutDims(verticalBoxes.concat(horizontalBoxes), params);\n    fitBoxes(boxes.fullSize, chartArea, params);\n    fitBoxes(verticalBoxes, chartArea, params);\n    if (fitBoxes(horizontalBoxes, chartArea, params)) {\n      fitBoxes(verticalBoxes, chartArea, params);\n    }\n    handleMaxPadding(chartArea);\n    placeBoxes(boxes.leftAndTop, chartArea, params);\n    chartArea.x += chartArea.w;\n    chartArea.y += chartArea.h;\n    placeBoxes(boxes.rightAndBottom, chartArea, params);\n    chart.chartArea = {\n      left: chartArea.left,\n      top: chartArea.top,\n      right: chartArea.left + chartArea.w,\n      bottom: chartArea.top + chartArea.h,\n      height: chartArea.h,\n      width: chartArea.w,\n    };\n    each(boxes.chartArea, (layout) => {\n      const box = layout.box;\n      Object.assign(box, chart.chartArea);\n      box.update(chartArea.w, chartArea.h);\n    });\n  }\n};\n\nclass BasePlatform {\n  acquireContext(canvas, aspectRatio) {}\n  releaseContext(context) {\n    return false;\n  }\n  addEventListener(chart, type, listener) {}\n  removeEventListener(chart, type, listener) {}\n  getDevicePixelRatio() {\n    return 1;\n  }\n  getMaximumSize(element, width, height, aspectRatio) {\n    width = Math.max(0, width || element.width);\n    height = height || element.height;\n    return {\n      width,\n      height: Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height)\n    };\n  }\n  isAttached(canvas) {\n    return true;\n  }\n}\n\nclass BasicPlatform extends BasePlatform {\n  acquireContext(item) {\n    return item && item.getContext && item.getContext('2d') || null;\n  }\n}\n\nconst EXPANDO_KEY = '$chartjs';\nconst EVENT_TYPES = {\n  touchstart: 'mousedown',\n  touchmove: 'mousemove',\n  touchend: 'mouseup',\n  pointerenter: 'mouseenter',\n  pointerdown: 'mousedown',\n  pointermove: 'mousemove',\n  pointerup: 'mouseup',\n  pointerleave: 'mouseout',\n  pointerout: 'mouseout'\n};\nconst isNullOrEmpty = value => value === null || value === '';\nfunction initCanvas(canvas, aspectRatio) {\n  const style = canvas.style;\n  const renderHeight = canvas.getAttribute('height');\n  const renderWidth = canvas.getAttribute('width');\n  canvas[EXPANDO_KEY] = {\n    initial: {\n      height: renderHeight,\n      width: renderWidth,\n      style: {\n        display: style.display,\n        height: style.height,\n        width: style.width\n      }\n    }\n  };\n  style.display = style.display || 'block';\n  style.boxSizing = style.boxSizing || 'border-box';\n  if (isNullOrEmpty(renderWidth)) {\n    const displayWidth = readUsedSize(canvas, 'width');\n    if (displayWidth !== undefined) {\n      canvas.width = displayWidth;\n    }\n  }\n  if (isNullOrEmpty(renderHeight)) {\n    if (canvas.style.height === '') {\n      canvas.height = canvas.width / (aspectRatio || 2);\n    } else {\n      const displayHeight = readUsedSize(canvas, 'height');\n      if (displayHeight !== undefined) {\n        canvas.height = displayHeight;\n      }\n    }\n  }\n  return canvas;\n}\nconst eventListenerOptions = supportsEventListenerOptions ? {passive: true} : false;\nfunction addListener(node, type, listener) {\n  node.addEventListener(type, listener, eventListenerOptions);\n}\nfunction removeListener(chart, type, listener) {\n  chart.canvas.removeEventListener(type, listener, eventListenerOptions);\n}\nfunction fromNativeEvent(event, chart) {\n  const type = EVENT_TYPES[event.type] || event.type;\n  const {x, y} = getRelativePosition$1(event, chart);\n  return {\n    type,\n    chart,\n    native: event,\n    x: x !== undefined ? x : null,\n    y: y !== undefined ? y : null,\n  };\n}\nfunction createAttachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const container = canvas && _getParentNode(canvas);\n  const element = container || canvas;\n  const observer = new MutationObserver(entries => {\n    const parent = _getParentNode(element);\n    entries.forEach(entry => {\n      for (let i = 0; i < entry.addedNodes.length; i++) {\n        const added = entry.addedNodes[i];\n        if (added === element || added === parent) {\n          listener(entry.target);\n        }\n      }\n    });\n  });\n  observer.observe(document, {childList: true, subtree: true});\n  return observer;\n}\nfunction createDetachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const container = canvas && _getParentNode(canvas);\n  if (!container) {\n    return;\n  }\n  const observer = new MutationObserver(entries => {\n    entries.forEach(entry => {\n      for (let i = 0; i < entry.removedNodes.length; i++) {\n        if (entry.removedNodes[i] === canvas) {\n          listener();\n          break;\n        }\n      }\n    });\n  });\n  observer.observe(container, {childList: true});\n  return observer;\n}\nconst drpListeningCharts = new Map();\nlet oldDevicePixelRatio = 0;\nfunction onWindowResize() {\n  const dpr = window.devicePixelRatio;\n  if (dpr === oldDevicePixelRatio) {\n    return;\n  }\n  oldDevicePixelRatio = dpr;\n  drpListeningCharts.forEach((resize, chart) => {\n    if (chart.currentDevicePixelRatio !== dpr) {\n      resize();\n    }\n  });\n}\nfunction listenDevicePixelRatioChanges(chart, resize) {\n  if (!drpListeningCharts.size) {\n    window.addEventListener('resize', onWindowResize);\n  }\n  drpListeningCharts.set(chart, resize);\n}\nfunction unlistenDevicePixelRatioChanges(chart) {\n  drpListeningCharts.delete(chart);\n  if (!drpListeningCharts.size) {\n    window.removeEventListener('resize', onWindowResize);\n  }\n}\nfunction createResizeObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const container = canvas && _getParentNode(canvas);\n  if (!container) {\n    return;\n  }\n  const resize = throttled((width, height) => {\n    const w = container.clientWidth;\n    listener(width, height);\n    if (w < container.clientWidth) {\n      listener();\n    }\n  }, window);\n  const observer = new ResizeObserver(entries => {\n    const entry = entries[0];\n    const width = entry.contentRect.width;\n    const height = entry.contentRect.height;\n    if (width === 0 && height === 0) {\n      return;\n    }\n    resize(width, height);\n  });\n  observer.observe(container);\n  listenDevicePixelRatioChanges(chart, resize);\n  return observer;\n}\nfunction releaseObserver(chart, type, observer) {\n  if (observer) {\n    observer.disconnect();\n  }\n  if (type === 'resize') {\n    unlistenDevicePixelRatioChanges(chart);\n  }\n}\nfunction createProxyAndListen(chart, type, listener) {\n  const canvas = chart.canvas;\n  const proxy = throttled((event) => {\n    if (chart.ctx !== null) {\n      listener(fromNativeEvent(event, chart));\n    }\n  }, chart, (args) => {\n    const event = args[0];\n    return [event, event.offsetX, event.offsetY];\n  });\n  addListener(canvas, type, proxy);\n  return proxy;\n}\nclass DomPlatform extends BasePlatform {\n  acquireContext(canvas, aspectRatio) {\n    const context = canvas && canvas.getContext && canvas.getContext('2d');\n    if (context && context.canvas === canvas) {\n      initCanvas(canvas, aspectRatio);\n      return context;\n    }\n    return null;\n  }\n  releaseContext(context) {\n    const canvas = context.canvas;\n    if (!canvas[EXPANDO_KEY]) {\n      return false;\n    }\n    const initial = canvas[EXPANDO_KEY].initial;\n    ['height', 'width'].forEach((prop) => {\n      const value = initial[prop];\n      if (isNullOrUndef(value)) {\n        canvas.removeAttribute(prop);\n      } else {\n        canvas.setAttribute(prop, value);\n      }\n    });\n    const style = initial.style || {};\n    Object.keys(style).forEach((key) => {\n      canvas.style[key] = style[key];\n    });\n    canvas.width = canvas.width;\n    delete canvas[EXPANDO_KEY];\n    return true;\n  }\n  addEventListener(chart, type, listener) {\n    this.removeEventListener(chart, type);\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const handlers = {\n      attach: createAttachObserver,\n      detach: createDetachObserver,\n      resize: createResizeObserver\n    };\n    const handler = handlers[type] || createProxyAndListen;\n    proxies[type] = handler(chart, type, listener);\n  }\n  removeEventListener(chart, type) {\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const proxy = proxies[type];\n    if (!proxy) {\n      return;\n    }\n    const handlers = {\n      attach: releaseObserver,\n      detach: releaseObserver,\n      resize: releaseObserver\n    };\n    const handler = handlers[type] || removeListener;\n    handler(chart, type, proxy);\n    proxies[type] = undefined;\n  }\n  getDevicePixelRatio() {\n    return window.devicePixelRatio;\n  }\n  getMaximumSize(canvas, width, height, aspectRatio) {\n    return getMaximumSize(canvas, width, height, aspectRatio);\n  }\n  isAttached(canvas) {\n    const container = _getParentNode(canvas);\n    return !!(container && _getParentNode(container));\n  }\n}\n\nclass Element {\n  constructor() {\n    this.x = undefined;\n    this.y = undefined;\n    this.active = false;\n    this.options = undefined;\n    this.$animations = undefined;\n  }\n  tooltipPosition(useFinalPosition) {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y};\n  }\n  hasValue() {\n    return isNumber(this.x) && isNumber(this.y);\n  }\n  getProps(props, final) {\n    const me = this;\n    const anims = this.$animations;\n    if (!final || !anims) {\n      return me;\n    }\n    const ret = {};\n    props.forEach(prop => {\n      ret[prop] = anims[prop] && anims[prop].active() ? anims[prop]._to : me[prop];\n    });\n    return ret;\n  }\n}\nElement.defaults = {};\nElement.defaultRoutes = undefined;\n\nconst formatters = {\n  values(value) {\n    return isArray(value) ? value : '' + value;\n  },\n  numeric(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n    const locale = this.chart.options.locale;\n    let notation;\n    let delta = tickValue;\n    if (ticks.length > 1) {\n      const maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));\n      if (maxTick < 1e-4 || maxTick > 1e+15) {\n        notation = 'scientific';\n      }\n      delta = calculateDelta(tickValue, ticks);\n    }\n    const logDelta = log10(Math.abs(delta));\n    const numDecimal = Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);\n    const options = {notation, minimumFractionDigits: numDecimal, maximumFractionDigits: numDecimal};\n    Object.assign(options, this.options.ticks.format);\n    return formatNumber(tickValue, locale, options);\n  },\n  logarithmic(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n    const remain = tickValue / (Math.pow(10, Math.floor(log10(tickValue))));\n    if (remain === 1 || remain === 2 || remain === 5) {\n      return formatters.numeric.call(this, tickValue, index, ticks);\n    }\n    return '';\n  }\n};\nfunction calculateDelta(tickValue, ticks) {\n  let delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;\n  if (Math.abs(delta) > 1 && tickValue !== Math.floor(tickValue)) {\n    delta = tickValue - Math.floor(tickValue);\n  }\n  return delta;\n}\nvar Ticks = {formatters};\n\ndefaults.set('scale', {\n  display: true,\n  offset: false,\n  reverse: false,\n  beginAtZero: false,\n  bounds: 'ticks',\n  grace: 0,\n  grid: {\n    display: true,\n    lineWidth: 1,\n    drawBorder: true,\n    drawOnChartArea: true,\n    drawTicks: true,\n    tickLength: 8,\n    tickWidth: (_ctx, options) => options.lineWidth,\n    tickColor: (_ctx, options) => options.color,\n    offset: false,\n    borderDash: [],\n    borderDashOffset: 0.0,\n    borderWidth: 1\n  },\n  title: {\n    display: false,\n    text: '',\n    padding: {\n      top: 4,\n      bottom: 4\n    }\n  },\n  ticks: {\n    minRotation: 0,\n    maxRotation: 50,\n    mirror: false,\n    textStrokeWidth: 0,\n    textStrokeColor: '',\n    padding: 3,\n    display: true,\n    autoSkip: true,\n    autoSkipPadding: 3,\n    labelOffset: 0,\n    callback: Ticks.formatters.values,\n    minor: {},\n    major: {},\n    align: 'center',\n    crossAlign: 'near',\n    showLabelBackdrop: false,\n    backdropColor: 'rgba(255, 255, 255, 0.75)',\n    backdropPadding: 2,\n  }\n});\ndefaults.route('scale.ticks', 'color', '', 'color');\ndefaults.route('scale.grid', 'color', '', 'borderColor');\ndefaults.route('scale.grid', 'borderColor', '', 'borderColor');\ndefaults.route('scale.title', 'color', '', 'color');\ndefaults.describe('scale', {\n  _fallback: false,\n  _scriptable: (name) => !name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser',\n  _indexable: (name) => name !== 'borderDash' && name !== 'tickBorderDash',\n});\ndefaults.describe('scales', {\n  _fallback: 'scale',\n});\n\nfunction autoSkip(scale, ticks) {\n  const tickOpts = scale.options.ticks;\n  const ticksLimit = tickOpts.maxTicksLimit || determineMaxTicks(scale);\n  const majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];\n  const numMajorIndices = majorIndices.length;\n  const first = majorIndices[0];\n  const last = majorIndices[numMajorIndices - 1];\n  const newTicks = [];\n  if (numMajorIndices > ticksLimit) {\n    skipMajors(ticks, newTicks, majorIndices, numMajorIndices / ticksLimit);\n    return newTicks;\n  }\n  const spacing = calculateSpacing(majorIndices, ticks, ticksLimit);\n  if (numMajorIndices > 0) {\n    let i, ilen;\n    const avgMajorSpacing = numMajorIndices > 1 ? Math.round((last - first) / (numMajorIndices - 1)) : null;\n    skip(ticks, newTicks, spacing, isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);\n    for (i = 0, ilen = numMajorIndices - 1; i < ilen; i++) {\n      skip(ticks, newTicks, spacing, majorIndices[i], majorIndices[i + 1]);\n    }\n    skip(ticks, newTicks, spacing, last, isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);\n    return newTicks;\n  }\n  skip(ticks, newTicks, spacing);\n  return newTicks;\n}\nfunction determineMaxTicks(scale) {\n  const offset = scale.options.offset;\n  const tickLength = scale._tickSize();\n  const maxScale = scale._length / tickLength + (offset ? 0 : 1);\n  const maxChart = scale._maxLength / tickLength;\n  return Math.floor(Math.min(maxScale, maxChart));\n}\nfunction calculateSpacing(majorIndices, ticks, ticksLimit) {\n  const evenMajorSpacing = getEvenSpacing(majorIndices);\n  const spacing = ticks.length / ticksLimit;\n  if (!evenMajorSpacing) {\n    return Math.max(spacing, 1);\n  }\n  const factors = _factorize(evenMajorSpacing);\n  for (let i = 0, ilen = factors.length - 1; i < ilen; i++) {\n    const factor = factors[i];\n    if (factor > spacing) {\n      return factor;\n    }\n  }\n  return Math.max(spacing, 1);\n}\nfunction getMajorIndices(ticks) {\n  const result = [];\n  let i, ilen;\n  for (i = 0, ilen = ticks.length; i < ilen; i++) {\n    if (ticks[i].major) {\n      result.push(i);\n    }\n  }\n  return result;\n}\nfunction skipMajors(ticks, newTicks, majorIndices, spacing) {\n  let count = 0;\n  let next = majorIndices[0];\n  let i;\n  spacing = Math.ceil(spacing);\n  for (i = 0; i < ticks.length; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = majorIndices[count * spacing];\n    }\n  }\n}\nfunction skip(ticks, newTicks, spacing, majorStart, majorEnd) {\n  const start = valueOrDefault(majorStart, 0);\n  const end = Math.min(valueOrDefault(majorEnd, ticks.length), ticks.length);\n  let count = 0;\n  let length, i, next;\n  spacing = Math.ceil(spacing);\n  if (majorEnd) {\n    length = majorEnd - majorStart;\n    spacing = length / Math.floor(length / spacing);\n  }\n  next = start;\n  while (next < 0) {\n    count++;\n    next = Math.round(start + count * spacing);\n  }\n  for (i = Math.max(start, 0); i < end; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = Math.round(start + count * spacing);\n    }\n  }\n}\nfunction getEvenSpacing(arr) {\n  const len = arr.length;\n  let i, diff;\n  if (len < 2) {\n    return false;\n  }\n  for (diff = arr[0], i = 1; i < len; ++i) {\n    if (arr[i] - arr[i - 1] !== diff) {\n      return false;\n    }\n  }\n  return diff;\n}\n\nconst reverseAlign = (align) => align === 'left' ? 'right' : align === 'right' ? 'left' : align;\nconst offsetFromEdge = (scale, edge, offset) => edge === 'top' || edge === 'left' ? scale[edge] + offset : scale[edge] - offset;\nfunction sample(arr, numItems) {\n  const result = [];\n  const increment = arr.length / numItems;\n  const len = arr.length;\n  let i = 0;\n  for (; i < len; i += increment) {\n    result.push(arr[Math.floor(i)]);\n  }\n  return result;\n}\nfunction getPixelForGridLine(scale, index, offsetGridLines) {\n  const length = scale.ticks.length;\n  const validIndex = Math.min(index, length - 1);\n  const start = scale._startPixel;\n  const end = scale._endPixel;\n  const epsilon = 1e-6;\n  let lineValue = scale.getPixelForTick(validIndex);\n  let offset;\n  if (offsetGridLines) {\n    if (length === 1) {\n      offset = Math.max(lineValue - start, end - lineValue);\n    } else if (index === 0) {\n      offset = (scale.getPixelForTick(1) - lineValue) / 2;\n    } else {\n      offset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;\n    }\n    lineValue += validIndex < index ? offset : -offset;\n    if (lineValue < start - epsilon || lineValue > end + epsilon) {\n      return;\n    }\n  }\n  return lineValue;\n}\nfunction garbageCollect(caches, length) {\n  each(caches, (cache) => {\n    const gc = cache.gc;\n    const gcLen = gc.length / 2;\n    let i;\n    if (gcLen > length) {\n      for (i = 0; i < gcLen; ++i) {\n        delete cache.data[gc[i]];\n      }\n      gc.splice(0, gcLen);\n    }\n  });\n}\nfunction getTickMarkLength(options) {\n  return options.drawTicks ? options.tickLength : 0;\n}\nfunction getTitleHeight(options, fallback) {\n  if (!options.display) {\n    return 0;\n  }\n  const font = toFont(options.font, fallback);\n  const padding = toPadding(options.padding);\n  const lines = isArray(options.text) ? options.text.length : 1;\n  return (lines * font.lineHeight) + padding.height;\n}\nfunction createScaleContext(parent, scale) {\n  return Object.assign(Object.create(parent), {\n    scale,\n    type: 'scale'\n  });\n}\nfunction createTickContext(parent, index, tick) {\n  return Object.assign(Object.create(parent), {\n    tick,\n    index,\n    type: 'tick'\n  });\n}\nfunction titleAlign(align, position, reverse) {\n  let ret = _toLeftRightCenter(align);\n  if ((reverse && position !== 'right') || (!reverse && position === 'right')) {\n    ret = reverseAlign(ret);\n  }\n  return ret;\n}\nfunction titleArgs(scale, offset, position, align) {\n  const {top, left, bottom, right} = scale;\n  let rotation = 0;\n  let maxWidth, titleX, titleY;\n  if (scale.isHorizontal()) {\n    titleX = _alignStartEnd(align, left, right);\n    titleY = offsetFromEdge(scale, position, offset);\n    maxWidth = right - left;\n  } else {\n    titleX = offsetFromEdge(scale, position, offset);\n    titleY = _alignStartEnd(align, bottom, top);\n    rotation = position === 'left' ? -HALF_PI : HALF_PI;\n  }\n  return {titleX, titleY, maxWidth, rotation};\n}\nclass Scale extends Element {\n  constructor(cfg) {\n    super();\n    this.id = cfg.id;\n    this.type = cfg.type;\n    this.options = undefined;\n    this.ctx = cfg.ctx;\n    this.chart = cfg.chart;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this._margins = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    };\n    this.maxWidth = undefined;\n    this.maxHeight = undefined;\n    this.paddingTop = undefined;\n    this.paddingBottom = undefined;\n    this.paddingLeft = undefined;\n    this.paddingRight = undefined;\n    this.axis = undefined;\n    this.labelRotation = undefined;\n    this.min = undefined;\n    this.max = undefined;\n    this._range = undefined;\n    this.ticks = [];\n    this._gridLineItems = null;\n    this._labelItems = null;\n    this._labelSizes = null;\n    this._length = 0;\n    this._maxLength = 0;\n    this._longestTextCache = {};\n    this._startPixel = undefined;\n    this._endPixel = undefined;\n    this._reversePixels = false;\n    this._userMax = undefined;\n    this._userMin = undefined;\n    this._suggestedMax = undefined;\n    this._suggestedMin = undefined;\n    this._ticksLength = 0;\n    this._borderValue = 0;\n    this._cache = {};\n    this._dataLimitsCached = false;\n    this.$context = undefined;\n  }\n  init(options) {\n    const me = this;\n    me.options = options.setContext(me.getContext());\n    me.axis = options.axis;\n    me._userMin = me.parse(options.min);\n    me._userMax = me.parse(options.max);\n    me._suggestedMin = me.parse(options.suggestedMin);\n    me._suggestedMax = me.parse(options.suggestedMax);\n  }\n  parse(raw, index) {\n    return raw;\n  }\n  getUserBounds() {\n    let {_userMin, _userMax, _suggestedMin, _suggestedMax} = this;\n    _userMin = finiteOrDefault(_userMin, Number.POSITIVE_INFINITY);\n    _userMax = finiteOrDefault(_userMax, Number.NEGATIVE_INFINITY);\n    _suggestedMin = finiteOrDefault(_suggestedMin, Number.POSITIVE_INFINITY);\n    _suggestedMax = finiteOrDefault(_suggestedMax, Number.NEGATIVE_INFINITY);\n    return {\n      min: finiteOrDefault(_userMin, _suggestedMin),\n      max: finiteOrDefault(_userMax, _suggestedMax),\n      minDefined: isNumberFinite(_userMin),\n      maxDefined: isNumberFinite(_userMax)\n    };\n  }\n  getMinMax(canStack) {\n    const me = this;\n    let {min, max, minDefined, maxDefined} = me.getUserBounds();\n    let range;\n    if (minDefined && maxDefined) {\n      return {min, max};\n    }\n    const metas = me.getMatchingVisibleMetas();\n    for (let i = 0, ilen = metas.length; i < ilen; ++i) {\n      range = metas[i].controller.getMinMax(me, canStack);\n      if (!minDefined) {\n        min = Math.min(min, range.min);\n      }\n      if (!maxDefined) {\n        max = Math.max(max, range.max);\n      }\n    }\n    return {\n      min: finiteOrDefault(min, finiteOrDefault(max, min)),\n      max: finiteOrDefault(max, finiteOrDefault(min, max))\n    };\n  }\n  getPadding() {\n    const me = this;\n    return {\n      left: me.paddingLeft || 0,\n      top: me.paddingTop || 0,\n      right: me.paddingRight || 0,\n      bottom: me.paddingBottom || 0\n    };\n  }\n  getTicks() {\n    return this.ticks;\n  }\n  getLabels() {\n    const data = this.chart.data;\n    return this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];\n  }\n  beforeLayout() {\n    this._cache = {};\n    this._dataLimitsCached = false;\n  }\n  beforeUpdate() {\n    callback(this.options.beforeUpdate, [this]);\n  }\n  update(maxWidth, maxHeight, margins) {\n    const me = this;\n    const tickOpts = me.options.ticks;\n    const sampleSize = tickOpts.sampleSize;\n    me.beforeUpdate();\n    me.maxWidth = maxWidth;\n    me.maxHeight = maxHeight;\n    me._margins = margins = Object.assign({\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    }, margins);\n    me.ticks = null;\n    me._labelSizes = null;\n    me._gridLineItems = null;\n    me._labelItems = null;\n    me.beforeSetDimensions();\n    me.setDimensions();\n    me.afterSetDimensions();\n    me._maxLength = me.isHorizontal()\n      ? me.width + margins.left + margins.right\n      : me.height + margins.top + margins.bottom;\n    if (!me._dataLimitsCached) {\n      me.beforeDataLimits();\n      me.determineDataLimits();\n      me.afterDataLimits();\n      me._range = _addGrace(me, me.options.grace);\n      me._dataLimitsCached = true;\n    }\n    me.beforeBuildTicks();\n    me.ticks = me.buildTicks() || [];\n    me.afterBuildTicks();\n    const samplingEnabled = sampleSize < me.ticks.length;\n    me._convertTicksToLabels(samplingEnabled ? sample(me.ticks, sampleSize) : me.ticks);\n    me.configure();\n    me.beforeCalculateLabelRotation();\n    me.calculateLabelRotation();\n    me.afterCalculateLabelRotation();\n    if (tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto')) {\n      me.ticks = autoSkip(me, me.ticks);\n      me._labelSizes = null;\n    }\n    if (samplingEnabled) {\n      me._convertTicksToLabels(me.ticks);\n    }\n    me.beforeFit();\n    me.fit();\n    me.afterFit();\n    me.afterUpdate();\n  }\n  configure() {\n    const me = this;\n    let reversePixels = me.options.reverse;\n    let startPixel, endPixel;\n    if (me.isHorizontal()) {\n      startPixel = me.left;\n      endPixel = me.right;\n    } else {\n      startPixel = me.top;\n      endPixel = me.bottom;\n      reversePixels = !reversePixels;\n    }\n    me._startPixel = startPixel;\n    me._endPixel = endPixel;\n    me._reversePixels = reversePixels;\n    me._length = endPixel - startPixel;\n    me._alignToPixels = me.options.alignToPixels;\n  }\n  afterUpdate() {\n    callback(this.options.afterUpdate, [this]);\n  }\n  beforeSetDimensions() {\n    callback(this.options.beforeSetDimensions, [this]);\n  }\n  setDimensions() {\n    const me = this;\n    if (me.isHorizontal()) {\n      me.width = me.maxWidth;\n      me.left = 0;\n      me.right = me.width;\n    } else {\n      me.height = me.maxHeight;\n      me.top = 0;\n      me.bottom = me.height;\n    }\n    me.paddingLeft = 0;\n    me.paddingTop = 0;\n    me.paddingRight = 0;\n    me.paddingBottom = 0;\n  }\n  afterSetDimensions() {\n    callback(this.options.afterSetDimensions, [this]);\n  }\n  _callHooks(name) {\n    const me = this;\n    me.chart.notifyPlugins(name, me.getContext());\n    callback(me.options[name], [me]);\n  }\n  beforeDataLimits() {\n    this._callHooks('beforeDataLimits');\n  }\n  determineDataLimits() {}\n  afterDataLimits() {\n    this._callHooks('afterDataLimits');\n  }\n  beforeBuildTicks() {\n    this._callHooks('beforeBuildTicks');\n  }\n  buildTicks() {\n    return [];\n  }\n  afterBuildTicks() {\n    this._callHooks('afterBuildTicks');\n  }\n  beforeTickToLabelConversion() {\n    callback(this.options.beforeTickToLabelConversion, [this]);\n  }\n  generateTickLabels(ticks) {\n    const me = this;\n    const tickOpts = me.options.ticks;\n    let i, ilen, tick;\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\n      tick = ticks[i];\n      tick.label = callback(tickOpts.callback, [tick.value, i, ticks], me);\n    }\n    for (i = 0; i < ilen; i++) {\n      if (isNullOrUndef(ticks[i].label)) {\n        ticks.splice(i, 1);\n        ilen--;\n        i--;\n      }\n    }\n  }\n  afterTickToLabelConversion() {\n    callback(this.options.afterTickToLabelConversion, [this]);\n  }\n  beforeCalculateLabelRotation() {\n    callback(this.options.beforeCalculateLabelRotation, [this]);\n  }\n  calculateLabelRotation() {\n    const me = this;\n    const options = me.options;\n    const tickOpts = options.ticks;\n    const numTicks = me.ticks.length;\n    const minRotation = tickOpts.minRotation || 0;\n    const maxRotation = tickOpts.maxRotation;\n    let labelRotation = minRotation;\n    let tickWidth, maxHeight, maxLabelDiagonal;\n    if (!me._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !me.isHorizontal()) {\n      me.labelRotation = minRotation;\n      return;\n    }\n    const labelSizes = me._getLabelSizes();\n    const maxLabelWidth = labelSizes.widest.width;\n    const maxLabelHeight = labelSizes.highest.height;\n    const maxWidth = _limitValue(me.chart.width - maxLabelWidth, 0, me.maxWidth);\n    tickWidth = options.offset ? me.maxWidth / numTicks : maxWidth / (numTicks - 1);\n    if (maxLabelWidth + 6 > tickWidth) {\n      tickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));\n      maxHeight = me.maxHeight - getTickMarkLength(options.grid)\n\t\t\t\t- tickOpts.padding - getTitleHeight(options.title, me.chart.options.font);\n      maxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);\n      labelRotation = toDegrees(Math.min(\n        Math.asin(Math.min((labelSizes.highest.height + 6) / tickWidth, 1)),\n        Math.asin(Math.min(maxHeight / maxLabelDiagonal, 1)) - Math.asin(maxLabelHeight / maxLabelDiagonal)\n      ));\n      labelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));\n    }\n    me.labelRotation = labelRotation;\n  }\n  afterCalculateLabelRotation() {\n    callback(this.options.afterCalculateLabelRotation, [this]);\n  }\n  beforeFit() {\n    callback(this.options.beforeFit, [this]);\n  }\n  fit() {\n    const me = this;\n    const minSize = {\n      width: 0,\n      height: 0\n    };\n    const {chart, options: {ticks: tickOpts, title: titleOpts, grid: gridOpts}} = me;\n    const display = me._isVisible();\n    const isHorizontal = me.isHorizontal();\n    if (display) {\n      const titleHeight = getTitleHeight(titleOpts, chart.options.font);\n      if (isHorizontal) {\n        minSize.width = me.maxWidth;\n        minSize.height = getTickMarkLength(gridOpts) + titleHeight;\n      } else {\n        minSize.height = me.maxHeight;\n        minSize.width = getTickMarkLength(gridOpts) + titleHeight;\n      }\n      if (tickOpts.display && me.ticks.length) {\n        const {first, last, widest, highest} = me._getLabelSizes();\n        const tickPadding = tickOpts.padding * 2;\n        const angleRadians = toRadians(me.labelRotation);\n        const cos = Math.cos(angleRadians);\n        const sin = Math.sin(angleRadians);\n        if (isHorizontal) {\n          const labelHeight = tickOpts.mirror ? 0 : sin * widest.width + cos * highest.height;\n          minSize.height = Math.min(me.maxHeight, minSize.height + labelHeight + tickPadding);\n        } else {\n          const labelWidth = tickOpts.mirror ? 0 : cos * widest.width + sin * highest.height;\n          minSize.width = Math.min(me.maxWidth, minSize.width + labelWidth + tickPadding);\n        }\n        me._calculatePadding(first, last, sin, cos);\n      }\n    }\n    me._handleMargins();\n    if (isHorizontal) {\n      me.width = me._length = chart.width - me._margins.left - me._margins.right;\n      me.height = minSize.height;\n    } else {\n      me.width = minSize.width;\n      me.height = me._length = chart.height - me._margins.top - me._margins.bottom;\n    }\n  }\n  _calculatePadding(first, last, sin, cos) {\n    const me = this;\n    const {ticks: {align, padding}, position} = me.options;\n    const isRotated = me.labelRotation !== 0;\n    const labelsBelowTicks = position !== 'top' && me.axis === 'x';\n    if (me.isHorizontal()) {\n      const offsetLeft = me.getPixelForTick(0) - me.left;\n      const offsetRight = me.right - me.getPixelForTick(me.ticks.length - 1);\n      let paddingLeft = 0;\n      let paddingRight = 0;\n      if (isRotated) {\n        if (labelsBelowTicks) {\n          paddingLeft = cos * first.width;\n          paddingRight = sin * last.height;\n        } else {\n          paddingLeft = sin * first.height;\n          paddingRight = cos * last.width;\n        }\n      } else if (align === 'start') {\n        paddingRight = last.width;\n      } else if (align === 'end') {\n        paddingLeft = first.width;\n      } else {\n        paddingLeft = first.width / 2;\n        paddingRight = last.width / 2;\n      }\n      me.paddingLeft = Math.max((paddingLeft - offsetLeft + padding) * me.width / (me.width - offsetLeft), 0);\n      me.paddingRight = Math.max((paddingRight - offsetRight + padding) * me.width / (me.width - offsetRight), 0);\n    } else {\n      let paddingTop = last.height / 2;\n      let paddingBottom = first.height / 2;\n      if (align === 'start') {\n        paddingTop = 0;\n        paddingBottom = first.height;\n      } else if (align === 'end') {\n        paddingTop = last.height;\n        paddingBottom = 0;\n      }\n      me.paddingTop = paddingTop + padding;\n      me.paddingBottom = paddingBottom + padding;\n    }\n  }\n  _handleMargins() {\n    const me = this;\n    if (me._margins) {\n      me._margins.left = Math.max(me.paddingLeft, me._margins.left);\n      me._margins.top = Math.max(me.paddingTop, me._margins.top);\n      me._margins.right = Math.max(me.paddingRight, me._margins.right);\n      me._margins.bottom = Math.max(me.paddingBottom, me._margins.bottom);\n    }\n  }\n  afterFit() {\n    callback(this.options.afterFit, [this]);\n  }\n  isHorizontal() {\n    const {axis, position} = this.options;\n    return position === 'top' || position === 'bottom' || axis === 'x';\n  }\n  isFullSize() {\n    return this.options.fullSize;\n  }\n  _convertTicksToLabels(ticks) {\n    const me = this;\n    me.beforeTickToLabelConversion();\n    me.generateTickLabels(ticks);\n    me.afterTickToLabelConversion();\n  }\n  _getLabelSizes() {\n    const me = this;\n    let labelSizes = me._labelSizes;\n    if (!labelSizes) {\n      const sampleSize = me.options.ticks.sampleSize;\n      let ticks = me.ticks;\n      if (sampleSize < ticks.length) {\n        ticks = sample(ticks, sampleSize);\n      }\n      me._labelSizes = labelSizes = me._computeLabelSizes(ticks, ticks.length);\n    }\n    return labelSizes;\n  }\n  _computeLabelSizes(ticks, length) {\n    const {ctx, _longestTextCache: caches} = this;\n    const widths = [];\n    const heights = [];\n    let widestLabelSize = 0;\n    let highestLabelSize = 0;\n    let i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel;\n    for (i = 0; i < length; ++i) {\n      label = ticks[i].label;\n      tickFont = this._resolveTickFontOptions(i);\n      ctx.font = fontString = tickFont.string;\n      cache = caches[fontString] = caches[fontString] || {data: {}, gc: []};\n      lineHeight = tickFont.lineHeight;\n      width = height = 0;\n      if (!isNullOrUndef(label) && !isArray(label)) {\n        width = _measureText(ctx, cache.data, cache.gc, width, label);\n        height = lineHeight;\n      } else if (isArray(label)) {\n        for (j = 0, jlen = label.length; j < jlen; ++j) {\n          nestedLabel = label[j];\n          if (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {\n            width = _measureText(ctx, cache.data, cache.gc, width, nestedLabel);\n            height += lineHeight;\n          }\n        }\n      }\n      widths.push(width);\n      heights.push(height);\n      widestLabelSize = Math.max(width, widestLabelSize);\n      highestLabelSize = Math.max(height, highestLabelSize);\n    }\n    garbageCollect(caches, length);\n    const widest = widths.indexOf(widestLabelSize);\n    const highest = heights.indexOf(highestLabelSize);\n    const valueAt = (idx) => ({width: widths[idx] || 0, height: heights[idx] || 0});\n    return {\n      first: valueAt(0),\n      last: valueAt(length - 1),\n      widest: valueAt(widest),\n      highest: valueAt(highest),\n      widths,\n      heights,\n    };\n  }\n  getLabelForValue(value) {\n    return value;\n  }\n  getPixelForValue(value, index) {\n    return NaN;\n  }\n  getValueForPixel(pixel) {}\n  getPixelForTick(index) {\n    const ticks = this.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return this.getPixelForValue(ticks[index].value);\n  }\n  getPixelForDecimal(decimal) {\n    const me = this;\n    if (me._reversePixels) {\n      decimal = 1 - decimal;\n    }\n    const pixel = me._startPixel + decimal * me._length;\n    return _int16Range(me._alignToPixels ? _alignPixel(me.chart, pixel, 0) : pixel);\n  }\n  getDecimalForPixel(pixel) {\n    const decimal = (pixel - this._startPixel) / this._length;\n    return this._reversePixels ? 1 - decimal : decimal;\n  }\n  getBasePixel() {\n    return this.getPixelForValue(this.getBaseValue());\n  }\n  getBaseValue() {\n    const {min, max} = this;\n    return min < 0 && max < 0 ? max :\n      min > 0 && max > 0 ? min :\n      0;\n  }\n  getContext(index) {\n    const me = this;\n    const ticks = me.ticks || [];\n    if (index >= 0 && index < ticks.length) {\n      const tick = ticks[index];\n      return tick.$context ||\n\t\t\t\t(tick.$context = createTickContext(me.getContext(), index, tick));\n    }\n    return me.$context ||\n\t\t\t(me.$context = createScaleContext(me.chart.getContext(), me));\n  }\n  _tickSize() {\n    const me = this;\n    const optionTicks = me.options.ticks;\n    const rot = toRadians(me.labelRotation);\n    const cos = Math.abs(Math.cos(rot));\n    const sin = Math.abs(Math.sin(rot));\n    const labelSizes = me._getLabelSizes();\n    const padding = optionTicks.autoSkipPadding || 0;\n    const w = labelSizes ? labelSizes.widest.width + padding : 0;\n    const h = labelSizes ? labelSizes.highest.height + padding : 0;\n    return me.isHorizontal()\n      ? h * cos > w * sin ? w / cos : h / sin\n      : h * sin < w * cos ? h / cos : w / sin;\n  }\n  _isVisible() {\n    const display = this.options.display;\n    if (display !== 'auto') {\n      return !!display;\n    }\n    return this.getMatchingVisibleMetas().length > 0;\n  }\n  _computeGridLineItems(chartArea) {\n    const me = this;\n    const axis = me.axis;\n    const chart = me.chart;\n    const options = me.options;\n    const {grid, position} = options;\n    const offset = grid.offset;\n    const isHorizontal = me.isHorizontal();\n    const ticks = me.ticks;\n    const ticksLength = ticks.length + (offset ? 1 : 0);\n    const tl = getTickMarkLength(grid);\n    const items = [];\n    const borderOpts = grid.setContext(me.getContext());\n    const axisWidth = borderOpts.drawBorder ? borderOpts.borderWidth : 0;\n    const axisHalfWidth = axisWidth / 2;\n    const alignBorderValue = function(pixel) {\n      return _alignPixel(chart, pixel, axisWidth);\n    };\n    let borderValue, i, lineValue, alignedLineValue;\n    let tx1, ty1, tx2, ty2, x1, y1, x2, y2;\n    if (position === 'top') {\n      borderValue = alignBorderValue(me.bottom);\n      ty1 = me.bottom - tl;\n      ty2 = borderValue - axisHalfWidth;\n      y1 = alignBorderValue(chartArea.top) + axisHalfWidth;\n      y2 = chartArea.bottom;\n    } else if (position === 'bottom') {\n      borderValue = alignBorderValue(me.top);\n      y1 = chartArea.top;\n      y2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = me.top + tl;\n    } else if (position === 'left') {\n      borderValue = alignBorderValue(me.right);\n      tx1 = me.right - tl;\n      tx2 = borderValue - axisHalfWidth;\n      x1 = alignBorderValue(chartArea.left) + axisHalfWidth;\n      x2 = chartArea.right;\n    } else if (position === 'right') {\n      borderValue = alignBorderValue(me.left);\n      x1 = chartArea.left;\n      x2 = alignBorderValue(chartArea.right) - axisHalfWidth;\n      tx1 = borderValue + axisHalfWidth;\n      tx2 = me.left + tl;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.top + chartArea.bottom) / 2 + 0.5);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(me.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n      y1 = chartArea.top;\n      y2 = chartArea.bottom;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = ty1 + tl;\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.left + chartArea.right) / 2);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(me.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n      tx1 = borderValue - axisHalfWidth;\n      tx2 = tx1 - tl;\n      x1 = chartArea.left;\n      x2 = chartArea.right;\n    }\n    for (i = 0; i < ticksLength; ++i) {\n      const optsAtIndex = grid.setContext(me.getContext(i));\n      const lineWidth = optsAtIndex.lineWidth;\n      const lineColor = optsAtIndex.color;\n      const borderDash = grid.borderDash || [];\n      const borderDashOffset = optsAtIndex.borderDashOffset;\n      const tickWidth = optsAtIndex.tickWidth;\n      const tickColor = optsAtIndex.tickColor;\n      const tickBorderDash = optsAtIndex.tickBorderDash || [];\n      const tickBorderDashOffset = optsAtIndex.tickBorderDashOffset;\n      lineValue = getPixelForGridLine(me, i, offset);\n      if (lineValue === undefined) {\n        continue;\n      }\n      alignedLineValue = _alignPixel(chart, lineValue, lineWidth);\n      if (isHorizontal) {\n        tx1 = tx2 = x1 = x2 = alignedLineValue;\n      } else {\n        ty1 = ty2 = y1 = y2 = alignedLineValue;\n      }\n      items.push({\n        tx1,\n        ty1,\n        tx2,\n        ty2,\n        x1,\n        y1,\n        x2,\n        y2,\n        width: lineWidth,\n        color: lineColor,\n        borderDash,\n        borderDashOffset,\n        tickWidth,\n        tickColor,\n        tickBorderDash,\n        tickBorderDashOffset,\n      });\n    }\n    me._ticksLength = ticksLength;\n    me._borderValue = borderValue;\n    return items;\n  }\n  _computeLabelItems(chartArea) {\n    const me = this;\n    const axis = me.axis;\n    const options = me.options;\n    const {position, ticks: optionTicks} = options;\n    const isHorizontal = me.isHorizontal();\n    const ticks = me.ticks;\n    const {align, crossAlign, padding, mirror} = optionTicks;\n    const tl = getTickMarkLength(options.grid);\n    const tickAndPadding = tl + padding;\n    const hTickAndPadding = mirror ? -padding : tickAndPadding;\n    const rotation = -toRadians(me.labelRotation);\n    const items = [];\n    let i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;\n    let textBaseline = 'middle';\n    if (position === 'top') {\n      y = me.bottom - hTickAndPadding;\n      textAlign = me._getXAxisLabelAlignment();\n    } else if (position === 'bottom') {\n      y = me.top + hTickAndPadding;\n      textAlign = me._getXAxisLabelAlignment();\n    } else if (position === 'left') {\n      const ret = me._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (position === 'right') {\n      const ret = me._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        y = ((chartArea.top + chartArea.bottom) / 2) + tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        y = me.chart.scales[positionAxisID].getPixelForValue(value) + tickAndPadding;\n      }\n      textAlign = me._getXAxisLabelAlignment();\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        x = ((chartArea.left + chartArea.right) / 2) - tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        x = me.chart.scales[positionAxisID].getPixelForValue(value);\n      }\n      textAlign = me._getYAxisLabelAlignment(tl).textAlign;\n    }\n    if (axis === 'y') {\n      if (align === 'start') {\n        textBaseline = 'top';\n      } else if (align === 'end') {\n        textBaseline = 'bottom';\n      }\n    }\n    const labelSizes = me._getLabelSizes();\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      label = tick.label;\n      const optsAtIndex = optionTicks.setContext(me.getContext(i));\n      pixel = me.getPixelForTick(i) + optionTicks.labelOffset;\n      font = me._resolveTickFontOptions(i);\n      lineHeight = font.lineHeight;\n      lineCount = isArray(label) ? label.length : 1;\n      const halfCount = lineCount / 2;\n      const color = optsAtIndex.color;\n      const strokeColor = optsAtIndex.textStrokeColor;\n      const strokeWidth = optsAtIndex.textStrokeWidth;\n      if (isHorizontal) {\n        x = pixel;\n        if (position === 'top') {\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = -lineCount * lineHeight + lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = -labelSizes.highest.height / 2 - halfCount * lineHeight + lineHeight;\n          } else {\n            textOffset = -labelSizes.highest.height + lineHeight / 2;\n          }\n        } else {\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = labelSizes.highest.height / 2 - halfCount * lineHeight;\n          } else {\n            textOffset = labelSizes.highest.height - lineCount * lineHeight;\n          }\n        }\n        if (mirror) {\n          textOffset *= -1;\n        }\n      } else {\n        y = pixel;\n        textOffset = (1 - lineCount) * lineHeight / 2;\n      }\n      let backdrop;\n      if (optsAtIndex.showLabelBackdrop) {\n        const labelPadding = toPadding(optsAtIndex.backdropPadding);\n        const height = labelSizes.heights[i];\n        const width = labelSizes.widths[i];\n        let top = y + textOffset - labelPadding.top;\n        let left = x - labelPadding.left;\n        switch (textBaseline) {\n        case 'middle':\n          top -= height / 2;\n          break;\n        case 'bottom':\n          top -= height;\n          break;\n        }\n        switch (textAlign) {\n        case 'center':\n          left -= width / 2;\n          break;\n        case 'right':\n          left -= width;\n          break;\n        }\n        backdrop = {\n          left,\n          top,\n          width: width + labelPadding.width,\n          height: height + labelPadding.height,\n          color: optsAtIndex.backdropColor,\n        };\n      }\n      items.push({\n        rotation,\n        label,\n        font,\n        color,\n        strokeColor,\n        strokeWidth,\n        textOffset,\n        textAlign,\n        textBaseline,\n        translation: [x, y],\n        backdrop,\n      });\n    }\n    return items;\n  }\n  _getXAxisLabelAlignment() {\n    const me = this;\n    const {position, ticks} = me.options;\n    const rotation = -toRadians(me.labelRotation);\n    if (rotation) {\n      return position === 'top' ? 'left' : 'right';\n    }\n    let align = 'center';\n    if (ticks.align === 'start') {\n      align = 'left';\n    } else if (ticks.align === 'end') {\n      align = 'right';\n    }\n    return align;\n  }\n  _getYAxisLabelAlignment(tl) {\n    const me = this;\n    const {position, ticks: {crossAlign, mirror, padding}} = me.options;\n    const labelSizes = me._getLabelSizes();\n    const tickAndPadding = tl + padding;\n    const widest = labelSizes.widest.width;\n    let textAlign;\n    let x;\n    if (position === 'left') {\n      if (mirror) {\n        textAlign = 'left';\n        x = me.right + padding;\n      } else {\n        x = me.right - tickAndPadding;\n        if (crossAlign === 'near') {\n          textAlign = 'right';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x -= (widest / 2);\n        } else {\n          textAlign = 'left';\n          x = me.left;\n        }\n      }\n    } else if (position === 'right') {\n      if (mirror) {\n        textAlign = 'right';\n        x = me.left + padding;\n      } else {\n        x = me.left + tickAndPadding;\n        if (crossAlign === 'near') {\n          textAlign = 'left';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x += widest / 2;\n        } else {\n          textAlign = 'right';\n          x = me.right;\n        }\n      }\n    } else {\n      textAlign = 'right';\n    }\n    return {textAlign, x};\n  }\n  _computeLabelArea() {\n    const me = this;\n    if (me.options.ticks.mirror) {\n      return;\n    }\n    const chart = me.chart;\n    const position = me.options.position;\n    if (position === 'left' || position === 'right') {\n      return {top: 0, left: me.left, bottom: chart.height, right: me.right};\n    } if (position === 'top' || position === 'bottom') {\n      return {top: me.top, left: 0, bottom: me.bottom, right: chart.width};\n    }\n  }\n  drawBackground() {\n    const {ctx, options: {backgroundColor}, left, top, width, height} = this;\n    if (backgroundColor) {\n      ctx.save();\n      ctx.fillStyle = backgroundColor;\n      ctx.fillRect(left, top, width, height);\n      ctx.restore();\n    }\n  }\n  getLineWidthForValue(value) {\n    const me = this;\n    const grid = me.options.grid;\n    if (!me._isVisible() || !grid.display) {\n      return 0;\n    }\n    const ticks = me.ticks;\n    const index = ticks.findIndex(t => t.value === value);\n    if (index >= 0) {\n      const opts = grid.setContext(me.getContext(index));\n      return opts.lineWidth;\n    }\n    return 0;\n  }\n  drawGrid(chartArea) {\n    const me = this;\n    const grid = me.options.grid;\n    const ctx = me.ctx;\n    const items = me._gridLineItems || (me._gridLineItems = me._computeGridLineItems(chartArea));\n    let i, ilen;\n    const drawLine = (p1, p2, style) => {\n      if (!style.width || !style.color) {\n        return;\n      }\n      ctx.save();\n      ctx.lineWidth = style.width;\n      ctx.strokeStyle = style.color;\n      ctx.setLineDash(style.borderDash || []);\n      ctx.lineDashOffset = style.borderDashOffset;\n      ctx.beginPath();\n      ctx.moveTo(p1.x, p1.y);\n      ctx.lineTo(p2.x, p2.y);\n      ctx.stroke();\n      ctx.restore();\n    };\n    if (grid.display) {\n      for (i = 0, ilen = items.length; i < ilen; ++i) {\n        const item = items[i];\n        if (grid.drawOnChartArea) {\n          drawLine(\n            {x: item.x1, y: item.y1},\n            {x: item.x2, y: item.y2},\n            item\n          );\n        }\n        if (grid.drawTicks) {\n          drawLine(\n            {x: item.tx1, y: item.ty1},\n            {x: item.tx2, y: item.ty2},\n            {\n              color: item.tickColor,\n              width: item.tickWidth,\n              borderDash: item.tickBorderDash,\n              borderDashOffset: item.tickBorderDashOffset\n            }\n          );\n        }\n      }\n    }\n  }\n  drawBorder() {\n    const me = this;\n    const {chart, ctx, options: {grid}} = me;\n    const borderOpts = grid.setContext(me.getContext());\n    const axisWidth = grid.drawBorder ? borderOpts.borderWidth : 0;\n    if (!axisWidth) {\n      return;\n    }\n    const lastLineWidth = grid.setContext(me.getContext(0)).lineWidth;\n    const borderValue = me._borderValue;\n    let x1, x2, y1, y2;\n    if (me.isHorizontal()) {\n      x1 = _alignPixel(chart, me.left, axisWidth) - axisWidth / 2;\n      x2 = _alignPixel(chart, me.right, lastLineWidth) + lastLineWidth / 2;\n      y1 = y2 = borderValue;\n    } else {\n      y1 = _alignPixel(chart, me.top, axisWidth) - axisWidth / 2;\n      y2 = _alignPixel(chart, me.bottom, lastLineWidth) + lastLineWidth / 2;\n      x1 = x2 = borderValue;\n    }\n    ctx.save();\n    ctx.lineWidth = borderOpts.borderWidth;\n    ctx.strokeStyle = borderOpts.borderColor;\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    ctx.stroke();\n    ctx.restore();\n  }\n  drawLabels(chartArea) {\n    const me = this;\n    const optionTicks = me.options.ticks;\n    if (!optionTicks.display) {\n      return;\n    }\n    const ctx = me.ctx;\n    const area = me._computeLabelArea();\n    if (area) {\n      clipArea(ctx, area);\n    }\n    const items = me._labelItems || (me._labelItems = me._computeLabelItems(chartArea));\n    let i, ilen;\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      const item = items[i];\n      const tickFont = item.font;\n      const label = item.label;\n      if (item.backdrop) {\n        ctx.fillStyle = item.backdrop.color;\n        ctx.fillRect(item.backdrop.left, item.backdrop.top, item.backdrop.width, item.backdrop.height);\n      }\n      let y = item.textOffset;\n      renderText(ctx, label, 0, y, tickFont, item);\n    }\n    if (area) {\n      unclipArea(ctx);\n    }\n  }\n  drawTitle() {\n    const {ctx, options: {position, title, reverse}} = this;\n    if (!title.display) {\n      return;\n    }\n    const font = toFont(title.font);\n    const padding = toPadding(title.padding);\n    const align = title.align;\n    let offset = font.lineHeight / 2;\n    if (position === 'bottom') {\n      offset += padding.bottom;\n      if (isArray(title.text)) {\n        offset += font.lineHeight * (title.text.length - 1);\n      }\n    } else {\n      offset += padding.top;\n    }\n    const {titleX, titleY, maxWidth, rotation} = titleArgs(this, offset, position, align);\n    renderText(ctx, title.text, 0, 0, font, {\n      color: title.color,\n      maxWidth,\n      rotation,\n      textAlign: titleAlign(align, position, reverse),\n      textBaseline: 'middle',\n      translation: [titleX, titleY],\n    });\n  }\n  draw(chartArea) {\n    const me = this;\n    if (!me._isVisible()) {\n      return;\n    }\n    me.drawBackground();\n    me.drawGrid(chartArea);\n    me.drawBorder();\n    me.drawTitle();\n    me.drawLabels(chartArea);\n  }\n  _layers() {\n    const me = this;\n    const opts = me.options;\n    const tz = opts.ticks && opts.ticks.z || 0;\n    const gz = opts.grid && opts.grid.z || 0;\n    if (!me._isVisible() || me.draw !== Scale.prototype.draw) {\n      return [{\n        z: tz,\n        draw(chartArea) {\n          me.draw(chartArea);\n        }\n      }];\n    }\n    return [{\n      z: gz,\n      draw(chartArea) {\n        me.drawBackground();\n        me.drawGrid(chartArea);\n        me.drawTitle();\n      }\n    }, {\n      z: gz + 1,\n      draw() {\n        me.drawBorder();\n      }\n    }, {\n      z: tz,\n      draw(chartArea) {\n        me.drawLabels(chartArea);\n      }\n    }];\n  }\n  getMatchingVisibleMetas(type) {\n    const me = this;\n    const metas = me.chart.getSortedVisibleDatasetMetas();\n    const axisID = me.axis + 'AxisID';\n    const result = [];\n    let i, ilen;\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      const meta = metas[i];\n      if (meta[axisID] === me.id && (!type || meta.type === type)) {\n        result.push(meta);\n      }\n    }\n    return result;\n  }\n  _resolveTickFontOptions(index) {\n    const opts = this.options.ticks.setContext(this.getContext(index));\n    return toFont(opts.font);\n  }\n  _maxDigits() {\n    const me = this;\n    const fontSize = me._resolveTickFontOptions(0).lineHeight;\n    return me.isHorizontal() ? me.width / fontSize / 0.7 : me.height / fontSize;\n  }\n}\n\nclass TypedRegistry {\n  constructor(type, scope, override) {\n    this.type = type;\n    this.scope = scope;\n    this.override = override;\n    this.items = Object.create(null);\n  }\n  isForType(type) {\n    return Object.prototype.isPrototypeOf.call(this.type.prototype, type.prototype);\n  }\n  register(item) {\n    const me = this;\n    const proto = Object.getPrototypeOf(item);\n    let parentScope;\n    if (isIChartComponent(proto)) {\n      parentScope = me.register(proto);\n    }\n    const items = me.items;\n    const id = item.id;\n    const scope = me.scope + '.' + id;\n    if (!id) {\n      throw new Error('class does not have id: ' + item);\n    }\n    if (id in items) {\n      return scope;\n    }\n    items[id] = item;\n    registerDefaults(item, scope, parentScope);\n    if (me.override) {\n      defaults.override(item.id, item.overrides);\n    }\n    return scope;\n  }\n  get(id) {\n    return this.items[id];\n  }\n  unregister(item) {\n    const items = this.items;\n    const id = item.id;\n    const scope = this.scope;\n    if (id in items) {\n      delete items[id];\n    }\n    if (scope && id in defaults[scope]) {\n      delete defaults[scope][id];\n      if (this.override) {\n        delete overrides[id];\n      }\n    }\n  }\n}\nfunction registerDefaults(item, scope, parentScope) {\n  const itemDefaults = merge(Object.create(null), [\n    parentScope ? defaults.get(parentScope) : {},\n    defaults.get(scope),\n    item.defaults\n  ]);\n  defaults.set(scope, itemDefaults);\n  if (item.defaultRoutes) {\n    routeDefaults(scope, item.defaultRoutes);\n  }\n  if (item.descriptors) {\n    defaults.describe(scope, item.descriptors);\n  }\n}\nfunction routeDefaults(scope, routes) {\n  Object.keys(routes).forEach(property => {\n    const propertyParts = property.split('.');\n    const sourceName = propertyParts.pop();\n    const sourceScope = [scope].concat(propertyParts).join('.');\n    const parts = routes[property].split('.');\n    const targetName = parts.pop();\n    const targetScope = parts.join('.');\n    defaults.route(sourceScope, sourceName, targetScope, targetName);\n  });\n}\nfunction isIChartComponent(proto) {\n  return 'id' in proto && 'defaults' in proto;\n}\n\nclass Registry {\n  constructor() {\n    this.controllers = new TypedRegistry(DatasetController, 'datasets', true);\n    this.elements = new TypedRegistry(Element, 'elements');\n    this.plugins = new TypedRegistry(Object, 'plugins');\n    this.scales = new TypedRegistry(Scale, 'scales');\n    this._typedRegistries = [this.controllers, this.scales, this.elements];\n  }\n  add(...args) {\n    this._each('register', args);\n  }\n  remove(...args) {\n    this._each('unregister', args);\n  }\n  addControllers(...args) {\n    this._each('register', args, this.controllers);\n  }\n  addElements(...args) {\n    this._each('register', args, this.elements);\n  }\n  addPlugins(...args) {\n    this._each('register', args, this.plugins);\n  }\n  addScales(...args) {\n    this._each('register', args, this.scales);\n  }\n  getController(id) {\n    return this._get(id, this.controllers, 'controller');\n  }\n  getElement(id) {\n    return this._get(id, this.elements, 'element');\n  }\n  getPlugin(id) {\n    return this._get(id, this.plugins, 'plugin');\n  }\n  getScale(id) {\n    return this._get(id, this.scales, 'scale');\n  }\n  removeControllers(...args) {\n    this._each('unregister', args, this.controllers);\n  }\n  removeElements(...args) {\n    this._each('unregister', args, this.elements);\n  }\n  removePlugins(...args) {\n    this._each('unregister', args, this.plugins);\n  }\n  removeScales(...args) {\n    this._each('unregister', args, this.scales);\n  }\n  _each(method, args, typedRegistry) {\n    const me = this;\n    [...args].forEach(arg => {\n      const reg = typedRegistry || me._getRegistryForType(arg);\n      if (typedRegistry || reg.isForType(arg) || (reg === me.plugins && arg.id)) {\n        me._exec(method, reg, arg);\n      } else {\n        each(arg, item => {\n          const itemReg = typedRegistry || me._getRegistryForType(item);\n          me._exec(method, itemReg, item);\n        });\n      }\n    });\n  }\n  _exec(method, registry, component) {\n    const camelMethod = _capitalize(method);\n    callback(component['before' + camelMethod], [], component);\n    registry[method](component);\n    callback(component['after' + camelMethod], [], component);\n  }\n  _getRegistryForType(type) {\n    for (let i = 0; i < this._typedRegistries.length; i++) {\n      const reg = this._typedRegistries[i];\n      if (reg.isForType(type)) {\n        return reg;\n      }\n    }\n    return this.plugins;\n  }\n  _get(id, typedRegistry, type) {\n    const item = typedRegistry.get(id);\n    if (item === undefined) {\n      throw new Error('\"' + id + '\" is not a registered ' + type + '.');\n    }\n    return item;\n  }\n}\nvar registry = new Registry();\n\nclass PluginService {\n  constructor() {\n    this._init = [];\n  }\n  notify(chart, hook, args, filter) {\n    const me = this;\n    if (hook === 'beforeInit') {\n      me._init = me._createDescriptors(chart, true);\n      me._notify(me._init, chart, 'install');\n    }\n    const descriptors = filter ? me._descriptors(chart).filter(filter) : me._descriptors(chart);\n    const result = me._notify(descriptors, chart, hook, args);\n    if (hook === 'destroy') {\n      me._notify(descriptors, chart, 'stop');\n      me._notify(me._init, chart, 'uninstall');\n    }\n    return result;\n  }\n  _notify(descriptors, chart, hook, args) {\n    args = args || {};\n    for (const descriptor of descriptors) {\n      const plugin = descriptor.plugin;\n      const method = plugin[hook];\n      const params = [chart, args, descriptor.options];\n      if (callback(method, params, plugin) === false && args.cancelable) {\n        return false;\n      }\n    }\n    return true;\n  }\n  invalidate() {\n    if (!isNullOrUndef(this._cache)) {\n      this._oldCache = this._cache;\n      this._cache = undefined;\n    }\n  }\n  _descriptors(chart) {\n    if (this._cache) {\n      return this._cache;\n    }\n    const descriptors = this._cache = this._createDescriptors(chart);\n    this._notifyStateChanges(chart);\n    return descriptors;\n  }\n  _createDescriptors(chart, all) {\n    const config = chart && chart.config;\n    const options = valueOrDefault(config.options && config.options.plugins, {});\n    const plugins = allPlugins(config);\n    return options === false && !all ? [] : createDescriptors(chart, plugins, options, all);\n  }\n  _notifyStateChanges(chart) {\n    const previousDescriptors = this._oldCache || [];\n    const descriptors = this._cache;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.plugin.id === y.plugin.id));\n    this._notify(diff(previousDescriptors, descriptors), chart, 'stop');\n    this._notify(diff(descriptors, previousDescriptors), chart, 'start');\n  }\n}\nfunction allPlugins(config) {\n  const plugins = [];\n  const keys = Object.keys(registry.plugins.items);\n  for (let i = 0; i < keys.length; i++) {\n    plugins.push(registry.getPlugin(keys[i]));\n  }\n  const local = config.plugins || [];\n  for (let i = 0; i < local.length; i++) {\n    const plugin = local[i];\n    if (plugins.indexOf(plugin) === -1) {\n      plugins.push(plugin);\n    }\n  }\n  return plugins;\n}\nfunction getOpts(options, all) {\n  if (!all && options === false) {\n    return null;\n  }\n  if (options === true) {\n    return {};\n  }\n  return options;\n}\nfunction createDescriptors(chart, plugins, options, all) {\n  const result = [];\n  const context = chart.getContext();\n  for (let i = 0; i < plugins.length; i++) {\n    const plugin = plugins[i];\n    const id = plugin.id;\n    const opts = getOpts(options[id], all);\n    if (opts === null) {\n      continue;\n    }\n    result.push({\n      plugin,\n      options: pluginOpts(chart.config, plugin, opts, context)\n    });\n  }\n  return result;\n}\nfunction pluginOpts(config, plugin, opts, context) {\n  const keys = config.pluginScopeKeys(plugin);\n  const scopes = config.getOptionScopes(opts, keys);\n  return config.createResolver(scopes, context, [''], {scriptable: false, indexable: false, allKeys: true});\n}\n\nfunction getIndexAxis(type, options) {\n  const datasetDefaults = defaults.datasets[type] || {};\n  const datasetOptions = (options.datasets || {})[type] || {};\n  return datasetOptions.indexAxis || options.indexAxis || datasetDefaults.indexAxis || 'x';\n}\nfunction getAxisFromDefaultScaleID(id, indexAxis) {\n  let axis = id;\n  if (id === '_index_') {\n    axis = indexAxis;\n  } else if (id === '_value_') {\n    axis = indexAxis === 'x' ? 'y' : 'x';\n  }\n  return axis;\n}\nfunction getDefaultScaleIDFromAxis(axis, indexAxis) {\n  return axis === indexAxis ? '_index_' : '_value_';\n}\nfunction axisFromPosition(position) {\n  if (position === 'top' || position === 'bottom') {\n    return 'x';\n  }\n  if (position === 'left' || position === 'right') {\n    return 'y';\n  }\n}\nfunction determineAxis(id, scaleOptions) {\n  if (id === 'x' || id === 'y') {\n    return id;\n  }\n  return scaleOptions.axis || axisFromPosition(scaleOptions.position) || id.charAt(0).toLowerCase();\n}\nfunction mergeScaleConfig(config, options) {\n  const chartDefaults = overrides[config.type] || {scales: {}};\n  const configScales = options.scales || {};\n  const chartIndexAxis = getIndexAxis(config.type, options);\n  const firstIDs = Object.create(null);\n  const scales = Object.create(null);\n  Object.keys(configScales).forEach(id => {\n    const scaleConf = configScales[id];\n    const axis = determineAxis(id, scaleConf);\n    const defaultId = getDefaultScaleIDFromAxis(axis, chartIndexAxis);\n    const defaultScaleOptions = chartDefaults.scales || {};\n    firstIDs[axis] = firstIDs[axis] || id;\n    scales[id] = mergeIf(Object.create(null), [{axis}, scaleConf, defaultScaleOptions[axis], defaultScaleOptions[defaultId]]);\n  });\n  config.data.datasets.forEach(dataset => {\n    const type = dataset.type || config.type;\n    const indexAxis = dataset.indexAxis || getIndexAxis(type, options);\n    const datasetDefaults = overrides[type] || {};\n    const defaultScaleOptions = datasetDefaults.scales || {};\n    Object.keys(defaultScaleOptions).forEach(defaultID => {\n      const axis = getAxisFromDefaultScaleID(defaultID, indexAxis);\n      const id = dataset[axis + 'AxisID'] || firstIDs[axis] || axis;\n      scales[id] = scales[id] || Object.create(null);\n      mergeIf(scales[id], [{axis}, configScales[id], defaultScaleOptions[defaultID]]);\n    });\n  });\n  Object.keys(scales).forEach(key => {\n    const scale = scales[key];\n    mergeIf(scale, [defaults.scales[scale.type], defaults.scale]);\n  });\n  return scales;\n}\nfunction initOptions(config) {\n  const options = config.options || (config.options = {});\n  options.plugins = valueOrDefault(options.plugins, {});\n  options.scales = mergeScaleConfig(config, options);\n}\nfunction initData(data) {\n  data = data || {};\n  data.datasets = data.datasets || [];\n  data.labels = data.labels || [];\n  return data;\n}\nfunction initConfig(config) {\n  config = config || {};\n  config.data = initData(config.data);\n  initOptions(config);\n  return config;\n}\nconst keyCache = new Map();\nconst keysCached = new Set();\nfunction cachedKeys(cacheKey, generate) {\n  let keys = keyCache.get(cacheKey);\n  if (!keys) {\n    keys = generate();\n    keyCache.set(cacheKey, keys);\n    keysCached.add(keys);\n  }\n  return keys;\n}\nconst addIfFound = (set, obj, key) => {\n  const opts = resolveObjectKey(obj, key);\n  if (opts !== undefined) {\n    set.add(opts);\n  }\n};\nclass Config {\n  constructor(config) {\n    this._config = initConfig(config);\n    this._scopeCache = new Map();\n    this._resolverCache = new Map();\n  }\n  get type() {\n    return this._config.type;\n  }\n  set type(type) {\n    this._config.type = type;\n  }\n  get data() {\n    return this._config.data;\n  }\n  set data(data) {\n    this._config.data = initData(data);\n  }\n  get options() {\n    return this._config.options;\n  }\n  set options(options) {\n    this._config.options = options;\n  }\n  get plugins() {\n    return this._config.plugins;\n  }\n  update() {\n    const config = this._config;\n    this.clearCache();\n    initOptions(config);\n  }\n  clearCache() {\n    this._scopeCache.clear();\n    this._resolverCache.clear();\n  }\n  datasetScopeKeys(datasetType) {\n    return cachedKeys(datasetType,\n      () => [[\n        `datasets.${datasetType}`,\n        ''\n      ]]);\n  }\n  datasetAnimationScopeKeys(datasetType, transition) {\n    return cachedKeys(`${datasetType}.transition.${transition}`,\n      () => [\n        [\n          `datasets.${datasetType}.transitions.${transition}`,\n          `transitions.${transition}`,\n        ],\n        [\n          `datasets.${datasetType}`,\n          ''\n        ]\n      ]);\n  }\n  datasetElementScopeKeys(datasetType, elementType) {\n    return cachedKeys(`${datasetType}-${elementType}`,\n      () => [[\n        `datasets.${datasetType}.elements.${elementType}`,\n        `datasets.${datasetType}`,\n        `elements.${elementType}`,\n        ''\n      ]]);\n  }\n  pluginScopeKeys(plugin) {\n    const id = plugin.id;\n    const type = this.type;\n    return cachedKeys(`${type}-plugin-${id}`,\n      () => [[\n        `plugins.${id}`,\n        ...plugin.additionalOptionScopes || [],\n      ]]);\n  }\n  _cachedScopes(mainScope, resetCache) {\n    const _scopeCache = this._scopeCache;\n    let cache = _scopeCache.get(mainScope);\n    if (!cache || resetCache) {\n      cache = new Map();\n      _scopeCache.set(mainScope, cache);\n    }\n    return cache;\n  }\n  getOptionScopes(mainScope, keyLists, resetCache) {\n    const {options, type} = this;\n    const cache = this._cachedScopes(mainScope, resetCache);\n    const cached = cache.get(keyLists);\n    if (cached) {\n      return cached;\n    }\n    const scopes = new Set();\n    keyLists.forEach(keys => {\n      if (mainScope) {\n        scopes.add(mainScope);\n        keys.forEach(key => addIfFound(scopes, mainScope, key));\n      }\n      keys.forEach(key => addIfFound(scopes, options, key));\n      keys.forEach(key => addIfFound(scopes, overrides[type] || {}, key));\n      keys.forEach(key => addIfFound(scopes, defaults, key));\n      keys.forEach(key => addIfFound(scopes, descriptors, key));\n    });\n    const array = [...scopes];\n    if (keysCached.has(keyLists)) {\n      cache.set(keyLists, array);\n    }\n    return array;\n  }\n  chartOptionScopes() {\n    const {options, type} = this;\n    return [\n      options,\n      overrides[type] || {},\n      defaults.datasets[type] || {},\n      {type},\n      defaults,\n      descriptors\n    ];\n  }\n  resolveNamedOptions(scopes, names, context, prefixes = ['']) {\n    const result = {$shared: true};\n    const {resolver, subPrefixes} = getResolver(this._resolverCache, scopes, prefixes);\n    let options = resolver;\n    if (needContext(resolver, names)) {\n      result.$shared = false;\n      context = isFunction(context) ? context() : context;\n      const subResolver = this.createResolver(scopes, context, subPrefixes);\n      options = _attachContext(resolver, context, subResolver);\n    }\n    for (const prop of names) {\n      result[prop] = options[prop];\n    }\n    return result;\n  }\n  createResolver(scopes, context, prefixes = [''], descriptorDefaults) {\n    const {resolver} = getResolver(this._resolverCache, scopes, prefixes);\n    return isObject(context)\n      ? _attachContext(resolver, context, undefined, descriptorDefaults)\n      : resolver;\n  }\n}\nfunction getResolver(resolverCache, scopes, prefixes) {\n  let cache = resolverCache.get(scopes);\n  if (!cache) {\n    cache = new Map();\n    resolverCache.set(scopes, cache);\n  }\n  const cacheKey = prefixes.join();\n  let cached = cache.get(cacheKey);\n  if (!cached) {\n    const resolver = _createResolver(scopes, prefixes);\n    cached = {\n      resolver,\n      subPrefixes: prefixes.filter(p => !p.toLowerCase().includes('hover'))\n    };\n    cache.set(cacheKey, cached);\n  }\n  return cached;\n}\nfunction needContext(proxy, names) {\n  const {isScriptable, isIndexable} = _descriptors(proxy);\n  for (const prop of names) {\n    if ((isScriptable(prop) && isFunction(proxy[prop]))\n      || (isIndexable(prop) && isArray(proxy[prop]))) {\n      return true;\n    }\n  }\n  return false;\n}\n\nvar version = \"3.2.1\";\n\nconst KNOWN_POSITIONS = ['top', 'bottom', 'left', 'right', 'chartArea'];\nfunction positionIsHorizontal(position, axis) {\n  return position === 'top' || position === 'bottom' || (KNOWN_POSITIONS.indexOf(position) === -1 && axis === 'x');\n}\nfunction compare2Level(l1, l2) {\n  return function(a, b) {\n    return a[l1] === b[l1]\n      ? a[l2] - b[l2]\n      : a[l1] - b[l1];\n  };\n}\nfunction onAnimationsComplete(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n  chart.notifyPlugins('afterRender');\n  callback(animationOptions && animationOptions.onComplete, [context], chart);\n}\nfunction onAnimationProgress(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n  callback(animationOptions && animationOptions.onProgress, [context], chart);\n}\nfunction isDomSupported() {\n  return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\nfunction getCanvas(item) {\n  if (isDomSupported() && typeof item === 'string') {\n    item = document.getElementById(item);\n  } else if (item && item.length) {\n    item = item[0];\n  }\n  if (item && item.canvas) {\n    item = item.canvas;\n  }\n  return item;\n}\nconst instances = {};\nconst getChart = (key) => {\n  const canvas = getCanvas(key);\n  return Object.values(instances).filter((c) => c.canvas === canvas).pop();\n};\nclass Chart {\n  constructor(item, config) {\n    const me = this;\n    this.config = config = new Config(config);\n    const initialCanvas = getCanvas(item);\n    const existingChart = getChart(initialCanvas);\n    if (existingChart) {\n      throw new Error(\n        'Canvas is already in use. Chart with ID \\'' + existingChart.id + '\\'' +\n\t\t\t\t' must be destroyed before the canvas can be reused.'\n      );\n    }\n    const options = config.createResolver(config.chartOptionScopes(), me.getContext());\n    this.platform = me._initializePlatform(initialCanvas, config);\n    const context = me.platform.acquireContext(initialCanvas, options.aspectRatio);\n    const canvas = context && context.canvas;\n    const height = canvas && canvas.height;\n    const width = canvas && canvas.width;\n    this.id = uid();\n    this.ctx = context;\n    this.canvas = canvas;\n    this.width = width;\n    this.height = height;\n    this._options = options;\n    this._aspectRatio = this.aspectRatio;\n    this._layers = [];\n    this._metasets = [];\n    this._stacks = undefined;\n    this.boxes = [];\n    this.currentDevicePixelRatio = undefined;\n    this.chartArea = undefined;\n    this._active = [];\n    this._lastEvent = undefined;\n    this._listeners = {};\n    this._sortedMetasets = [];\n    this.scales = {};\n    this.scale = undefined;\n    this._plugins = new PluginService();\n    this.$proxies = {};\n    this._hiddenIndices = {};\n    this.attached = false;\n    this._animationsDisabled = undefined;\n    this.$context = undefined;\n    this._doResize = debounce(() => this.update('resize'), options.resizeDelay || 0);\n    instances[me.id] = me;\n    if (!context || !canvas) {\n      console.error(\"Failed to create chart: can't acquire context from the given item\");\n      return;\n    }\n    animator.listen(me, 'complete', onAnimationsComplete);\n    animator.listen(me, 'progress', onAnimationProgress);\n    me._initialize();\n    if (me.attached) {\n      me.update();\n    }\n  }\n  get aspectRatio() {\n    const {options: {aspectRatio, maintainAspectRatio}, width, height, _aspectRatio} = this;\n    if (!isNullOrUndef(aspectRatio)) {\n      return aspectRatio;\n    }\n    if (maintainAspectRatio && _aspectRatio) {\n      return _aspectRatio;\n    }\n    return height ? width / height : null;\n  }\n  get data() {\n    return this.config.data;\n  }\n  set data(data) {\n    this.config.data = data;\n  }\n  get options() {\n    return this._options;\n  }\n  set options(options) {\n    this.config.options = options;\n  }\n  _initialize() {\n    const me = this;\n    me.notifyPlugins('beforeInit');\n    if (me.options.responsive) {\n      me.resize();\n    } else {\n      retinaScale(me, me.options.devicePixelRatio);\n    }\n    me.bindEvents();\n    me.notifyPlugins('afterInit');\n    return me;\n  }\n  _initializePlatform(canvas, config) {\n    if (config.platform) {\n      return new config.platform();\n    } else if (!isDomSupported() || (typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas)) {\n      return new BasicPlatform();\n    }\n    return new DomPlatform();\n  }\n  clear() {\n    clearCanvas(this.canvas, this.ctx);\n    return this;\n  }\n  stop() {\n    animator.stop(this);\n    return this;\n  }\n  resize(width, height) {\n    if (!animator.running(this)) {\n      this._resize(width, height);\n    } else {\n      this._resizeBeforeDraw = {width, height};\n    }\n  }\n  _resize(width, height) {\n    const me = this;\n    const options = me.options;\n    const canvas = me.canvas;\n    const aspectRatio = options.maintainAspectRatio && me.aspectRatio;\n    const newSize = me.platform.getMaximumSize(canvas, width, height, aspectRatio);\n    const oldRatio = me.currentDevicePixelRatio;\n    const newRatio = options.devicePixelRatio || me.platform.getDevicePixelRatio();\n    if (me.width === newSize.width && me.height === newSize.height && oldRatio === newRatio) {\n      return;\n    }\n    me.width = newSize.width;\n    me.height = newSize.height;\n    me._aspectRatio = me.aspectRatio;\n    retinaScale(me, newRatio, true);\n    me.notifyPlugins('resize', {size: newSize});\n    callback(options.onResize, [me, newSize], me);\n    if (me.attached) {\n      if (me._doResize()) {\n        me.render();\n      }\n    }\n  }\n  ensureScalesHaveIDs() {\n    const options = this.options;\n    const scalesOptions = options.scales || {};\n    each(scalesOptions, (axisOptions, axisID) => {\n      axisOptions.id = axisID;\n    });\n  }\n  buildOrUpdateScales() {\n    const me = this;\n    const options = me.options;\n    const scaleOpts = options.scales;\n    const scales = me.scales;\n    const updated = Object.keys(scales).reduce((obj, id) => {\n      obj[id] = false;\n      return obj;\n    }, {});\n    let items = [];\n    if (scaleOpts) {\n      items = items.concat(\n        Object.keys(scaleOpts).map((id) => {\n          const scaleOptions = scaleOpts[id];\n          const axis = determineAxis(id, scaleOptions);\n          const isRadial = axis === 'r';\n          const isHorizontal = axis === 'x';\n          return {\n            options: scaleOptions,\n            dposition: isRadial ? 'chartArea' : isHorizontal ? 'bottom' : 'left',\n            dtype: isRadial ? 'radialLinear' : isHorizontal ? 'category' : 'linear'\n          };\n        })\n      );\n    }\n    each(items, (item) => {\n      const scaleOptions = item.options;\n      const id = scaleOptions.id;\n      const axis = determineAxis(id, scaleOptions);\n      const scaleType = valueOrDefault(scaleOptions.type, item.dtype);\n      if (scaleOptions.position === undefined || positionIsHorizontal(scaleOptions.position, axis) !== positionIsHorizontal(item.dposition)) {\n        scaleOptions.position = item.dposition;\n      }\n      updated[id] = true;\n      let scale = null;\n      if (id in scales && scales[id].type === scaleType) {\n        scale = scales[id];\n      } else {\n        const scaleClass = registry.getScale(scaleType);\n        scale = new scaleClass({\n          id,\n          type: scaleType,\n          ctx: me.ctx,\n          chart: me\n        });\n        scales[scale.id] = scale;\n      }\n      scale.init(scaleOptions, options);\n    });\n    each(updated, (hasUpdated, id) => {\n      if (!hasUpdated) {\n        delete scales[id];\n      }\n    });\n    each(scales, (scale) => {\n      layouts.configure(me, scale, scale.options);\n      layouts.addBox(me, scale);\n    });\n  }\n  _updateMetasetIndex(meta, index) {\n    const metasets = this._metasets;\n    const oldIndex = meta.index;\n    if (oldIndex !== index) {\n      metasets[oldIndex] = metasets[index];\n      metasets[index] = meta;\n      meta.index = index;\n    }\n  }\n  _updateMetasets() {\n    const me = this;\n    const metasets = me._metasets;\n    const numData = me.data.datasets.length;\n    const numMeta = metasets.length;\n    if (numMeta > numData) {\n      for (let i = numData; i < numMeta; ++i) {\n        me._destroyDatasetMeta(i);\n      }\n      metasets.splice(numData, numMeta - numData);\n    }\n    me._sortedMetasets = metasets.slice(0).sort(compare2Level('order', 'index'));\n  }\n  _removeUnreferencedMetasets() {\n    const me = this;\n    const {_metasets: metasets, data: {datasets}} = me;\n    if (metasets.length > datasets.length) {\n      delete me._stacks;\n    }\n    metasets.forEach((meta, index) => {\n      if (datasets.filter(x => x === meta._dataset).length === 0) {\n        me._destroyDatasetMeta(index);\n      }\n    });\n  }\n  buildOrUpdateControllers() {\n    const me = this;\n    const newControllers = [];\n    const datasets = me.data.datasets;\n    let i, ilen;\n    me._removeUnreferencedMetasets();\n    for (i = 0, ilen = datasets.length; i < ilen; i++) {\n      const dataset = datasets[i];\n      let meta = me.getDatasetMeta(i);\n      const type = dataset.type || me.config.type;\n      if (meta.type && meta.type !== type) {\n        me._destroyDatasetMeta(i);\n        meta = me.getDatasetMeta(i);\n      }\n      meta.type = type;\n      meta.indexAxis = dataset.indexAxis || getIndexAxis(type, me.options);\n      meta.order = dataset.order || 0;\n      me._updateMetasetIndex(meta, i);\n      meta.label = '' + dataset.label;\n      meta.visible = me.isDatasetVisible(i);\n      if (meta.controller) {\n        meta.controller.updateIndex(i);\n        meta.controller.linkScales();\n      } else {\n        const ControllerClass = registry.getController(type);\n        const {datasetElementType, dataElementType} = defaults.datasets[type];\n        Object.assign(ControllerClass.prototype, {\n          dataElementType: registry.getElement(dataElementType),\n          datasetElementType: datasetElementType && registry.getElement(datasetElementType)\n        });\n        meta.controller = new ControllerClass(me, i);\n        newControllers.push(meta.controller);\n      }\n    }\n    me._updateMetasets();\n    return newControllers;\n  }\n  _resetElements() {\n    const me = this;\n    each(me.data.datasets, (dataset, datasetIndex) => {\n      me.getDatasetMeta(datasetIndex).controller.reset();\n    }, me);\n  }\n  reset() {\n    this._resetElements();\n    this.notifyPlugins('reset');\n  }\n  update(mode) {\n    const me = this;\n    const config = me.config;\n    config.update();\n    me._options = config.createResolver(config.chartOptionScopes(), me.getContext());\n    each(me.scales, (scale) => {\n      layouts.removeBox(me, scale);\n    });\n    const animsDisabled = me._animationsDisabled = !me.options.animation;\n    me.ensureScalesHaveIDs();\n    me.buildOrUpdateScales();\n    const existingEvents = new Set(Object.keys(me._listeners));\n    const newEvents = new Set(me.options.events);\n    if (!setsEqual(existingEvents, newEvents)) {\n      me.unbindEvents();\n      me.bindEvents();\n    }\n    me._plugins.invalidate();\n    if (me.notifyPlugins('beforeUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n    const newControllers = me.buildOrUpdateControllers();\n    me.notifyPlugins('beforeElementsUpdate');\n    let minPadding = 0;\n    for (let i = 0, ilen = me.data.datasets.length; i < ilen; i++) {\n      const {controller} = me.getDatasetMeta(i);\n      const reset = !animsDisabled && newControllers.indexOf(controller) === -1;\n      controller.buildOrUpdateElements(reset);\n      minPadding = Math.max(+controller.getMaxOverflow(), minPadding);\n    }\n    me._minPadding = minPadding;\n    me._updateLayout(minPadding);\n    if (!animsDisabled) {\n      each(newControllers, (controller) => {\n        controller.reset();\n      });\n    }\n    me._updateDatasets(mode);\n    me.notifyPlugins('afterUpdate', {mode});\n    me._layers.sort(compare2Level('z', '_idx'));\n    if (me._lastEvent) {\n      me._eventHandler(me._lastEvent, true);\n    }\n    me.render();\n  }\n  _updateLayout(minPadding) {\n    const me = this;\n    if (me.notifyPlugins('beforeLayout', {cancelable: true}) === false) {\n      return;\n    }\n    layouts.update(me, me.width, me.height, minPadding);\n    const area = me.chartArea;\n    const noArea = area.width <= 0 || area.height <= 0;\n    me._layers = [];\n    each(me.boxes, (box) => {\n      if (noArea && box.position === 'chartArea') {\n        return;\n      }\n      if (box.configure) {\n        box.configure();\n      }\n      me._layers.push(...box._layers());\n    }, me);\n    me._layers.forEach((item, index) => {\n      item._idx = index;\n    });\n    me.notifyPlugins('afterLayout');\n  }\n  _updateDatasets(mode) {\n    const me = this;\n    const isFunction = typeof mode === 'function';\n    if (me.notifyPlugins('beforeDatasetsUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n    for (let i = 0, ilen = me.data.datasets.length; i < ilen; ++i) {\n      me._updateDataset(i, isFunction ? mode({datasetIndex: i}) : mode);\n    }\n    me.notifyPlugins('afterDatasetsUpdate', {mode});\n  }\n  _updateDataset(index, mode) {\n    const me = this;\n    const meta = me.getDatasetMeta(index);\n    const args = {meta, index, mode, cancelable: true};\n    if (me.notifyPlugins('beforeDatasetUpdate', args) === false) {\n      return;\n    }\n    meta.controller._update(mode);\n    args.cancelable = false;\n    me.notifyPlugins('afterDatasetUpdate', args);\n  }\n  render() {\n    const me = this;\n    if (me.notifyPlugins('beforeRender', {cancelable: true}) === false) {\n      return;\n    }\n    if (animator.has(me)) {\n      if (me.attached && !animator.running(me)) {\n        animator.start(me);\n      }\n    } else {\n      me.draw();\n      onAnimationsComplete({chart: me});\n    }\n  }\n  draw() {\n    const me = this;\n    let i;\n    if (me._resizeBeforeDraw) {\n      const {width, height} = me._resizeBeforeDraw;\n      me._resize(width, height);\n      me._resizeBeforeDraw = null;\n    }\n    me.clear();\n    if (me.width <= 0 || me.height <= 0) {\n      return;\n    }\n    if (me.notifyPlugins('beforeDraw', {cancelable: true}) === false) {\n      return;\n    }\n    const layers = me._layers;\n    for (i = 0; i < layers.length && layers[i].z <= 0; ++i) {\n      layers[i].draw(me.chartArea);\n    }\n    me._drawDatasets();\n    for (; i < layers.length; ++i) {\n      layers[i].draw(me.chartArea);\n    }\n    me.notifyPlugins('afterDraw');\n  }\n  _getSortedDatasetMetas(filterVisible) {\n    const me = this;\n    const metasets = me._sortedMetasets;\n    const result = [];\n    let i, ilen;\n    for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n      const meta = metasets[i];\n      if (!filterVisible || meta.visible) {\n        result.push(meta);\n      }\n    }\n    return result;\n  }\n  getSortedVisibleDatasetMetas() {\n    return this._getSortedDatasetMetas(true);\n  }\n  _drawDatasets() {\n    const me = this;\n    if (me.notifyPlugins('beforeDatasetsDraw', {cancelable: true}) === false) {\n      return;\n    }\n    const metasets = me.getSortedVisibleDatasetMetas();\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      me._drawDataset(metasets[i]);\n    }\n    me.notifyPlugins('afterDatasetsDraw');\n  }\n  _drawDataset(meta) {\n    const me = this;\n    const ctx = me.ctx;\n    const clip = meta._clip;\n    const area = me.chartArea;\n    const args = {\n      meta,\n      index: meta.index,\n      cancelable: true\n    };\n    if (me.notifyPlugins('beforeDatasetDraw', args) === false) {\n      return;\n    }\n    clipArea(ctx, {\n      left: clip.left === false ? 0 : area.left - clip.left,\n      right: clip.right === false ? me.width : area.right + clip.right,\n      top: clip.top === false ? 0 : area.top - clip.top,\n      bottom: clip.bottom === false ? me.height : area.bottom + clip.bottom\n    });\n    meta.controller.draw();\n    unclipArea(ctx);\n    args.cancelable = false;\n    me.notifyPlugins('afterDatasetDraw', args);\n  }\n  getElementsAtEventForMode(e, mode, options, useFinalPosition) {\n    const method = Interaction.modes[mode];\n    if (typeof method === 'function') {\n      return method(this, e, options, useFinalPosition);\n    }\n    return [];\n  }\n  getDatasetMeta(datasetIndex) {\n    const me = this;\n    const dataset = me.data.datasets[datasetIndex];\n    const metasets = me._metasets;\n    let meta = metasets.filter(x => x && x._dataset === dataset).pop();\n    if (!meta) {\n      meta = metasets[datasetIndex] = {\n        type: null,\n        data: [],\n        dataset: null,\n        controller: null,\n        hidden: null,\n        xAxisID: null,\n        yAxisID: null,\n        order: dataset && dataset.order || 0,\n        index: datasetIndex,\n        _dataset: dataset,\n        _parsed: [],\n        _sorted: false\n      };\n    }\n    return meta;\n  }\n  getContext() {\n    return this.$context || (this.$context = {chart: this, type: 'chart'});\n  }\n  getVisibleDatasetCount() {\n    return this.getSortedVisibleDatasetMetas().length;\n  }\n  isDatasetVisible(datasetIndex) {\n    const dataset = this.data.datasets[datasetIndex];\n    if (!dataset) {\n      return false;\n    }\n    const meta = this.getDatasetMeta(datasetIndex);\n    return typeof meta.hidden === 'boolean' ? !meta.hidden : !dataset.hidden;\n  }\n  setDatasetVisibility(datasetIndex, visible) {\n    const meta = this.getDatasetMeta(datasetIndex);\n    meta.hidden = !visible;\n  }\n  toggleDataVisibility(index) {\n    this._hiddenIndices[index] = !this._hiddenIndices[index];\n  }\n  getDataVisibility(index) {\n    return !this._hiddenIndices[index];\n  }\n  _updateDatasetVisibility(datasetIndex, visible) {\n    const me = this;\n    const mode = visible ? 'show' : 'hide';\n    const meta = me.getDatasetMeta(datasetIndex);\n    const anims = meta.controller._resolveAnimations(undefined, mode);\n    me.setDatasetVisibility(datasetIndex, visible);\n    anims.update(meta, {visible});\n    me.update((ctx) => ctx.datasetIndex === datasetIndex ? mode : undefined);\n  }\n  hide(datasetIndex) {\n    this._updateDatasetVisibility(datasetIndex, false);\n  }\n  show(datasetIndex) {\n    this._updateDatasetVisibility(datasetIndex, true);\n  }\n  _destroyDatasetMeta(datasetIndex) {\n    const me = this;\n    const meta = me._metasets && me._metasets[datasetIndex];\n    if (meta && meta.controller) {\n      meta.controller._destroy();\n      delete me._metasets[datasetIndex];\n    }\n  }\n  destroy() {\n    const me = this;\n    const {canvas, ctx} = me;\n    let i, ilen;\n    me.stop();\n    animator.remove(me);\n    for (i = 0, ilen = me.data.datasets.length; i < ilen; ++i) {\n      me._destroyDatasetMeta(i);\n    }\n    me.config.clearCache();\n    if (canvas) {\n      me.unbindEvents();\n      clearCanvas(canvas, ctx);\n      me.platform.releaseContext(ctx);\n      me.canvas = null;\n      me.ctx = null;\n    }\n    me.notifyPlugins('destroy');\n    delete instances[me.id];\n  }\n  toBase64Image(...args) {\n    return this.canvas.toDataURL(...args);\n  }\n  bindEvents() {\n    const me = this;\n    const listeners = me._listeners;\n    const platform = me.platform;\n    const _add = (type, listener) => {\n      platform.addEventListener(me, type, listener);\n      listeners[type] = listener;\n    };\n    const _remove = (type, listener) => {\n      if (listeners[type]) {\n        platform.removeEventListener(me, type, listener);\n        delete listeners[type];\n      }\n    };\n    let listener = function(e, x, y) {\n      e.offsetX = x;\n      e.offsetY = y;\n      me._eventHandler(e);\n    };\n    each(me.options.events, (type) => _add(type, listener));\n    if (me.options.responsive) {\n      listener = (width, height) => {\n        if (me.canvas) {\n          me.resize(width, height);\n        }\n      };\n      let detached;\n      const attached = () => {\n        _remove('attach', attached);\n        me.attached = true;\n        me.resize();\n        _add('resize', listener);\n        _add('detach', detached);\n      };\n      detached = () => {\n        me.attached = false;\n        _remove('resize', listener);\n        _add('attach', attached);\n      };\n      if (platform.isAttached(me.canvas)) {\n        attached();\n      } else {\n        detached();\n      }\n    } else {\n      me.attached = true;\n    }\n  }\n  unbindEvents() {\n    const me = this;\n    const listeners = me._listeners;\n    if (!listeners) {\n      return;\n    }\n    me._listeners = {};\n    each(listeners, (listener, type) => {\n      me.platform.removeEventListener(me, type, listener);\n    });\n  }\n  updateHoverStyle(items, mode, enabled) {\n    const prefix = enabled ? 'set' : 'remove';\n    let meta, item, i, ilen;\n    if (mode === 'dataset') {\n      meta = this.getDatasetMeta(items[0].datasetIndex);\n      meta.controller['_' + prefix + 'DatasetHoverStyle']();\n    }\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      item = items[i];\n      const controller = item && this.getDatasetMeta(item.datasetIndex).controller;\n      if (controller) {\n        controller[prefix + 'HoverStyle'](item.element, item.datasetIndex, item.index);\n      }\n    }\n  }\n  getActiveElements() {\n    return this._active || [];\n  }\n  setActiveElements(activeElements) {\n    const me = this;\n    const lastActive = me._active || [];\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = me.getDatasetMeta(datasetIndex);\n      if (!meta) {\n        throw new Error('No dataset found at index ' + datasetIndex);\n      }\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(active, lastActive);\n    if (changed) {\n      me._active = active;\n      me._updateHoverStyles(active, lastActive);\n    }\n  }\n  notifyPlugins(hook, args, filter) {\n    return this._plugins.notify(this, hook, args, filter);\n  }\n  _updateHoverStyles(active, lastActive, replay) {\n    const me = this;\n    const hoverOptions = me.options.hover;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.datasetIndex === y.datasetIndex && x.index === y.index));\n    const deactivated = diff(lastActive, active);\n    const activated = replay ? active : diff(active, lastActive);\n    if (deactivated.length) {\n      me.updateHoverStyle(deactivated, hoverOptions.mode, false);\n    }\n    if (activated.length && hoverOptions.mode) {\n      me.updateHoverStyle(activated, hoverOptions.mode, true);\n    }\n  }\n  _eventHandler(e, replay) {\n    const me = this;\n    const args = {event: e, replay, cancelable: true};\n    const eventFilter = (plugin) => (plugin.options.events || this.options.events).includes(e.type);\n    if (me.notifyPlugins('beforeEvent', args, eventFilter) === false) {\n      return;\n    }\n    const changed = me._handleEvent(e, replay);\n    args.cancelable = false;\n    me.notifyPlugins('afterEvent', args, eventFilter);\n    if (changed || args.changed) {\n      me.render();\n    }\n    return me;\n  }\n  _handleEvent(e, replay) {\n    const me = this;\n    const {_active: lastActive = [], options} = me;\n    const hoverOptions = options.hover;\n    const useFinalPosition = replay;\n    let active = [];\n    let changed = false;\n    let lastEvent = null;\n    if (e.type !== 'mouseout') {\n      active = me.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions, useFinalPosition);\n      lastEvent = e.type === 'click' ? me._lastEvent : e;\n    }\n    me._lastEvent = null;\n    if (_isPointInArea(e, me.chartArea, me._minPadding)) {\n      callback(options.onHover, [e, active, me], me);\n      if (e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu') {\n        callback(options.onClick, [e, active, me], me);\n      }\n    }\n    changed = !_elementsEqual(active, lastActive);\n    if (changed || replay) {\n      me._active = active;\n      me._updateHoverStyles(active, lastActive, replay);\n    }\n    me._lastEvent = lastEvent;\n    return changed;\n  }\n}\nconst invalidatePlugins = () => each(Chart.instances, (chart) => chart._plugins.invalidate());\nconst enumerable = true;\nObject.defineProperties(Chart, {\n  defaults: {\n    enumerable,\n    value: defaults\n  },\n  instances: {\n    enumerable,\n    value: instances\n  },\n  overrides: {\n    enumerable,\n    value: overrides\n  },\n  registry: {\n    enumerable,\n    value: registry\n  },\n  version: {\n    enumerable,\n    value: version\n  },\n  getChart: {\n    enumerable,\n    value: getChart\n  },\n  register: {\n    enumerable,\n    value: (...items) => {\n      registry.add(...items);\n      invalidatePlugins();\n    }\n  },\n  unregister: {\n    enumerable,\n    value: (...items) => {\n      registry.remove(...items);\n      invalidatePlugins();\n    }\n  }\n});\n\nfunction clipArc(ctx, element) {\n  const {startAngle, endAngle, pixelMargin, x, y, outerRadius, innerRadius} = element;\n  let angleMargin = pixelMargin / outerRadius;\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, startAngle - angleMargin, endAngle + angleMargin);\n  if (innerRadius > pixelMargin) {\n    angleMargin = pixelMargin / innerRadius;\n    ctx.arc(x, y, innerRadius, endAngle + angleMargin, startAngle - angleMargin, true);\n  } else {\n    ctx.arc(x, y, pixelMargin, endAngle + HALF_PI, startAngle - HALF_PI);\n  }\n  ctx.closePath();\n  ctx.clip();\n}\nfunction toRadiusCorners(value) {\n  return _readValueToProps(value, ['outerStart', 'outerEnd', 'innerStart', 'innerEnd']);\n}\nfunction parseBorderRadius$1(arc, innerRadius, outerRadius, angleDelta) {\n  const o = toRadiusCorners(arc.options.borderRadius);\n  const halfThickness = (outerRadius - innerRadius) / 2;\n  const innerLimit = Math.min(halfThickness, angleDelta * innerRadius / 2);\n  const computeOuterLimit = (val) => {\n    const outerArcLimit = (outerRadius - Math.min(halfThickness, val)) * angleDelta / 2;\n    return _limitValue(val, 0, Math.min(halfThickness, outerArcLimit));\n  };\n  return {\n    outerStart: computeOuterLimit(o.outerStart),\n    outerEnd: computeOuterLimit(o.outerEnd),\n    innerStart: _limitValue(o.innerStart, 0, innerLimit),\n    innerEnd: _limitValue(o.innerEnd, 0, innerLimit),\n  };\n}\nfunction rThetaToXY(r, theta, x, y) {\n  return {\n    x: x + r * Math.cos(theta),\n    y: y + r * Math.sin(theta),\n  };\n}\nfunction pathArc(ctx, element) {\n  const {x, y, startAngle, endAngle, pixelMargin} = element;\n  const outerRadius = Math.max(element.outerRadius - pixelMargin, 0);\n  const innerRadius = element.innerRadius + pixelMargin;\n  const {outerStart, outerEnd, innerStart, innerEnd} = parseBorderRadius$1(element, innerRadius, outerRadius, endAngle - startAngle);\n  const outerStartAdjustedRadius = outerRadius - outerStart;\n  const outerEndAdjustedRadius = outerRadius - outerEnd;\n  const outerStartAdjustedAngle = startAngle + outerStart / outerStartAdjustedRadius;\n  const outerEndAdjustedAngle = endAngle - outerEnd / outerEndAdjustedRadius;\n  const innerStartAdjustedRadius = innerRadius + innerStart;\n  const innerEndAdjustedRadius = innerRadius + innerEnd;\n  const innerStartAdjustedAngle = startAngle + innerStart / innerStartAdjustedRadius;\n  const innerEndAdjustedAngle = endAngle - innerEnd / innerEndAdjustedRadius;\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, outerStartAdjustedAngle, outerEndAdjustedAngle);\n  if (outerEnd > 0) {\n    const pCenter = rThetaToXY(outerEndAdjustedRadius, outerEndAdjustedAngle, x, y);\n    ctx.arc(pCenter.x, pCenter.y, outerEnd, outerEndAdjustedAngle, endAngle + HALF_PI);\n  }\n  const p4 = rThetaToXY(innerEndAdjustedRadius, endAngle, x, y);\n  ctx.lineTo(p4.x, p4.y);\n  if (innerEnd > 0) {\n    const pCenter = rThetaToXY(innerEndAdjustedRadius, innerEndAdjustedAngle, x, y);\n    ctx.arc(pCenter.x, pCenter.y, innerEnd, endAngle + HALF_PI, innerEndAdjustedAngle + Math.PI);\n  }\n  ctx.arc(x, y, innerRadius, endAngle - (innerEnd / innerRadius), startAngle + (innerStart / innerRadius), true);\n  if (innerStart > 0) {\n    const pCenter = rThetaToXY(innerStartAdjustedRadius, innerStartAdjustedAngle, x, y);\n    ctx.arc(pCenter.x, pCenter.y, innerStart, innerStartAdjustedAngle + Math.PI, startAngle - HALF_PI);\n  }\n  const p8 = rThetaToXY(outerStartAdjustedRadius, startAngle, x, y);\n  ctx.lineTo(p8.x, p8.y);\n  if (outerStart > 0) {\n    const pCenter = rThetaToXY(outerStartAdjustedRadius, outerStartAdjustedAngle, x, y);\n    ctx.arc(pCenter.x, pCenter.y, outerStart, startAngle - HALF_PI, outerStartAdjustedAngle);\n  }\n  ctx.closePath();\n}\nfunction drawArc(ctx, element) {\n  if (element.fullCircles) {\n    element.endAngle = element.startAngle + TAU;\n    pathArc(ctx, element);\n    for (let i = 0; i < element.fullCircles; ++i) {\n      ctx.fill();\n    }\n  }\n  if (!isNaN(element.circumference)) {\n    element.endAngle = element.startAngle + element.circumference % TAU;\n  }\n  pathArc(ctx, element);\n  ctx.fill();\n}\nfunction drawFullCircleBorders(ctx, element, inner) {\n  const {x, y, startAngle, endAngle, pixelMargin} = element;\n  const outerRadius = Math.max(element.outerRadius - pixelMargin, 0);\n  const innerRadius = element.innerRadius + pixelMargin;\n  let i;\n  if (inner) {\n    element.endAngle = element.startAngle + TAU;\n    clipArc(ctx, element);\n    element.endAngle = endAngle;\n    if (element.endAngle === element.startAngle) {\n      element.endAngle += TAU;\n      element.fullCircles--;\n    }\n  }\n  ctx.beginPath();\n  ctx.arc(x, y, innerRadius, startAngle + TAU, startAngle, true);\n  for (i = 0; i < element.fullCircles; ++i) {\n    ctx.stroke();\n  }\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, startAngle, startAngle + TAU);\n  for (i = 0; i < element.fullCircles; ++i) {\n    ctx.stroke();\n  }\n}\nfunction drawBorder(ctx, element) {\n  const {options} = element;\n  const inner = options.borderAlign === 'inner';\n  if (!options.borderWidth) {\n    return;\n  }\n  if (inner) {\n    ctx.lineWidth = options.borderWidth * 2;\n    ctx.lineJoin = 'round';\n  } else {\n    ctx.lineWidth = options.borderWidth;\n    ctx.lineJoin = 'bevel';\n  }\n  if (element.fullCircles) {\n    drawFullCircleBorders(ctx, element, inner);\n  }\n  if (inner) {\n    clipArc(ctx, element);\n  }\n  pathArc(ctx, element);\n  ctx.stroke();\n}\nclass ArcElement extends Element {\n  constructor(cfg) {\n    super();\n    this.options = undefined;\n    this.circumference = undefined;\n    this.startAngle = undefined;\n    this.endAngle = undefined;\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n    this.pixelMargin = 0;\n    this.fullCircles = 0;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  inRange(chartX, chartY, useFinalPosition) {\n    const point = this.getProps(['x', 'y'], useFinalPosition);\n    const {angle, distance} = getAngleFromPoint(point, {x: chartX, y: chartY});\n    const {startAngle, endAngle, innerRadius, outerRadius, circumference} = this.getProps([\n      'startAngle',\n      'endAngle',\n      'innerRadius',\n      'outerRadius',\n      'circumference'\n    ], useFinalPosition);\n    const betweenAngles = circumference >= TAU || _angleBetween(angle, startAngle, endAngle);\n    const withinRadius = (distance >= innerRadius && distance <= outerRadius);\n    return (betweenAngles && withinRadius);\n  }\n  getCenterPoint(useFinalPosition) {\n    const {x, y, startAngle, endAngle, innerRadius, outerRadius} = this.getProps([\n      'x',\n      'y',\n      'startAngle',\n      'endAngle',\n      'innerRadius',\n      'outerRadius'\n    ], useFinalPosition);\n    const halfAngle = (startAngle + endAngle) / 2;\n    const halfRadius = (innerRadius + outerRadius) / 2;\n    return {\n      x: x + Math.cos(halfAngle) * halfRadius,\n      y: y + Math.sin(halfAngle) * halfRadius\n    };\n  }\n  tooltipPosition(useFinalPosition) {\n    return this.getCenterPoint(useFinalPosition);\n  }\n  draw(ctx) {\n    const me = this;\n    const options = me.options;\n    const offset = options.offset || 0;\n    me.pixelMargin = (options.borderAlign === 'inner') ? 0.33 : 0;\n    me.fullCircles = Math.floor(me.circumference / TAU);\n    if (me.circumference === 0 || me.innerRadius < 0 || me.outerRadius < 0) {\n      return;\n    }\n    ctx.save();\n    if (offset && me.circumference < TAU) {\n      const halfAngle = (me.startAngle + me.endAngle) / 2;\n      ctx.translate(Math.cos(halfAngle) * offset, Math.sin(halfAngle) * offset);\n    }\n    ctx.fillStyle = options.backgroundColor;\n    ctx.strokeStyle = options.borderColor;\n    drawArc(ctx, me);\n    drawBorder(ctx, me);\n    ctx.restore();\n  }\n}\nArcElement.id = 'arc';\nArcElement.defaults = {\n  borderAlign: 'center',\n  borderColor: '#fff',\n  borderRadius: 0,\n  borderWidth: 2,\n  offset: 0,\n  angle: undefined,\n};\nArcElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor'\n};\n\nfunction setStyle(ctx, options, style = options) {\n  ctx.lineCap = valueOrDefault(style.borderCapStyle, options.borderCapStyle);\n  ctx.setLineDash(valueOrDefault(style.borderDash, options.borderDash));\n  ctx.lineDashOffset = valueOrDefault(style.borderDashOffset, options.borderDashOffset);\n  ctx.lineJoin = valueOrDefault(style.borderJoinStyle, options.borderJoinStyle);\n  ctx.lineWidth = valueOrDefault(style.borderWidth, options.borderWidth);\n  ctx.strokeStyle = valueOrDefault(style.borderColor, options.borderColor);\n}\nfunction lineTo(ctx, previous, target) {\n  ctx.lineTo(target.x, target.y);\n}\nfunction getLineMethod(options) {\n  if (options.stepped) {\n    return _steppedLineTo;\n  }\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierCurveTo;\n  }\n  return lineTo;\n}\nfunction pathVars(points, segment, params = {}) {\n  const count = points.length;\n  const {start: paramsStart = 0, end: paramsEnd = count - 1} = params;\n  const {start: segmentStart, end: segmentEnd} = segment;\n  const start = Math.max(paramsStart, segmentStart);\n  const end = Math.min(paramsEnd, segmentEnd);\n  const outside = paramsStart < segmentStart && paramsEnd < segmentStart || paramsStart > segmentEnd && paramsEnd > segmentEnd;\n  return {\n    count,\n    start,\n    loop: segment.loop,\n    ilen: end < start && !outside ? count + end - start : end - start\n  };\n}\nfunction pathSegment(ctx, line, segment, params) {\n  const {points, options} = line;\n  const {count, start, loop, ilen} = pathVars(points, segment, params);\n  const lineMethod = getLineMethod(options);\n  let {move = true, reverse} = params || {};\n  let i, point, prev;\n  for (i = 0; i <= ilen; ++i) {\n    point = points[(start + (reverse ? ilen - i : i)) % count];\n    if (point.skip) {\n      continue;\n    } else if (move) {\n      ctx.moveTo(point.x, point.y);\n      move = false;\n    } else {\n      lineMethod(ctx, prev, point, reverse, options.stepped);\n    }\n    prev = point;\n  }\n  if (loop) {\n    point = points[(start + (reverse ? ilen : 0)) % count];\n    lineMethod(ctx, prev, point, reverse, options.stepped);\n  }\n  return !!loop;\n}\nfunction fastPathSegment(ctx, line, segment, params) {\n  const points = line.points;\n  const {count, start, ilen} = pathVars(points, segment, params);\n  const {move = true, reverse} = params || {};\n  let avgX = 0;\n  let countX = 0;\n  let i, point, prevX, minY, maxY, lastY;\n  const pointIndex = (index) => (start + (reverse ? ilen - index : index)) % count;\n  const drawX = () => {\n    if (minY !== maxY) {\n      ctx.lineTo(avgX, maxY);\n      ctx.lineTo(avgX, minY);\n      ctx.lineTo(avgX, lastY);\n    }\n  };\n  if (move) {\n    point = points[pointIndex(0)];\n    ctx.moveTo(point.x, point.y);\n  }\n  for (i = 0; i <= ilen; ++i) {\n    point = points[pointIndex(i)];\n    if (point.skip) {\n      continue;\n    }\n    const x = point.x;\n    const y = point.y;\n    const truncX = x | 0;\n    if (truncX === prevX) {\n      if (y < minY) {\n        minY = y;\n      } else if (y > maxY) {\n        maxY = y;\n      }\n      avgX = (countX * avgX + x) / ++countX;\n    } else {\n      drawX();\n      ctx.lineTo(x, y);\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n    }\n    lastY = y;\n  }\n  drawX();\n}\nfunction _getSegmentMethod(line) {\n  const opts = line.options;\n  const borderDash = opts.borderDash && opts.borderDash.length;\n  const useFastPath = !line._decimated && !line._loop && !opts.tension && opts.cubicInterpolationMode !== 'monotone' && !opts.stepped && !borderDash;\n  return useFastPath ? fastPathSegment : pathSegment;\n}\nfunction _getInterpolationMethod(options) {\n  if (options.stepped) {\n    return _steppedInterpolation;\n  }\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierInterpolation;\n  }\n  return _pointInLine;\n}\nfunction strokePathWithCache(ctx, line, start, count) {\n  let path = line._path;\n  if (!path) {\n    path = line._path = new Path2D();\n    if (line.path(path, start, count)) {\n      path.closePath();\n    }\n  }\n  setStyle(ctx, line.options);\n  ctx.stroke(path);\n}\nfunction strokePathDirect(ctx, line, start, count) {\n  const {segments, options} = line;\n  const segmentMethod = _getSegmentMethod(line);\n  for (const segment of segments) {\n    setStyle(ctx, options, segment.style);\n    ctx.beginPath();\n    if (segmentMethod(ctx, line, segment, {start, end: start + count - 1})) {\n      ctx.closePath();\n    }\n    ctx.stroke();\n  }\n}\nconst usePath2D = typeof Path2D === 'function';\nfunction draw(ctx, line, start, count) {\n  if (usePath2D && line.segments.length === 1) {\n    strokePathWithCache(ctx, line, start, count);\n  } else {\n    strokePathDirect(ctx, line, start, count);\n  }\n}\nclass LineElement extends Element {\n  constructor(cfg) {\n    super();\n    this.animated = true;\n    this.options = undefined;\n    this._loop = undefined;\n    this._fullLoop = undefined;\n    this._path = undefined;\n    this._points = undefined;\n    this._segments = undefined;\n    this._decimated = false;\n    this._pointsUpdated = false;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  updateControlPoints(chartArea) {\n    const me = this;\n    const options = me.options;\n    if ((options.tension || options.cubicInterpolationMode === 'monotone') && !options.stepped && !me._pointsUpdated) {\n      const loop = options.spanGaps ? me._loop : me._fullLoop;\n      _updateBezierControlPoints(me._points, options, chartArea, loop);\n      me._pointsUpdated = true;\n    }\n  }\n  set points(points) {\n    const me = this;\n    me._points = points;\n    delete me._segments;\n    delete me._path;\n    me._pointsUpdated = false;\n  }\n  get points() {\n    return this._points;\n  }\n  get segments() {\n    return this._segments || (this._segments = _computeSegments(this, this.options.segment));\n  }\n  first() {\n    const segments = this.segments;\n    const points = this.points;\n    return segments.length && points[segments[0].start];\n  }\n  last() {\n    const segments = this.segments;\n    const points = this.points;\n    const count = segments.length;\n    return count && points[segments[count - 1].end];\n  }\n  interpolate(point, property) {\n    const me = this;\n    const options = me.options;\n    const value = point[property];\n    const points = me.points;\n    const segments = _boundSegments(me, {property, start: value, end: value});\n    if (!segments.length) {\n      return;\n    }\n    const result = [];\n    const _interpolate = _getInterpolationMethod(options);\n    let i, ilen;\n    for (i = 0, ilen = segments.length; i < ilen; ++i) {\n      const {start, end} = segments[i];\n      const p1 = points[start];\n      const p2 = points[end];\n      if (p1 === p2) {\n        result.push(p1);\n        continue;\n      }\n      const t = Math.abs((value - p1[property]) / (p2[property] - p1[property]));\n      const interpolated = _interpolate(p1, p2, t, options.stepped);\n      interpolated[property] = point[property];\n      result.push(interpolated);\n    }\n    return result.length === 1 ? result[0] : result;\n  }\n  pathSegment(ctx, segment, params) {\n    const segmentMethod = _getSegmentMethod(this);\n    return segmentMethod(ctx, this, segment, params);\n  }\n  path(ctx, start, count) {\n    const me = this;\n    const segments = me.segments;\n    const segmentMethod = _getSegmentMethod(me);\n    let loop = me._loop;\n    start = start || 0;\n    count = count || (me.points.length - start);\n    for (const segment of segments) {\n      loop &= segmentMethod(ctx, me, segment, {start, end: start + count - 1});\n    }\n    return !!loop;\n  }\n  draw(ctx, chartArea, start, count) {\n    const me = this;\n    const options = me.options || {};\n    const points = me.points || [];\n    if (!points.length || !options.borderWidth) {\n      return;\n    }\n    ctx.save();\n    draw(ctx, me, start, count);\n    ctx.restore();\n    if (me.animated) {\n      me._pointsUpdated = false;\n      me._path = undefined;\n    }\n  }\n}\nLineElement.id = 'line';\nLineElement.defaults = {\n  borderCapStyle: 'butt',\n  borderDash: [],\n  borderDashOffset: 0,\n  borderJoinStyle: 'miter',\n  borderWidth: 3,\n  capBezierPoints: true,\n  cubicInterpolationMode: 'default',\n  fill: false,\n  spanGaps: false,\n  stepped: false,\n  tension: 0,\n};\nLineElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\nLineElement.descriptors = {\n  _scriptable: true,\n  _indexable: (name) => name !== 'borderDash' && name !== 'fill',\n};\n\nfunction inRange$1(el, pos, axis, useFinalPosition) {\n  const options = el.options;\n  const {[axis]: value} = el.getProps([axis], useFinalPosition);\n  return (Math.abs(pos - value) < options.radius + options.hitRadius);\n}\nclass PointElement extends Element {\n  constructor(cfg) {\n    super();\n    this.options = undefined;\n    this.parsed = undefined;\n    this.skip = undefined;\n    this.stop = undefined;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  inRange(mouseX, mouseY, useFinalPosition) {\n    const options = this.options;\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return ((Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2)) < Math.pow(options.hitRadius + options.radius, 2));\n  }\n  inXRange(mouseX, useFinalPosition) {\n    return inRange$1(this, mouseX, 'x', useFinalPosition);\n  }\n  inYRange(mouseY, useFinalPosition) {\n    return inRange$1(this, mouseY, 'y', useFinalPosition);\n  }\n  getCenterPoint(useFinalPosition) {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y};\n  }\n  size(options) {\n    options = options || this.options || {};\n    let radius = options.radius || 0;\n    radius = Math.max(radius, radius && options.hoverRadius || 0);\n    const borderWidth = radius && options.borderWidth || 0;\n    return (radius + borderWidth) * 2;\n  }\n  draw(ctx) {\n    const me = this;\n    const options = me.options;\n    if (me.skip || options.radius < 0.1) {\n      return;\n    }\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n    ctx.fillStyle = options.backgroundColor;\n    drawPoint(ctx, options, me.x, me.y);\n  }\n  getRange() {\n    const options = this.options || {};\n    return options.radius + options.hitRadius;\n  }\n}\nPointElement.id = 'point';\nPointElement.defaults = {\n  borderWidth: 1,\n  hitRadius: 1,\n  hoverBorderWidth: 1,\n  hoverRadius: 4,\n  pointStyle: 'circle',\n  radius: 3,\n  rotation: 0\n};\nPointElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\n\nfunction getBarBounds(bar, useFinalPosition) {\n  const {x, y, base, width, height} = bar.getProps(['x', 'y', 'base', 'width', 'height'], useFinalPosition);\n  let left, right, top, bottom, half;\n  if (bar.horizontal) {\n    half = height / 2;\n    left = Math.min(x, base);\n    right = Math.max(x, base);\n    top = y - half;\n    bottom = y + half;\n  } else {\n    half = width / 2;\n    left = x - half;\n    right = x + half;\n    top = Math.min(y, base);\n    bottom = Math.max(y, base);\n  }\n  return {left, top, right, bottom};\n}\nfunction parseBorderSkipped(bar) {\n  let edge = bar.options.borderSkipped;\n  const res = {};\n  if (!edge) {\n    return res;\n  }\n  edge = bar.horizontal\n    ? parseEdge(edge, 'left', 'right', bar.base > bar.x)\n    : parseEdge(edge, 'bottom', 'top', bar.base < bar.y);\n  res[edge] = true;\n  return res;\n}\nfunction parseEdge(edge, a, b, reverse) {\n  if (reverse) {\n    edge = swap(edge, a, b);\n    edge = startEnd(edge, b, a);\n  } else {\n    edge = startEnd(edge, a, b);\n  }\n  return edge;\n}\nfunction swap(orig, v1, v2) {\n  return orig === v1 ? v2 : orig === v2 ? v1 : orig;\n}\nfunction startEnd(v, start, end) {\n  return v === 'start' ? start : v === 'end' ? end : v;\n}\nfunction skipOrLimit(skip, value, min, max) {\n  return skip ? 0 : Math.max(Math.min(value, max), min);\n}\nfunction parseBorderWidth(bar, maxW, maxH) {\n  const value = bar.options.borderWidth;\n  const skip = parseBorderSkipped(bar);\n  const o = toTRBL(value);\n  return {\n    t: skipOrLimit(skip.top, o.top, 0, maxH),\n    r: skipOrLimit(skip.right, o.right, 0, maxW),\n    b: skipOrLimit(skip.bottom, o.bottom, 0, maxH),\n    l: skipOrLimit(skip.left, o.left, 0, maxW)\n  };\n}\nfunction parseBorderRadius(bar, maxW, maxH) {\n  const {enableBorderRadius} = bar.getProps(['enableBorderRadius']);\n  const value = bar.options.borderRadius;\n  const o = toTRBLCorners(value);\n  const maxR = Math.min(maxW, maxH);\n  const skip = parseBorderSkipped(bar);\n  const enableBorder = enableBorderRadius || isObject(value);\n  return {\n    topLeft: skipOrLimit(!enableBorder || skip.top || skip.left, o.topLeft, 0, maxR),\n    topRight: skipOrLimit(!enableBorder || skip.top || skip.right, o.topRight, 0, maxR),\n    bottomLeft: skipOrLimit(!enableBorder || skip.bottom || skip.left, o.bottomLeft, 0, maxR),\n    bottomRight: skipOrLimit(!enableBorder || skip.bottom || skip.right, o.bottomRight, 0, maxR)\n  };\n}\nfunction boundingRects(bar) {\n  const bounds = getBarBounds(bar);\n  const width = bounds.right - bounds.left;\n  const height = bounds.bottom - bounds.top;\n  const border = parseBorderWidth(bar, width / 2, height / 2);\n  const radius = parseBorderRadius(bar, width / 2, height / 2);\n  return {\n    outer: {\n      x: bounds.left,\n      y: bounds.top,\n      w: width,\n      h: height,\n      radius\n    },\n    inner: {\n      x: bounds.left + border.l,\n      y: bounds.top + border.t,\n      w: width - border.l - border.r,\n      h: height - border.t - border.b,\n      radius: {\n        topLeft: Math.max(0, radius.topLeft - Math.max(border.t, border.l)),\n        topRight: Math.max(0, radius.topRight - Math.max(border.t, border.r)),\n        bottomLeft: Math.max(0, radius.bottomLeft - Math.max(border.b, border.l)),\n        bottomRight: Math.max(0, radius.bottomRight - Math.max(border.b, border.r)),\n      }\n    }\n  };\n}\nfunction inRange(bar, x, y, useFinalPosition) {\n  const skipX = x === null;\n  const skipY = y === null;\n  const skipBoth = skipX && skipY;\n  const bounds = bar && !skipBoth && getBarBounds(bar, useFinalPosition);\n  return bounds\n\t\t&& (skipX || x >= bounds.left && x <= bounds.right)\n\t\t&& (skipY || y >= bounds.top && y <= bounds.bottom);\n}\nfunction hasRadius(radius) {\n  return radius.topLeft || radius.topRight || radius.bottomLeft || radius.bottomRight;\n}\nfunction addNormalRectPath(ctx, rect) {\n  ctx.rect(rect.x, rect.y, rect.w, rect.h);\n}\nclass BarElement extends Element {\n  constructor(cfg) {\n    super();\n    this.options = undefined;\n    this.horizontal = undefined;\n    this.base = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  draw(ctx) {\n    const options = this.options;\n    const {inner, outer} = boundingRects(this);\n    const addRectPath = hasRadius(outer.radius) ? addRoundedRectPath : addNormalRectPath;\n    ctx.save();\n    if (outer.w !== inner.w || outer.h !== inner.h) {\n      ctx.beginPath();\n      addRectPath(ctx, outer);\n      ctx.clip();\n      addRectPath(ctx, inner);\n      ctx.fillStyle = options.borderColor;\n      ctx.fill('evenodd');\n    }\n    ctx.beginPath();\n    addRectPath(ctx, inner);\n    ctx.fillStyle = options.backgroundColor;\n    ctx.fill();\n    ctx.restore();\n  }\n  inRange(mouseX, mouseY, useFinalPosition) {\n    return inRange(this, mouseX, mouseY, useFinalPosition);\n  }\n  inXRange(mouseX, useFinalPosition) {\n    return inRange(this, mouseX, null, useFinalPosition);\n  }\n  inYRange(mouseY, useFinalPosition) {\n    return inRange(this, null, mouseY, useFinalPosition);\n  }\n  getCenterPoint(useFinalPosition) {\n    const {x, y, base, horizontal} = this.getProps(['x', 'y', 'base', 'horizontal'], useFinalPosition);\n    return {\n      x: horizontal ? (x + base) / 2 : x,\n      y: horizontal ? y : (y + base) / 2\n    };\n  }\n  getRange(axis) {\n    return axis === 'x' ? this.width / 2 : this.height / 2;\n  }\n}\nBarElement.id = 'bar';\nBarElement.defaults = {\n  borderSkipped: 'start',\n  borderWidth: 0,\n  borderRadius: 0,\n  enableBorderRadius: true,\n  pointStyle: undefined\n};\nBarElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\n\nvar elements = /*#__PURE__*/Object.freeze({\n__proto__: null,\nArcElement: ArcElement,\nLineElement: LineElement,\nPointElement: PointElement,\nBarElement: BarElement\n});\n\nfunction lttbDecimation(data, start, count, availableWidth, options) {\n  const samples = options.samples || availableWidth;\n  if (samples >= count) {\n    return data.slice(start, start + count);\n  }\n  const decimated = [];\n  const bucketWidth = (count - 2) / (samples - 2);\n  let sampledIndex = 0;\n  const endIndex = start + count - 1;\n  let a = start;\n  let i, maxAreaPoint, maxArea, area, nextA;\n  decimated[sampledIndex++] = data[a];\n  for (i = 0; i < samples - 2; i++) {\n    let avgX = 0;\n    let avgY = 0;\n    let j;\n    const avgRangeStart = Math.floor((i + 1) * bucketWidth) + 1 + start;\n    const avgRangeEnd = Math.min(Math.floor((i + 2) * bucketWidth) + 1, count) + start;\n    const avgRangeLength = avgRangeEnd - avgRangeStart;\n    for (j = avgRangeStart; j < avgRangeEnd; j++) {\n      avgX += data[j].x;\n      avgY += data[j].y;\n    }\n    avgX /= avgRangeLength;\n    avgY /= avgRangeLength;\n    const rangeOffs = Math.floor(i * bucketWidth) + 1 + start;\n    const rangeTo = Math.floor((i + 1) * bucketWidth) + 1 + start;\n    const {x: pointAx, y: pointAy} = data[a];\n    maxArea = area = -1;\n    for (j = rangeOffs; j < rangeTo; j++) {\n      area = 0.5 * Math.abs(\n        (pointAx - avgX) * (data[j].y - pointAy) -\n        (pointAx - data[j].x) * (avgY - pointAy)\n      );\n      if (area > maxArea) {\n        maxArea = area;\n        maxAreaPoint = data[j];\n        nextA = j;\n      }\n    }\n    decimated[sampledIndex++] = maxAreaPoint;\n    a = nextA;\n  }\n  decimated[sampledIndex++] = data[endIndex];\n  return decimated;\n}\nfunction minMaxDecimation(data, start, count, availableWidth) {\n  let avgX = 0;\n  let countX = 0;\n  let i, point, x, y, prevX, minIndex, maxIndex, startIndex, minY, maxY;\n  const decimated = [];\n  const endIndex = start + count - 1;\n  const xMin = data[start].x;\n  const xMax = data[endIndex].x;\n  const dx = xMax - xMin;\n  for (i = start; i < start + count; ++i) {\n    point = data[i];\n    x = (point.x - xMin) / dx * availableWidth;\n    y = point.y;\n    const truncX = x | 0;\n    if (truncX === prevX) {\n      if (y < minY) {\n        minY = y;\n        minIndex = i;\n      } else if (y > maxY) {\n        maxY = y;\n        maxIndex = i;\n      }\n      avgX = (countX * avgX + point.x) / ++countX;\n    } else {\n      const lastIndex = i - 1;\n      if (!isNullOrUndef(minIndex) && !isNullOrUndef(maxIndex)) {\n        const intermediateIndex1 = Math.min(minIndex, maxIndex);\n        const intermediateIndex2 = Math.max(minIndex, maxIndex);\n        if (intermediateIndex1 !== startIndex && intermediateIndex1 !== lastIndex) {\n          decimated.push({\n            ...data[intermediateIndex1],\n            x: avgX,\n          });\n        }\n        if (intermediateIndex2 !== startIndex && intermediateIndex2 !== lastIndex) {\n          decimated.push({\n            ...data[intermediateIndex2],\n            x: avgX\n          });\n        }\n      }\n      if (i > 0 && lastIndex !== startIndex) {\n        decimated.push(data[lastIndex]);\n      }\n      decimated.push(point);\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n      minIndex = maxIndex = startIndex = i;\n    }\n  }\n  return decimated;\n}\nfunction cleanDecimatedDataset(dataset) {\n  if (dataset._decimated) {\n    const data = dataset._data;\n    delete dataset._decimated;\n    delete dataset._data;\n    Object.defineProperty(dataset, 'data', {value: data});\n  }\n}\nfunction cleanDecimatedData(chart) {\n  chart.data.datasets.forEach((dataset) => {\n    cleanDecimatedDataset(dataset);\n  });\n}\nfunction getStartAndCountOfVisiblePointsSimplified(meta, points) {\n  const pointCount = points.length;\n  let start = 0;\n  let count;\n  const {iScale} = meta;\n  const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\n  if (minDefined) {\n    start = _limitValue(_lookupByKey(points, iScale.axis, min).lo, 0, pointCount - 1);\n  }\n  if (maxDefined) {\n    count = _limitValue(_lookupByKey(points, iScale.axis, max).hi + 1, start, pointCount) - start;\n  } else {\n    count = pointCount - start;\n  }\n  return {start, count};\n}\nvar plugin_decimation = {\n  id: 'decimation',\n  defaults: {\n    algorithm: 'min-max',\n    enabled: false,\n  },\n  beforeElementsUpdate: (chart, args, options) => {\n    if (!options.enabled) {\n      cleanDecimatedData(chart);\n      return;\n    }\n    const availableWidth = chart.width;\n    chart.data.datasets.forEach((dataset, datasetIndex) => {\n      const {_data, indexAxis} = dataset;\n      const meta = chart.getDatasetMeta(datasetIndex);\n      const data = _data || dataset.data;\n      if (resolve([indexAxis, chart.options.indexAxis]) === 'y') {\n        return;\n      }\n      if (meta.type !== 'line') {\n        return;\n      }\n      const xAxis = chart.scales[meta.xAxisID];\n      if (xAxis.type !== 'linear' && xAxis.type !== 'time') {\n        return;\n      }\n      if (chart.options.parsing) {\n        return;\n      }\n      let {start, count} = getStartAndCountOfVisiblePointsSimplified(meta, data);\n      if (count <= 4 * availableWidth) {\n        cleanDecimatedDataset(dataset);\n        return;\n      }\n      if (isNullOrUndef(_data)) {\n        dataset._data = data;\n        delete dataset.data;\n        Object.defineProperty(dataset, 'data', {\n          configurable: true,\n          enumerable: true,\n          get: function() {\n            return this._decimated;\n          },\n          set: function(d) {\n            this._data = d;\n          }\n        });\n      }\n      let decimated;\n      switch (options.algorithm) {\n      case 'lttb':\n        decimated = lttbDecimation(data, start, count, availableWidth, options);\n        break;\n      case 'min-max':\n        decimated = minMaxDecimation(data, start, count, availableWidth);\n        break;\n      default:\n        throw new Error(`Unsupported decimation algorithm '${options.algorithm}'`);\n      }\n      dataset._decimated = decimated;\n    });\n  },\n  destroy(chart) {\n    cleanDecimatedData(chart);\n  }\n};\n\nfunction getLineByIndex(chart, index) {\n  const meta = chart.getDatasetMeta(index);\n  const visible = meta && chart.isDatasetVisible(index);\n  return visible ? meta.dataset : null;\n}\nfunction parseFillOption(line) {\n  const options = line.options;\n  const fillOption = options.fill;\n  let fill = valueOrDefault(fillOption && fillOption.target, fillOption);\n  if (fill === undefined) {\n    fill = !!options.backgroundColor;\n  }\n  if (fill === false || fill === null) {\n    return false;\n  }\n  if (fill === true) {\n    return 'origin';\n  }\n  return fill;\n}\nfunction decodeFill(line, index, count) {\n  const fill = parseFillOption(line);\n  if (isObject(fill)) {\n    return isNaN(fill.value) ? false : fill;\n  }\n  let target = parseFloat(fill);\n  if (isNumberFinite(target) && Math.floor(target) === target) {\n    if (fill[0] === '-' || fill[0] === '+') {\n      target = index + target;\n    }\n    if (target === index || target < 0 || target >= count) {\n      return false;\n    }\n    return target;\n  }\n  return ['origin', 'start', 'end', 'stack'].indexOf(fill) >= 0 && fill;\n}\nfunction computeLinearBoundary(source) {\n  const {scale = {}, fill} = source;\n  let target = null;\n  let horizontal;\n  if (fill === 'start') {\n    target = scale.bottom;\n  } else if (fill === 'end') {\n    target = scale.top;\n  } else if (isObject(fill)) {\n    target = scale.getPixelForValue(fill.value);\n  } else if (scale.getBasePixel) {\n    target = scale.getBasePixel();\n  }\n  if (isNumberFinite(target)) {\n    horizontal = scale.isHorizontal();\n    return {\n      x: horizontal ? target : null,\n      y: horizontal ? null : target\n    };\n  }\n  return null;\n}\nclass simpleArc {\n  constructor(opts) {\n    this.x = opts.x;\n    this.y = opts.y;\n    this.radius = opts.radius;\n  }\n  pathSegment(ctx, bounds, opts) {\n    const {x, y, radius} = this;\n    bounds = bounds || {start: 0, end: TAU};\n    ctx.arc(x, y, radius, bounds.end, bounds.start, true);\n    return !opts.bounds;\n  }\n  interpolate(point) {\n    const {x, y, radius} = this;\n    const angle = point.angle;\n    return {\n      x: x + Math.cos(angle) * radius,\n      y: y + Math.sin(angle) * radius,\n      angle\n    };\n  }\n}\nfunction computeCircularBoundary(source) {\n  const {scale, fill} = source;\n  const options = scale.options;\n  const length = scale.getLabels().length;\n  const target = [];\n  const start = options.reverse ? scale.max : scale.min;\n  const end = options.reverse ? scale.min : scale.max;\n  let i, center, value;\n  if (fill === 'start') {\n    value = start;\n  } else if (fill === 'end') {\n    value = end;\n  } else if (isObject(fill)) {\n    value = fill.value;\n  } else {\n    value = scale.getBaseValue();\n  }\n  if (options.grid.circular) {\n    center = scale.getPointPositionForValue(0, start);\n    return new simpleArc({\n      x: center.x,\n      y: center.y,\n      radius: scale.getDistanceFromCenterForValue(value)\n    });\n  }\n  for (i = 0; i < length; ++i) {\n    target.push(scale.getPointPositionForValue(i, value));\n  }\n  return target;\n}\nfunction computeBoundary(source) {\n  const scale = source.scale || {};\n  if (scale.getPointPositionForValue) {\n    return computeCircularBoundary(source);\n  }\n  return computeLinearBoundary(source);\n}\nfunction pointsFromSegments(boundary, line) {\n  const {x = null, y = null} = boundary || {};\n  const linePoints = line.points;\n  const points = [];\n  line.segments.forEach((segment) => {\n    const first = linePoints[segment.start];\n    const last = linePoints[segment.end];\n    if (y !== null) {\n      points.push({x: first.x, y});\n      points.push({x: last.x, y});\n    } else if (x !== null) {\n      points.push({x, y: first.y});\n      points.push({x, y: last.y});\n    }\n  });\n  return points;\n}\nfunction buildStackLine(source) {\n  const {chart, scale, index, line} = source;\n  const points = [];\n  const segments = line.segments;\n  const sourcePoints = line.points;\n  const linesBelow = getLinesBelow(chart, index);\n  linesBelow.push(createBoundaryLine({x: null, y: scale.bottom}, line));\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    for (let j = segment.start; j <= segment.end; j++) {\n      addPointsBelow(points, sourcePoints[j], linesBelow);\n    }\n  }\n  return new LineElement({points, options: {}});\n}\nconst isLineAndNotInHideAnimation = (meta) => meta.type === 'line' && !meta.hidden;\nfunction getLinesBelow(chart, index) {\n  const below = [];\n  const metas = chart.getSortedVisibleDatasetMetas();\n  for (let i = 0; i < metas.length; i++) {\n    const meta = metas[i];\n    if (meta.index === index) {\n      break;\n    }\n    if (isLineAndNotInHideAnimation(meta)) {\n      below.unshift(meta.dataset);\n    }\n  }\n  return below;\n}\nfunction addPointsBelow(points, sourcePoint, linesBelow) {\n  const postponed = [];\n  for (let j = 0; j < linesBelow.length; j++) {\n    const line = linesBelow[j];\n    const {first, last, point} = findPoint(line, sourcePoint, 'x');\n    if (!point || (first && last)) {\n      continue;\n    }\n    if (first) {\n      postponed.unshift(point);\n    } else {\n      points.push(point);\n      if (!last) {\n        break;\n      }\n    }\n  }\n  points.push(...postponed);\n}\nfunction findPoint(line, sourcePoint, property) {\n  const point = line.interpolate(sourcePoint, property);\n  if (!point) {\n    return {};\n  }\n  const pointValue = point[property];\n  const segments = line.segments;\n  const linePoints = line.points;\n  let first = false;\n  let last = false;\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    const firstValue = linePoints[segment.start][property];\n    const lastValue = linePoints[segment.end][property];\n    if (pointValue >= firstValue && pointValue <= lastValue) {\n      first = pointValue === firstValue;\n      last = pointValue === lastValue;\n      break;\n    }\n  }\n  return {first, last, point};\n}\nfunction getTarget(source) {\n  const {chart, fill, line} = source;\n  if (isNumberFinite(fill)) {\n    return getLineByIndex(chart, fill);\n  }\n  if (fill === 'stack') {\n    return buildStackLine(source);\n  }\n  const boundary = computeBoundary(source);\n  if (boundary instanceof simpleArc) {\n    return boundary;\n  }\n  return createBoundaryLine(boundary, line);\n}\nfunction createBoundaryLine(boundary, line) {\n  let points = [];\n  let _loop = false;\n  if (isArray(boundary)) {\n    _loop = true;\n    points = boundary;\n  } else {\n    points = pointsFromSegments(boundary, line);\n  }\n  return points.length ? new LineElement({\n    points,\n    options: {tension: 0},\n    _loop,\n    _fullLoop: _loop\n  }) : null;\n}\nfunction resolveTarget(sources, index, propagate) {\n  const source = sources[index];\n  let fill = source.fill;\n  const visited = [index];\n  let target;\n  if (!propagate) {\n    return fill;\n  }\n  while (fill !== false && visited.indexOf(fill) === -1) {\n    if (!isNumberFinite(fill)) {\n      return fill;\n    }\n    target = sources[fill];\n    if (!target) {\n      return false;\n    }\n    if (target.visible) {\n      return fill;\n    }\n    visited.push(fill);\n    fill = target.fill;\n  }\n  return false;\n}\nfunction _clip(ctx, target, clipY) {\n  ctx.beginPath();\n  target.path(ctx);\n  ctx.lineTo(target.last().x, clipY);\n  ctx.lineTo(target.first().x, clipY);\n  ctx.closePath();\n  ctx.clip();\n}\nfunction getBounds(property, first, last, loop) {\n  if (loop) {\n    return;\n  }\n  let start = first[property];\n  let end = last[property];\n  if (property === 'angle') {\n    start = _normalizeAngle(start);\n    end = _normalizeAngle(end);\n  }\n  return {property, start, end};\n}\nfunction _getEdge(a, b, prop, fn) {\n  if (a && b) {\n    return fn(a[prop], b[prop]);\n  }\n  return a ? a[prop] : b ? b[prop] : 0;\n}\nfunction _segments(line, target, property) {\n  const segments = line.segments;\n  const points = line.points;\n  const tpoints = target.points;\n  const parts = [];\n  for (const segment of segments) {\n    const bounds = getBounds(property, points[segment.start], points[segment.end], segment.loop);\n    if (!target.segments) {\n      parts.push({\n        source: segment,\n        target: bounds,\n        start: points[segment.start],\n        end: points[segment.end]\n      });\n      continue;\n    }\n    const targetSegments = _boundSegments(target, bounds);\n    for (const tgt of targetSegments) {\n      const subBounds = getBounds(property, tpoints[tgt.start], tpoints[tgt.end], tgt.loop);\n      const fillSources = _boundSegment(segment, points, subBounds);\n      for (const fillSource of fillSources) {\n        parts.push({\n          source: fillSource,\n          target: tgt,\n          start: {\n            [property]: _getEdge(bounds, subBounds, 'start', Math.max)\n          },\n          end: {\n            [property]: _getEdge(bounds, subBounds, 'end', Math.min)\n          }\n        });\n      }\n    }\n  }\n  return parts;\n}\nfunction clipBounds(ctx, scale, bounds) {\n  const {top, bottom} = scale.chart.chartArea;\n  const {property, start, end} = bounds || {};\n  if (property === 'x') {\n    ctx.beginPath();\n    ctx.rect(start, top, end - start, bottom - top);\n    ctx.clip();\n  }\n}\nfunction interpolatedLineTo(ctx, target, point, property) {\n  const interpolatedPoint = target.interpolate(point, property);\n  if (interpolatedPoint) {\n    ctx.lineTo(interpolatedPoint.x, interpolatedPoint.y);\n  }\n}\nfunction _fill(ctx, cfg) {\n  const {line, target, property, color, scale} = cfg;\n  const segments = _segments(line, target, property);\n  for (const {source: src, target: tgt, start, end} of segments) {\n    const {style: {backgroundColor = color} = {}} = src;\n    ctx.save();\n    ctx.fillStyle = backgroundColor;\n    clipBounds(ctx, scale, getBounds(property, start, end));\n    ctx.beginPath();\n    const lineLoop = !!line.pathSegment(ctx, src);\n    if (lineLoop) {\n      ctx.closePath();\n    } else {\n      interpolatedLineTo(ctx, target, end, property);\n    }\n    const targetLoop = !!target.pathSegment(ctx, tgt, {move: lineLoop, reverse: true});\n    const loop = lineLoop && targetLoop;\n    if (!loop) {\n      interpolatedLineTo(ctx, target, start, property);\n    }\n    ctx.closePath();\n    ctx.fill(loop ? 'evenodd' : 'nonzero');\n    ctx.restore();\n  }\n}\nfunction doFill(ctx, cfg) {\n  const {line, target, above, below, area, scale} = cfg;\n  const property = line._loop ? 'angle' : cfg.axis;\n  ctx.save();\n  if (property === 'x' && below !== above) {\n    _clip(ctx, target, area.top);\n    _fill(ctx, {line, target, color: above, scale, property});\n    ctx.restore();\n    ctx.save();\n    _clip(ctx, target, area.bottom);\n  }\n  _fill(ctx, {line, target, color: below, scale, property});\n  ctx.restore();\n}\nfunction drawfill(ctx, source, area) {\n  const target = getTarget(source);\n  const {line, scale, axis} = source;\n  const lineOpts = line.options;\n  const fillOption = lineOpts.fill;\n  const color = lineOpts.backgroundColor;\n  const {above = color, below = color} = fillOption || {};\n  if (target && line.points.length) {\n    clipArea(ctx, area);\n    doFill(ctx, {line, target, above, below, area, scale, axis});\n    unclipArea(ctx);\n  }\n}\nvar plugin_filler = {\n  id: 'filler',\n  afterDatasetsUpdate(chart, _args, options) {\n    const count = (chart.data.datasets || []).length;\n    const sources = [];\n    let meta, i, line, source;\n    for (i = 0; i < count; ++i) {\n      meta = chart.getDatasetMeta(i);\n      line = meta.dataset;\n      source = null;\n      if (line && line.options && line instanceof LineElement) {\n        source = {\n          visible: chart.isDatasetVisible(i),\n          index: i,\n          fill: decodeFill(line, i, count),\n          chart,\n          axis: meta.controller.options.indexAxis,\n          scale: meta.vScale,\n          line,\n        };\n      }\n      meta.$filler = source;\n      sources.push(source);\n    }\n    for (i = 0; i < count; ++i) {\n      source = sources[i];\n      if (!source || source.fill === false) {\n        continue;\n      }\n      source.fill = resolveTarget(sources, i, options.propagate);\n    }\n  },\n  beforeDraw(chart, _args, options) {\n    const draw = options.drawTime === 'beforeDraw';\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    const area = chart.chartArea;\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      const source = metasets[i].$filler;\n      if (!source) {\n        continue;\n      }\n      source.line.updateControlPoints(area);\n      if (draw) {\n        drawfill(chart.ctx, source, area);\n      }\n    }\n  },\n  beforeDatasetsDraw(chart, _args, options) {\n    if (options.drawTime !== 'beforeDatasetsDraw') {\n      return;\n    }\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      const source = metasets[i].$filler;\n      if (source) {\n        drawfill(chart.ctx, source, chart.chartArea);\n      }\n    }\n  },\n  beforeDatasetDraw(chart, args, options) {\n    const source = args.meta.$filler;\n    if (!source || source.fill === false || options.drawTime !== 'beforeDatasetDraw') {\n      return;\n    }\n    drawfill(chart.ctx, source, chart.chartArea);\n  },\n  defaults: {\n    propagate: true,\n    drawTime: 'beforeDatasetDraw'\n  }\n};\n\nconst getBoxSize = (labelOpts, fontSize) => {\n  let {boxHeight = fontSize, boxWidth = fontSize} = labelOpts;\n  if (labelOpts.usePointStyle) {\n    boxHeight = Math.min(boxHeight, fontSize);\n    boxWidth = Math.min(boxWidth, fontSize);\n  }\n  return {\n    boxWidth,\n    boxHeight,\n    itemHeight: Math.max(fontSize, boxHeight)\n  };\n};\nconst itemsEqual = (a, b) => a !== null && b !== null && a.datasetIndex === b.datasetIndex && a.index === b.index;\nclass Legend extends Element {\n  constructor(config) {\n    super();\n    this._added = false;\n    this.legendHitBoxes = [];\n    this._hoveredItem = null;\n    this.doughnutMode = false;\n    this.chart = config.chart;\n    this.options = config.options;\n    this.ctx = config.ctx;\n    this.legendItems = undefined;\n    this.columnSizes = undefined;\n    this.lineWidths = undefined;\n    this.maxHeight = undefined;\n    this.maxWidth = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this._margins = undefined;\n    this.position = undefined;\n    this.weight = undefined;\n    this.fullSize = undefined;\n  }\n  update(maxWidth, maxHeight, margins) {\n    const me = this;\n    me.maxWidth = maxWidth;\n    me.maxHeight = maxHeight;\n    me._margins = margins;\n    me.setDimensions();\n    me.buildLabels();\n    me.fit();\n  }\n  setDimensions() {\n    const me = this;\n    if (me.isHorizontal()) {\n      me.width = me.maxWidth;\n      me.left = 0;\n      me.right = me.width;\n    } else {\n      me.height = me.maxHeight;\n      me.top = 0;\n      me.bottom = me.height;\n    }\n  }\n  buildLabels() {\n    const me = this;\n    const labelOpts = me.options.labels || {};\n    let legendItems = callback(labelOpts.generateLabels, [me.chart], me) || [];\n    if (labelOpts.filter) {\n      legendItems = legendItems.filter((item) => labelOpts.filter(item, me.chart.data));\n    }\n    if (labelOpts.sort) {\n      legendItems = legendItems.sort((a, b) => labelOpts.sort(a, b, me.chart.data));\n    }\n    if (me.options.reverse) {\n      legendItems.reverse();\n    }\n    me.legendItems = legendItems;\n  }\n  fit() {\n    const me = this;\n    const {options, ctx} = me;\n    if (!options.display) {\n      me.width = me.height = 0;\n      return;\n    }\n    const labelOpts = options.labels;\n    const labelFont = toFont(labelOpts.font);\n    const fontSize = labelFont.size;\n    const titleHeight = me._computeTitleHeight();\n    const {boxWidth, itemHeight} = getBoxSize(labelOpts, fontSize);\n    let width, height;\n    ctx.font = labelFont.string;\n    if (me.isHorizontal()) {\n      width = me.maxWidth;\n      height = me._fitRows(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n    } else {\n      height = me.maxHeight;\n      width = me._fitCols(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n    }\n    me.width = Math.min(width, options.maxWidth || me.maxWidth);\n    me.height = Math.min(height, options.maxHeight || me.maxHeight);\n  }\n  _fitRows(titleHeight, fontSize, boxWidth, itemHeight) {\n    const me = this;\n    const {ctx, maxWidth, options: {labels: {padding}}} = me;\n    const hitboxes = me.legendHitBoxes = [];\n    const lineWidths = me.lineWidths = [0];\n    const lineHeight = itemHeight + padding;\n    let totalHeight = titleHeight;\n    ctx.textAlign = 'left';\n    ctx.textBaseline = 'middle';\n    let row = -1;\n    let top = -lineHeight;\n    me.legendItems.forEach((legendItem, i) => {\n      const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n      if (i === 0 || lineWidths[lineWidths.length - 1] + itemWidth + 2 * padding > maxWidth) {\n        totalHeight += lineHeight;\n        lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\n        top += lineHeight;\n        row++;\n      }\n      hitboxes[i] = {left: 0, top, row, width: itemWidth, height: itemHeight};\n      lineWidths[lineWidths.length - 1] += itemWidth + padding;\n    });\n    return totalHeight;\n  }\n  _fitCols(titleHeight, fontSize, boxWidth, itemHeight) {\n    const me = this;\n    const {ctx, maxHeight, options: {labels: {padding}}} = me;\n    const hitboxes = me.legendHitBoxes = [];\n    const columnSizes = me.columnSizes = [];\n    const heightLimit = maxHeight - titleHeight;\n    let totalWidth = padding;\n    let currentColWidth = 0;\n    let currentColHeight = 0;\n    let left = 0;\n    let top = 0;\n    let col = 0;\n    me.legendItems.forEach((legendItem, i) => {\n      const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n      if (i > 0 && currentColHeight + fontSize + 2 * padding > heightLimit) {\n        totalWidth += currentColWidth + padding;\n        columnSizes.push({width: currentColWidth, height: currentColHeight});\n        left += currentColWidth + padding;\n        col++;\n        top = 0;\n        currentColWidth = currentColHeight = 0;\n      }\n      currentColWidth = Math.max(currentColWidth, itemWidth);\n      currentColHeight += fontSize + padding;\n      hitboxes[i] = {left, top, col, width: itemWidth, height: itemHeight};\n      top += itemHeight + padding;\n    });\n    totalWidth += currentColWidth;\n    columnSizes.push({width: currentColWidth, height: currentColHeight});\n    return totalWidth;\n  }\n  adjustHitBoxes() {\n    const me = this;\n    if (!me.options.display) {\n      return;\n    }\n    const titleHeight = me._computeTitleHeight();\n    const {legendHitBoxes: hitboxes, options: {align, labels: {padding}}} = me;\n    if (this.isHorizontal()) {\n      let row = 0;\n      let left = _alignStartEnd(align, me.left + padding, me.right - me.lineWidths[row]);\n      for (const hitbox of hitboxes) {\n        if (row !== hitbox.row) {\n          row = hitbox.row;\n          left = _alignStartEnd(align, me.left + padding, me.right - me.lineWidths[row]);\n        }\n        hitbox.top += me.top + titleHeight + padding;\n        hitbox.left = left;\n        left += hitbox.width + padding;\n      }\n    } else {\n      let col = 0;\n      let top = _alignStartEnd(align, me.top + titleHeight + padding, me.bottom - me.columnSizes[col].height);\n      for (const hitbox of hitboxes) {\n        if (hitbox.col !== col) {\n          col = hitbox.col;\n          top = _alignStartEnd(align, me.top + titleHeight + padding, me.bottom - me.columnSizes[col].height);\n        }\n        hitbox.top = top;\n        hitbox.left += me.left + padding;\n        top += hitbox.height + padding;\n      }\n    }\n  }\n  isHorizontal() {\n    return this.options.position === 'top' || this.options.position === 'bottom';\n  }\n  draw() {\n    const me = this;\n    if (me.options.display) {\n      const ctx = me.ctx;\n      clipArea(ctx, me);\n      me._draw();\n      unclipArea(ctx);\n    }\n  }\n  _draw() {\n    const me = this;\n    const {options: opts, columnSizes, lineWidths, ctx} = me;\n    const {align, labels: labelOpts} = opts;\n    const defaultColor = defaults.color;\n    const rtlHelper = getRtlAdapter(opts.rtl, me.left, me.width);\n    const labelFont = toFont(labelOpts.font);\n    const {color: fontColor, padding} = labelOpts;\n    const fontSize = labelFont.size;\n    const halfFontSize = fontSize / 2;\n    let cursor;\n    me.drawTitle();\n    ctx.textAlign = rtlHelper.textAlign('left');\n    ctx.textBaseline = 'middle';\n    ctx.lineWidth = 0.5;\n    ctx.font = labelFont.string;\n    const {boxWidth, boxHeight, itemHeight} = getBoxSize(labelOpts, fontSize);\n    const drawLegendBox = function(x, y, legendItem) {\n      if (isNaN(boxWidth) || boxWidth <= 0 || isNaN(boxHeight) || boxHeight < 0) {\n        return;\n      }\n      ctx.save();\n      const lineWidth = valueOrDefault(legendItem.lineWidth, 1);\n      ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\n      ctx.lineCap = valueOrDefault(legendItem.lineCap, 'butt');\n      ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, 0);\n      ctx.lineJoin = valueOrDefault(legendItem.lineJoin, 'miter');\n      ctx.lineWidth = lineWidth;\n      ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\n      ctx.setLineDash(valueOrDefault(legendItem.lineDash, []));\n      if (labelOpts.usePointStyle) {\n        const drawOptions = {\n          radius: boxWidth * Math.SQRT2 / 2,\n          pointStyle: legendItem.pointStyle,\n          rotation: legendItem.rotation,\n          borderWidth: lineWidth\n        };\n        const centerX = rtlHelper.xPlus(x, boxWidth / 2);\n        const centerY = y + halfFontSize;\n        drawPoint(ctx, drawOptions, centerX, centerY);\n      } else {\n        const yBoxTop = y + Math.max((fontSize - boxHeight) / 2, 0);\n        const xBoxLeft = rtlHelper.leftForLtr(x, boxWidth);\n        const borderRadius = toTRBLCorners(legendItem.borderRadius);\n        ctx.beginPath();\n        if (Object.values(borderRadius).some(v => v !== 0)) {\n          addRoundedRectPath(ctx, {\n            x: xBoxLeft,\n            y: yBoxTop,\n            w: boxWidth,\n            h: boxHeight,\n            radius: borderRadius,\n          });\n        } else {\n          ctx.rect(xBoxLeft, yBoxTop, boxWidth, boxHeight);\n        }\n        ctx.fill();\n        if (lineWidth !== 0) {\n          ctx.stroke();\n        }\n      }\n      ctx.restore();\n    };\n    const fillText = function(x, y, legendItem) {\n      renderText(ctx, legendItem.text, x, y + (itemHeight / 2), labelFont, {\n        strikethrough: legendItem.hidden,\n        textAlign: legendItem.textAlign\n      });\n    };\n    const isHorizontal = me.isHorizontal();\n    const titleHeight = this._computeTitleHeight();\n    if (isHorizontal) {\n      cursor = {\n        x: _alignStartEnd(align, me.left + padding, me.right - lineWidths[0]),\n        y: me.top + padding + titleHeight,\n        line: 0\n      };\n    } else {\n      cursor = {\n        x: me.left + padding,\n        y: _alignStartEnd(align, me.top + titleHeight + padding, me.bottom - columnSizes[0].height),\n        line: 0\n      };\n    }\n    overrideTextDirection(me.ctx, opts.textDirection);\n    const lineHeight = itemHeight + padding;\n    me.legendItems.forEach((legendItem, i) => {\n      ctx.strokeStyle = legendItem.fontColor || fontColor;\n      ctx.fillStyle = legendItem.fontColor || fontColor;\n      const textWidth = ctx.measureText(legendItem.text).width;\n      const textAlign = rtlHelper.textAlign(legendItem.textAlign || (legendItem.textAlign = labelOpts.textAlign));\n      const width = boxWidth + (fontSize / 2) + textWidth;\n      let x = cursor.x;\n      let y = cursor.y;\n      rtlHelper.setWidth(me.width);\n      if (isHorizontal) {\n        if (i > 0 && x + width + padding > me.right) {\n          y = cursor.y += lineHeight;\n          cursor.line++;\n          x = cursor.x = _alignStartEnd(align, me.left + padding, me.right - lineWidths[cursor.line]);\n        }\n      } else if (i > 0 && y + lineHeight > me.bottom) {\n        x = cursor.x = x + columnSizes[cursor.line].width + padding;\n        cursor.line++;\n        y = cursor.y = _alignStartEnd(align, me.top + titleHeight + padding, me.bottom - columnSizes[cursor.line].height);\n      }\n      const realX = rtlHelper.x(x);\n      drawLegendBox(realX, y, legendItem);\n      x = _textX(textAlign, x + boxWidth + halfFontSize, me.right);\n      fillText(rtlHelper.x(x), y, legendItem);\n      if (isHorizontal) {\n        cursor.x += width + padding;\n      } else {\n        cursor.y += lineHeight;\n      }\n    });\n    restoreTextDirection(me.ctx, opts.textDirection);\n  }\n  drawTitle() {\n    const me = this;\n    const opts = me.options;\n    const titleOpts = opts.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n    if (!titleOpts.display) {\n      return;\n    }\n    const rtlHelper = getRtlAdapter(opts.rtl, me.left, me.width);\n    const ctx = me.ctx;\n    const position = titleOpts.position;\n    const halfFontSize = titleFont.size / 2;\n    const topPaddingPlusHalfFontSize = titlePadding.top + halfFontSize;\n    let y;\n    let left = me.left;\n    let maxWidth = me.width;\n    if (this.isHorizontal()) {\n      maxWidth = Math.max(...me.lineWidths);\n      y = me.top + topPaddingPlusHalfFontSize;\n      left = _alignStartEnd(opts.align, left, me.right - maxWidth);\n    } else {\n      const maxHeight = me.columnSizes.reduce((acc, size) => Math.max(acc, size.height), 0);\n      y = topPaddingPlusHalfFontSize + _alignStartEnd(opts.align, me.top, me.bottom - maxHeight - opts.labels.padding - me._computeTitleHeight());\n    }\n    const x = _alignStartEnd(position, left, left + maxWidth);\n    ctx.textAlign = rtlHelper.textAlign(_toLeftRightCenter(position));\n    ctx.textBaseline = 'middle';\n    ctx.strokeStyle = titleOpts.color;\n    ctx.fillStyle = titleOpts.color;\n    ctx.font = titleFont.string;\n    renderText(ctx, titleOpts.text, x, y, titleFont);\n  }\n  _computeTitleHeight() {\n    const titleOpts = this.options.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n    return titleOpts.display ? titleFont.lineHeight + titlePadding.height : 0;\n  }\n  _getLegendItemAt(x, y) {\n    const me = this;\n    let i, hitBox, lh;\n    if (x >= me.left && x <= me.right && y >= me.top && y <= me.bottom) {\n      lh = me.legendHitBoxes;\n      for (i = 0; i < lh.length; ++i) {\n        hitBox = lh[i];\n        if (x >= hitBox.left && x <= hitBox.left + hitBox.width && y >= hitBox.top && y <= hitBox.top + hitBox.height) {\n          return me.legendItems[i];\n        }\n      }\n    }\n    return null;\n  }\n  handleEvent(e) {\n    const me = this;\n    const opts = me.options;\n    if (!isListened(e.type, opts)) {\n      return;\n    }\n    const hoveredItem = me._getLegendItemAt(e.x, e.y);\n    if (e.type === 'mousemove') {\n      const previous = me._hoveredItem;\n      const sameItem = itemsEqual(previous, hoveredItem);\n      if (previous && !sameItem) {\n        callback(opts.onLeave, [e, previous, me], me);\n      }\n      me._hoveredItem = hoveredItem;\n      if (hoveredItem && !sameItem) {\n        callback(opts.onHover, [e, hoveredItem, me], me);\n      }\n    } else if (hoveredItem) {\n      callback(opts.onClick, [e, hoveredItem, me], me);\n    }\n  }\n}\nfunction isListened(type, opts) {\n  if (type === 'mousemove' && (opts.onHover || opts.onLeave)) {\n    return true;\n  }\n  if (opts.onClick && (type === 'click' || type === 'mouseup')) {\n    return true;\n  }\n  return false;\n}\nvar plugin_legend = {\n  id: 'legend',\n  _element: Legend,\n  start(chart, _args, options) {\n    const legend = chart.legend = new Legend({ctx: chart.ctx, options, chart});\n    layouts.configure(chart, legend, options);\n    layouts.addBox(chart, legend);\n  },\n  stop(chart) {\n    layouts.removeBox(chart, chart.legend);\n    delete chart.legend;\n  },\n  beforeUpdate(chart, _args, options) {\n    const legend = chart.legend;\n    layouts.configure(chart, legend, options);\n    legend.options = options;\n  },\n  afterUpdate(chart) {\n    const legend = chart.legend;\n    legend.buildLabels();\n    legend.adjustHitBoxes();\n  },\n  afterEvent(chart, args) {\n    if (!args.replay) {\n      chart.legend.handleEvent(args.event);\n    }\n  },\n  defaults: {\n    display: true,\n    position: 'top',\n    align: 'center',\n    fullSize: true,\n    reverse: false,\n    weight: 1000,\n    onClick(e, legendItem, legend) {\n      const index = legendItem.datasetIndex;\n      const ci = legend.chart;\n      if (ci.isDatasetVisible(index)) {\n        ci.hide(index);\n        legendItem.hidden = true;\n      } else {\n        ci.show(index);\n        legendItem.hidden = false;\n      }\n    },\n    onHover: null,\n    onLeave: null,\n    labels: {\n      color: (ctx) => ctx.chart.options.color,\n      boxWidth: 40,\n      padding: 10,\n      generateLabels(chart) {\n        const datasets = chart.data.datasets;\n        const {labels: {usePointStyle, pointStyle, textAlign, color}} = chart.legend.options;\n        return chart._getSortedDatasetMetas().map((meta) => {\n          const style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\n          const borderWidth = toPadding(style.borderWidth);\n          return {\n            text: datasets[meta.index].label,\n            fillStyle: style.backgroundColor,\n            fontColor: color,\n            hidden: !meta.visible,\n            lineCap: style.borderCapStyle,\n            lineDash: style.borderDash,\n            lineDashOffset: style.borderDashOffset,\n            lineJoin: style.borderJoinStyle,\n            lineWidth: (borderWidth.width + borderWidth.height) / 4,\n            strokeStyle: style.borderColor,\n            pointStyle: pointStyle || style.pointStyle,\n            rotation: style.rotation,\n            textAlign: textAlign || style.textAlign,\n            borderRadius: 0,\n            datasetIndex: meta.index\n          };\n        }, this);\n      }\n    },\n    title: {\n      color: (ctx) => ctx.chart.options.color,\n      display: false,\n      position: 'center',\n      text: '',\n    }\n  },\n  descriptors: {\n    _scriptable: (name) => !name.startsWith('on'),\n    labels: {\n      _scriptable: (name) => !['generateLabels', 'filter', 'sort'].includes(name),\n    }\n  },\n};\n\nclass Title extends Element {\n  constructor(config) {\n    super();\n    this.chart = config.chart;\n    this.options = config.options;\n    this.ctx = config.ctx;\n    this._padding = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this.position = undefined;\n    this.weight = undefined;\n    this.fullSize = undefined;\n  }\n  update(maxWidth, maxHeight) {\n    const me = this;\n    const opts = me.options;\n    me.left = 0;\n    me.top = 0;\n    if (!opts.display) {\n      me.width = me.height = me.right = me.bottom = 0;\n      return;\n    }\n    me.width = me.right = maxWidth;\n    me.height = me.bottom = maxHeight;\n    const lineCount = isArray(opts.text) ? opts.text.length : 1;\n    me._padding = toPadding(opts.padding);\n    const textSize = lineCount * toFont(opts.font).lineHeight + me._padding.height;\n    if (me.isHorizontal()) {\n      me.height = textSize;\n    } else {\n      me.width = textSize;\n    }\n  }\n  isHorizontal() {\n    const pos = this.options.position;\n    return pos === 'top' || pos === 'bottom';\n  }\n  _drawArgs(offset) {\n    const {top, left, bottom, right, options} = this;\n    const align = options.align;\n    let rotation = 0;\n    let maxWidth, titleX, titleY;\n    if (this.isHorizontal()) {\n      titleX = _alignStartEnd(align, left, right);\n      titleY = top + offset;\n      maxWidth = right - left;\n    } else {\n      if (options.position === 'left') {\n        titleX = left + offset;\n        titleY = _alignStartEnd(align, bottom, top);\n        rotation = PI * -0.5;\n      } else {\n        titleX = right - offset;\n        titleY = _alignStartEnd(align, top, bottom);\n        rotation = PI * 0.5;\n      }\n      maxWidth = bottom - top;\n    }\n    return {titleX, titleY, maxWidth, rotation};\n  }\n  draw() {\n    const me = this;\n    const ctx = me.ctx;\n    const opts = me.options;\n    if (!opts.display) {\n      return;\n    }\n    const fontOpts = toFont(opts.font);\n    const lineHeight = fontOpts.lineHeight;\n    const offset = lineHeight / 2 + me._padding.top;\n    const {titleX, titleY, maxWidth, rotation} = me._drawArgs(offset);\n    renderText(ctx, opts.text, 0, 0, fontOpts, {\n      color: opts.color,\n      maxWidth,\n      rotation,\n      textAlign: _toLeftRightCenter(opts.align),\n      textBaseline: 'middle',\n      translation: [titleX, titleY],\n    });\n  }\n}\nfunction createTitle(chart, titleOpts) {\n  const title = new Title({\n    ctx: chart.ctx,\n    options: titleOpts,\n    chart\n  });\n  layouts.configure(chart, title, titleOpts);\n  layouts.addBox(chart, title);\n  chart.titleBlock = title;\n}\nvar plugin_title = {\n  id: 'title',\n  _element: Title,\n  start(chart, _args, options) {\n    createTitle(chart, options);\n  },\n  stop(chart) {\n    const titleBlock = chart.titleBlock;\n    layouts.removeBox(chart, titleBlock);\n    delete chart.titleBlock;\n  },\n  beforeUpdate(chart, _args, options) {\n    const title = chart.titleBlock;\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'bold',\n    },\n    fullSize: true,\n    padding: 10,\n    position: 'top',\n    text: '',\n    weight: 2000\n  },\n  defaultRoutes: {\n    color: 'color'\n  },\n  descriptors: {\n    _scriptable: true,\n    _indexable: false,\n  },\n};\n\nconst positioners = {\n  average(items) {\n    if (!items.length) {\n      return false;\n    }\n    let i, len;\n    let x = 0;\n    let y = 0;\n    let count = 0;\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const pos = el.tooltipPosition();\n        x += pos.x;\n        y += pos.y;\n        ++count;\n      }\n    }\n    return {\n      x: x / count,\n      y: y / count\n    };\n  },\n  nearest(items, eventPosition) {\n    if (!items.length) {\n      return false;\n    }\n    let x = eventPosition.x;\n    let y = eventPosition.y;\n    let minDistance = Number.POSITIVE_INFINITY;\n    let i, len, nearestElement;\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const center = el.getCenterPoint();\n        const d = distanceBetweenPoints(eventPosition, center);\n        if (d < minDistance) {\n          minDistance = d;\n          nearestElement = el;\n        }\n      }\n    }\n    if (nearestElement) {\n      const tp = nearestElement.tooltipPosition();\n      x = tp.x;\n      y = tp.y;\n    }\n    return {\n      x,\n      y\n    };\n  }\n};\nfunction pushOrConcat(base, toPush) {\n  if (toPush) {\n    if (isArray(toPush)) {\n      Array.prototype.push.apply(base, toPush);\n    } else {\n      base.push(toPush);\n    }\n  }\n  return base;\n}\nfunction splitNewlines(str) {\n  if ((typeof str === 'string' || str instanceof String) && str.indexOf('\\n') > -1) {\n    return str.split('\\n');\n  }\n  return str;\n}\nfunction createTooltipItem(chart, item) {\n  const {element, datasetIndex, index} = item;\n  const controller = chart.getDatasetMeta(datasetIndex).controller;\n  const {label, value} = controller.getLabelAndValue(index);\n  return {\n    chart,\n    label,\n    parsed: controller.getParsed(index),\n    raw: chart.data.datasets[datasetIndex].data[index],\n    formattedValue: value,\n    dataset: controller.getDataset(),\n    dataIndex: index,\n    datasetIndex,\n    element\n  };\n}\nfunction getTooltipSize(tooltip, options) {\n  const ctx = tooltip._chart.ctx;\n  const {body, footer, title} = tooltip;\n  const {boxWidth, boxHeight} = options;\n  const bodyFont = toFont(options.bodyFont);\n  const titleFont = toFont(options.titleFont);\n  const footerFont = toFont(options.footerFont);\n  const titleLineCount = title.length;\n  const footerLineCount = footer.length;\n  const bodyLineItemCount = body.length;\n  const padding = toPadding(options.padding);\n  let height = padding.height;\n  let width = 0;\n  let combinedBodyLength = body.reduce((count, bodyItem) => count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length, 0);\n  combinedBodyLength += tooltip.beforeBody.length + tooltip.afterBody.length;\n  if (titleLineCount) {\n    height += titleLineCount * titleFont.lineHeight\n\t\t\t+ (titleLineCount - 1) * options.titleSpacing\n\t\t\t+ options.titleMarginBottom;\n  }\n  if (combinedBodyLength) {\n    const bodyLineHeight = options.displayColors ? Math.max(boxHeight, bodyFont.lineHeight) : bodyFont.lineHeight;\n    height += bodyLineItemCount * bodyLineHeight\n\t\t\t+ (combinedBodyLength - bodyLineItemCount) * bodyFont.lineHeight\n\t\t\t+ (combinedBodyLength - 1) * options.bodySpacing;\n  }\n  if (footerLineCount) {\n    height += options.footerMarginTop\n\t\t\t+ footerLineCount * footerFont.lineHeight\n\t\t\t+ (footerLineCount - 1) * options.footerSpacing;\n  }\n  let widthPadding = 0;\n  const maxLineWidth = function(line) {\n    width = Math.max(width, ctx.measureText(line).width + widthPadding);\n  };\n  ctx.save();\n  ctx.font = titleFont.string;\n  each(tooltip.title, maxLineWidth);\n  ctx.font = bodyFont.string;\n  each(tooltip.beforeBody.concat(tooltip.afterBody), maxLineWidth);\n  widthPadding = options.displayColors ? (boxWidth + 2) : 0;\n  each(body, (bodyItem) => {\n    each(bodyItem.before, maxLineWidth);\n    each(bodyItem.lines, maxLineWidth);\n    each(bodyItem.after, maxLineWidth);\n  });\n  widthPadding = 0;\n  ctx.font = footerFont.string;\n  each(tooltip.footer, maxLineWidth);\n  ctx.restore();\n  width += padding.width;\n  return {width, height};\n}\nfunction determineYAlign(chart, size) {\n  const {y, height} = size;\n  if (y < height / 2) {\n    return 'top';\n  } else if (y > (chart.height - height / 2)) {\n    return 'bottom';\n  }\n  return 'center';\n}\nfunction doesNotFitWithAlign(xAlign, chart, options, size) {\n  const {x, width} = size;\n  const caret = options.caretSize + options.caretPadding;\n  if (xAlign === 'left' && x + width + caret > chart.width) {\n    return true;\n  }\n  if (xAlign === 'right' && x - width - caret < 0) {\n    return true;\n  }\n}\nfunction determineXAlign(chart, options, size, yAlign) {\n  const {x, width} = size;\n  const {width: chartWidth, chartArea: {left, right}} = chart;\n  let xAlign = 'center';\n  if (yAlign === 'center') {\n    xAlign = x <= (left + right) / 2 ? 'left' : 'right';\n  } else if (x <= width / 2) {\n    xAlign = 'left';\n  } else if (x >= chartWidth - width / 2) {\n    xAlign = 'right';\n  }\n  if (doesNotFitWithAlign(xAlign, chart, options, size)) {\n    xAlign = 'center';\n  }\n  return xAlign;\n}\nfunction determineAlignment(chart, options, size) {\n  const yAlign = options.yAlign || determineYAlign(chart, size);\n  return {\n    xAlign: options.xAlign || determineXAlign(chart, options, size, yAlign),\n    yAlign\n  };\n}\nfunction alignX(size, xAlign) {\n  let {x, width} = size;\n  if (xAlign === 'right') {\n    x -= width;\n  } else if (xAlign === 'center') {\n    x -= (width / 2);\n  }\n  return x;\n}\nfunction alignY(size, yAlign, paddingAndSize) {\n  let {y, height} = size;\n  if (yAlign === 'top') {\n    y += paddingAndSize;\n  } else if (yAlign === 'bottom') {\n    y -= height + paddingAndSize;\n  } else {\n    y -= (height / 2);\n  }\n  return y;\n}\nfunction getBackgroundPoint(options, size, alignment, chart) {\n  const {caretSize, caretPadding, cornerRadius} = options;\n  const {xAlign, yAlign} = alignment;\n  const paddingAndSize = caretSize + caretPadding;\n  const radiusAndPadding = cornerRadius + caretPadding;\n  let x = alignX(size, xAlign);\n  const y = alignY(size, yAlign, paddingAndSize);\n  if (yAlign === 'center') {\n    if (xAlign === 'left') {\n      x += paddingAndSize;\n    } else if (xAlign === 'right') {\n      x -= paddingAndSize;\n    }\n  } else if (xAlign === 'left') {\n    x -= radiusAndPadding;\n  } else if (xAlign === 'right') {\n    x += radiusAndPadding;\n  }\n  return {\n    x: _limitValue(x, 0, chart.width - size.width),\n    y: _limitValue(y, 0, chart.height - size.height)\n  };\n}\nfunction getAlignedX(tooltip, align, options) {\n  const padding = toPadding(options.padding);\n  return align === 'center'\n    ? tooltip.x + tooltip.width / 2\n    : align === 'right'\n      ? tooltip.x + tooltip.width - padding.right\n      : tooltip.x + padding.left;\n}\nfunction getBeforeAfterBodyLines(callback) {\n  return pushOrConcat([], splitNewlines(callback));\n}\nfunction createTooltipContext(parent, tooltip, tooltipItems) {\n  return Object.assign(Object.create(parent), {\n    tooltip,\n    tooltipItems,\n    type: 'tooltip'\n  });\n}\nfunction overrideCallbacks(callbacks, context) {\n  const override = context && context.dataset && context.dataset.tooltip && context.dataset.tooltip.callbacks;\n  return override ? callbacks.override(override) : callbacks;\n}\nclass Tooltip extends Element {\n  constructor(config) {\n    super();\n    this.opacity = 0;\n    this._active = [];\n    this._chart = config._chart;\n    this._eventPosition = undefined;\n    this._size = undefined;\n    this._cachedAnimations = undefined;\n    this._tooltipItems = [];\n    this.$animations = undefined;\n    this.$context = undefined;\n    this.options = config.options;\n    this.dataPoints = undefined;\n    this.title = undefined;\n    this.beforeBody = undefined;\n    this.body = undefined;\n    this.afterBody = undefined;\n    this.footer = undefined;\n    this.xAlign = undefined;\n    this.yAlign = undefined;\n    this.x = undefined;\n    this.y = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this.caretX = undefined;\n    this.caretY = undefined;\n    this.labelColors = undefined;\n    this.labelPointStyles = undefined;\n    this.labelTextColors = undefined;\n  }\n  initialize(options) {\n    this.options = options;\n    this._cachedAnimations = undefined;\n    this.$context = undefined;\n  }\n  _resolveAnimations() {\n    const me = this;\n    const cached = me._cachedAnimations;\n    if (cached) {\n      return cached;\n    }\n    const chart = me._chart;\n    const options = me.options.setContext(me.getContext());\n    const opts = options.enabled && chart.options.animation && options.animations;\n    const animations = new Animations(me._chart, opts);\n    if (opts._cacheable) {\n      me._cachedAnimations = Object.freeze(animations);\n    }\n    return animations;\n  }\n  getContext() {\n    const me = this;\n    return me.$context ||\n\t\t\t(me.$context = createTooltipContext(me._chart.getContext(), me, me._tooltipItems));\n  }\n  getTitle(context, options) {\n    const me = this;\n    const {callbacks} = options;\n    const beforeTitle = callbacks.beforeTitle.apply(me, [context]);\n    const title = callbacks.title.apply(me, [context]);\n    const afterTitle = callbacks.afterTitle.apply(me, [context]);\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeTitle));\n    lines = pushOrConcat(lines, splitNewlines(title));\n    lines = pushOrConcat(lines, splitNewlines(afterTitle));\n    return lines;\n  }\n  getBeforeBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(options.callbacks.beforeBody.apply(this, [tooltipItems]));\n  }\n  getBody(tooltipItems, options) {\n    const me = this;\n    const {callbacks} = options;\n    const bodyItems = [];\n    each(tooltipItems, (context) => {\n      const bodyItem = {\n        before: [],\n        lines: [],\n        after: []\n      };\n      const scoped = overrideCallbacks(callbacks, context);\n      pushOrConcat(bodyItem.before, splitNewlines(scoped.beforeLabel.call(me, context)));\n      pushOrConcat(bodyItem.lines, scoped.label.call(me, context));\n      pushOrConcat(bodyItem.after, splitNewlines(scoped.afterLabel.call(me, context)));\n      bodyItems.push(bodyItem);\n    });\n    return bodyItems;\n  }\n  getAfterBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(options.callbacks.afterBody.apply(this, [tooltipItems]));\n  }\n  getFooter(tooltipItems, options) {\n    const me = this;\n    const {callbacks} = options;\n    const beforeFooter = callbacks.beforeFooter.apply(me, [tooltipItems]);\n    const footer = callbacks.footer.apply(me, [tooltipItems]);\n    const afterFooter = callbacks.afterFooter.apply(me, [tooltipItems]);\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeFooter));\n    lines = pushOrConcat(lines, splitNewlines(footer));\n    lines = pushOrConcat(lines, splitNewlines(afterFooter));\n    return lines;\n  }\n  _createItems(options) {\n    const me = this;\n    const active = me._active;\n    const data = me._chart.data;\n    const labelColors = [];\n    const labelPointStyles = [];\n    const labelTextColors = [];\n    let tooltipItems = [];\n    let i, len;\n    for (i = 0, len = active.length; i < len; ++i) {\n      tooltipItems.push(createTooltipItem(me._chart, active[i]));\n    }\n    if (options.filter) {\n      tooltipItems = tooltipItems.filter((element, index, array) => options.filter(element, index, array, data));\n    }\n    if (options.itemSort) {\n      tooltipItems = tooltipItems.sort((a, b) => options.itemSort(a, b, data));\n    }\n    each(tooltipItems, (context) => {\n      const scoped = overrideCallbacks(options.callbacks, context);\n      labelColors.push(scoped.labelColor.call(me, context));\n      labelPointStyles.push(scoped.labelPointStyle.call(me, context));\n      labelTextColors.push(scoped.labelTextColor.call(me, context));\n    });\n    me.labelColors = labelColors;\n    me.labelPointStyles = labelPointStyles;\n    me.labelTextColors = labelTextColors;\n    me.dataPoints = tooltipItems;\n    return tooltipItems;\n  }\n  update(changed, replay) {\n    const me = this;\n    const options = me.options.setContext(me.getContext());\n    const active = me._active;\n    let properties;\n    let tooltipItems = [];\n    if (!active.length) {\n      if (me.opacity !== 0) {\n        properties = {\n          opacity: 0\n        };\n      }\n    } else {\n      const position = positioners[options.position].call(me, active, me._eventPosition);\n      tooltipItems = me._createItems(options);\n      me.title = me.getTitle(tooltipItems, options);\n      me.beforeBody = me.getBeforeBody(tooltipItems, options);\n      me.body = me.getBody(tooltipItems, options);\n      me.afterBody = me.getAfterBody(tooltipItems, options);\n      me.footer = me.getFooter(tooltipItems, options);\n      const size = me._size = getTooltipSize(me, options);\n      const positionAndSize = Object.assign({}, position, size);\n      const alignment = determineAlignment(me._chart, options, positionAndSize);\n      const backgroundPoint = getBackgroundPoint(options, positionAndSize, alignment, me._chart);\n      me.xAlign = alignment.xAlign;\n      me.yAlign = alignment.yAlign;\n      properties = {\n        opacity: 1,\n        x: backgroundPoint.x,\n        y: backgroundPoint.y,\n        width: size.width,\n        height: size.height,\n        caretX: position.x,\n        caretY: position.y\n      };\n    }\n    me._tooltipItems = tooltipItems;\n    me.$context = undefined;\n    if (properties) {\n      me._resolveAnimations().update(me, properties);\n    }\n    if (changed && options.external) {\n      options.external.call(me, {chart: me._chart, tooltip: me, replay});\n    }\n  }\n  drawCaret(tooltipPoint, ctx, size, options) {\n    const caretPosition = this.getCaretPosition(tooltipPoint, size, options);\n    ctx.lineTo(caretPosition.x1, caretPosition.y1);\n    ctx.lineTo(caretPosition.x2, caretPosition.y2);\n    ctx.lineTo(caretPosition.x3, caretPosition.y3);\n  }\n  getCaretPosition(tooltipPoint, size, options) {\n    const {xAlign, yAlign} = this;\n    const {cornerRadius, caretSize} = options;\n    const {x: ptX, y: ptY} = tooltipPoint;\n    const {width, height} = size;\n    let x1, x2, x3, y1, y2, y3;\n    if (yAlign === 'center') {\n      y2 = ptY + (height / 2);\n      if (xAlign === 'left') {\n        x1 = ptX;\n        x2 = x1 - caretSize;\n        y1 = y2 + caretSize;\n        y3 = y2 - caretSize;\n      } else {\n        x1 = ptX + width;\n        x2 = x1 + caretSize;\n        y1 = y2 - caretSize;\n        y3 = y2 + caretSize;\n      }\n      x3 = x1;\n    } else {\n      if (xAlign === 'left') {\n        x2 = ptX + cornerRadius + (caretSize);\n      } else if (xAlign === 'right') {\n        x2 = ptX + width - cornerRadius - caretSize;\n      } else {\n        x2 = this.caretX;\n      }\n      if (yAlign === 'top') {\n        y1 = ptY;\n        y2 = y1 - caretSize;\n        x1 = x2 - caretSize;\n        x3 = x2 + caretSize;\n      } else {\n        y1 = ptY + height;\n        y2 = y1 + caretSize;\n        x1 = x2 + caretSize;\n        x3 = x2 - caretSize;\n      }\n      y3 = y1;\n    }\n    return {x1, x2, x3, y1, y2, y3};\n  }\n  drawTitle(pt, ctx, options) {\n    const me = this;\n    const title = me.title;\n    const length = title.length;\n    let titleFont, titleSpacing, i;\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, me.x, me.width);\n      pt.x = getAlignedX(me, options.titleAlign, options);\n      ctx.textAlign = rtlHelper.textAlign(options.titleAlign);\n      ctx.textBaseline = 'middle';\n      titleFont = toFont(options.titleFont);\n      titleSpacing = options.titleSpacing;\n      ctx.fillStyle = options.titleColor;\n      ctx.font = titleFont.string;\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFont.lineHeight / 2);\n        pt.y += titleFont.lineHeight + titleSpacing;\n        if (i + 1 === length) {\n          pt.y += options.titleMarginBottom - titleSpacing;\n        }\n      }\n    }\n  }\n  _drawColorBox(ctx, pt, i, rtlHelper, options) {\n    const me = this;\n    const labelColors = me.labelColors[i];\n    const labelPointStyle = me.labelPointStyles[i];\n    const {boxHeight, boxWidth} = options;\n    const bodyFont = toFont(options.bodyFont);\n    const colorX = getAlignedX(me, 'left', options);\n    const rtlColorX = rtlHelper.x(colorX);\n    const yOffSet = boxHeight < bodyFont.lineHeight ? (bodyFont.lineHeight - boxHeight) / 2 : 0;\n    const colorY = pt.y + yOffSet;\n    if (options.usePointStyle) {\n      const drawOptions = {\n        radius: Math.min(boxWidth, boxHeight) / 2,\n        pointStyle: labelPointStyle.pointStyle,\n        rotation: labelPointStyle.rotation,\n        borderWidth: 1\n      };\n      const centerX = rtlHelper.leftForLtr(rtlColorX, boxWidth) + boxWidth / 2;\n      const centerY = colorY + boxHeight / 2;\n      ctx.strokeStyle = options.multiKeyBackground;\n      ctx.fillStyle = options.multiKeyBackground;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n      ctx.strokeStyle = labelColors.borderColor;\n      ctx.fillStyle = labelColors.backgroundColor;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n    } else {\n      ctx.lineWidth = labelColors.borderWidth || 1;\n      ctx.strokeStyle = labelColors.borderColor;\n      ctx.setLineDash(labelColors.borderDash || []);\n      ctx.lineDashOffset = labelColors.borderDashOffset || 0;\n      const outerX = rtlHelper.leftForLtr(rtlColorX, boxWidth);\n      const innerX = rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), boxWidth - 2);\n      const borderRadius = toTRBLCorners(labelColors.borderRadius);\n      if (Object.values(borderRadius).some(v => v !== 0)) {\n        ctx.beginPath();\n        ctx.fillStyle = options.multiKeyBackground;\n        addRoundedRectPath(ctx, {\n          x: outerX,\n          y: colorY,\n          w: boxWidth,\n          h: boxHeight,\n          radius: borderRadius,\n        });\n        ctx.fill();\n        ctx.stroke();\n        ctx.fillStyle = labelColors.backgroundColor;\n        ctx.beginPath();\n        addRoundedRectPath(ctx, {\n          x: innerX,\n          y: colorY + 1,\n          w: boxWidth - 2,\n          h: boxHeight - 2,\n          radius: borderRadius,\n        });\n        ctx.fill();\n      } else {\n        ctx.fillStyle = options.multiKeyBackground;\n        ctx.fillRect(outerX, colorY, boxWidth, boxHeight);\n        ctx.strokeRect(outerX, colorY, boxWidth, boxHeight);\n        ctx.fillStyle = labelColors.backgroundColor;\n        ctx.fillRect(innerX, colorY + 1, boxWidth - 2, boxHeight - 2);\n      }\n    }\n    ctx.fillStyle = me.labelTextColors[i];\n  }\n  drawBody(pt, ctx, options) {\n    const me = this;\n    const {body} = me;\n    const {bodySpacing, bodyAlign, displayColors, boxHeight, boxWidth} = options;\n    const bodyFont = toFont(options.bodyFont);\n    let bodyLineHeight = bodyFont.lineHeight;\n    let xLinePadding = 0;\n    const rtlHelper = getRtlAdapter(options.rtl, me.x, me.width);\n    const fillLineOfText = function(line) {\n      ctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyLineHeight / 2);\n      pt.y += bodyLineHeight + bodySpacing;\n    };\n    const bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);\n    let bodyItem, textColor, lines, i, j, ilen, jlen;\n    ctx.textAlign = bodyAlign;\n    ctx.textBaseline = 'middle';\n    ctx.font = bodyFont.string;\n    pt.x = getAlignedX(me, bodyAlignForCalculation, options);\n    ctx.fillStyle = options.bodyColor;\n    each(me.beforeBody, fillLineOfText);\n    xLinePadding = displayColors && bodyAlignForCalculation !== 'right'\n      ? bodyAlign === 'center' ? (boxWidth / 2 + 1) : (boxWidth + 2)\n      : 0;\n    for (i = 0, ilen = body.length; i < ilen; ++i) {\n      bodyItem = body[i];\n      textColor = me.labelTextColors[i];\n      ctx.fillStyle = textColor;\n      each(bodyItem.before, fillLineOfText);\n      lines = bodyItem.lines;\n      if (displayColors && lines.length) {\n        me._drawColorBox(ctx, pt, i, rtlHelper, options);\n        bodyLineHeight = Math.max(bodyFont.lineHeight, boxHeight);\n      }\n      for (j = 0, jlen = lines.length; j < jlen; ++j) {\n        fillLineOfText(lines[j]);\n        bodyLineHeight = bodyFont.lineHeight;\n      }\n      each(bodyItem.after, fillLineOfText);\n    }\n    xLinePadding = 0;\n    bodyLineHeight = bodyFont.lineHeight;\n    each(me.afterBody, fillLineOfText);\n    pt.y -= bodySpacing;\n  }\n  drawFooter(pt, ctx, options) {\n    const me = this;\n    const footer = me.footer;\n    const length = footer.length;\n    let footerFont, i;\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, me.x, me.width);\n      pt.x = getAlignedX(me, options.footerAlign, options);\n      pt.y += options.footerMarginTop;\n      ctx.textAlign = rtlHelper.textAlign(options.footerAlign);\n      ctx.textBaseline = 'middle';\n      footerFont = toFont(options.footerFont);\n      ctx.fillStyle = options.footerColor;\n      ctx.font = footerFont.string;\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFont.lineHeight / 2);\n        pt.y += footerFont.lineHeight + options.footerSpacing;\n      }\n    }\n  }\n  drawBackground(pt, ctx, tooltipSize, options) {\n    const {xAlign, yAlign} = this;\n    const {x, y} = pt;\n    const {width, height} = tooltipSize;\n    const radius = options.cornerRadius;\n    ctx.fillStyle = options.backgroundColor;\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n    ctx.beginPath();\n    ctx.moveTo(x + radius, y);\n    if (yAlign === 'top') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width - radius, y);\n    ctx.quadraticCurveTo(x + width, y, x + width, y + radius);\n    if (yAlign === 'center' && xAlign === 'right') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width, y + height - radius);\n    ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n    if (yAlign === 'bottom') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + radius, y + height);\n    ctx.quadraticCurveTo(x, y + height, x, y + height - radius);\n    if (yAlign === 'center' && xAlign === 'left') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x, y + radius);\n    ctx.quadraticCurveTo(x, y, x + radius, y);\n    ctx.closePath();\n    ctx.fill();\n    if (options.borderWidth > 0) {\n      ctx.stroke();\n    }\n  }\n  _updateAnimationTarget(options) {\n    const me = this;\n    const chart = me._chart;\n    const anims = me.$animations;\n    const animX = anims && anims.x;\n    const animY = anims && anims.y;\n    if (animX || animY) {\n      const position = positioners[options.position].call(me, me._active, me._eventPosition);\n      if (!position) {\n        return;\n      }\n      const size = me._size = getTooltipSize(me, options);\n      const positionAndSize = Object.assign({}, position, me._size);\n      const alignment = determineAlignment(chart, options, positionAndSize);\n      const point = getBackgroundPoint(options, positionAndSize, alignment, chart);\n      if (animX._to !== point.x || animY._to !== point.y) {\n        me.xAlign = alignment.xAlign;\n        me.yAlign = alignment.yAlign;\n        me.width = size.width;\n        me.height = size.height;\n        me.caretX = position.x;\n        me.caretY = position.y;\n        me._resolveAnimations().update(me, point);\n      }\n    }\n  }\n  draw(ctx) {\n    const me = this;\n    const options = me.options.setContext(me.getContext());\n    let opacity = me.opacity;\n    if (!opacity) {\n      return;\n    }\n    me._updateAnimationTarget(options);\n    const tooltipSize = {\n      width: me.width,\n      height: me.height\n    };\n    const pt = {\n      x: me.x,\n      y: me.y\n    };\n    opacity = Math.abs(opacity) < 1e-3 ? 0 : opacity;\n    const padding = toPadding(options.padding);\n    const hasTooltipContent = me.title.length || me.beforeBody.length || me.body.length || me.afterBody.length || me.footer.length;\n    if (options.enabled && hasTooltipContent) {\n      ctx.save();\n      ctx.globalAlpha = opacity;\n      me.drawBackground(pt, ctx, tooltipSize, options);\n      overrideTextDirection(ctx, options.textDirection);\n      pt.y += padding.top;\n      me.drawTitle(pt, ctx, options);\n      me.drawBody(pt, ctx, options);\n      me.drawFooter(pt, ctx, options);\n      restoreTextDirection(ctx, options.textDirection);\n      ctx.restore();\n    }\n  }\n  getActiveElements() {\n    return this._active || [];\n  }\n  setActiveElements(activeElements, eventPosition) {\n    const me = this;\n    const lastActive = me._active;\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = me._chart.getDatasetMeta(datasetIndex);\n      if (!meta) {\n        throw new Error('Cannot find a dataset at index ' + datasetIndex);\n      }\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(lastActive, active);\n    const positionChanged = me._positionChanged(active, eventPosition);\n    if (changed || positionChanged) {\n      me._active = active;\n      me._eventPosition = eventPosition;\n      me.update(true);\n    }\n  }\n  handleEvent(e, replay) {\n    const me = this;\n    const options = me.options;\n    const lastActive = me._active || [];\n    let changed = false;\n    let active = [];\n    if (e.type !== 'mouseout') {\n      active = me._chart.getElementsAtEventForMode(e, options.mode, options, replay);\n      if (options.reverse) {\n        active.reverse();\n      }\n    }\n    const positionChanged = me._positionChanged(active, e);\n    changed = replay || !_elementsEqual(active, lastActive) || positionChanged;\n    if (changed) {\n      me._active = active;\n      if (options.enabled || options.external) {\n        me._eventPosition = {\n          x: e.x,\n          y: e.y\n        };\n        me.update(true, replay);\n      }\n    }\n    return changed;\n  }\n  _positionChanged(active, e) {\n    const {caretX, caretY, options} = this;\n    const position = positioners[options.position].call(this, active, e);\n    return position !== false && (caretX !== position.x || caretY !== position.y);\n  }\n}\nTooltip.positioners = positioners;\nvar plugin_tooltip = {\n  id: 'tooltip',\n  _element: Tooltip,\n  positioners,\n  afterInit(chart, _args, options) {\n    if (options) {\n      chart.tooltip = new Tooltip({_chart: chart, options});\n    }\n  },\n  beforeUpdate(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n  reset(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n  afterDraw(chart) {\n    const tooltip = chart.tooltip;\n    const args = {\n      tooltip\n    };\n    if (chart.notifyPlugins('beforeTooltipDraw', args) === false) {\n      return;\n    }\n    if (tooltip) {\n      tooltip.draw(chart.ctx);\n    }\n    chart.notifyPlugins('afterTooltipDraw', args);\n  },\n  afterEvent(chart, args) {\n    if (chart.tooltip) {\n      const useFinalPosition = args.replay;\n      if (chart.tooltip.handleEvent(args.event, useFinalPosition)) {\n        args.changed = true;\n      }\n    }\n  },\n  defaults: {\n    enabled: true,\n    external: null,\n    position: 'average',\n    backgroundColor: 'rgba(0,0,0,0.8)',\n    titleColor: '#fff',\n    titleFont: {\n      weight: 'bold',\n    },\n    titleSpacing: 2,\n    titleMarginBottom: 6,\n    titleAlign: 'left',\n    bodyColor: '#fff',\n    bodySpacing: 2,\n    bodyFont: {\n    },\n    bodyAlign: 'left',\n    footerColor: '#fff',\n    footerSpacing: 2,\n    footerMarginTop: 6,\n    footerFont: {\n      weight: 'bold',\n    },\n    footerAlign: 'left',\n    padding: 6,\n    caretPadding: 2,\n    caretSize: 5,\n    cornerRadius: 6,\n    boxHeight: (ctx, opts) => opts.bodyFont.size,\n    boxWidth: (ctx, opts) => opts.bodyFont.size,\n    multiKeyBackground: '#fff',\n    displayColors: true,\n    borderColor: 'rgba(0,0,0,0)',\n    borderWidth: 0,\n    animation: {\n      duration: 400,\n      easing: 'easeOutQuart',\n    },\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'width', 'height', 'caretX', 'caretY'],\n      },\n      opacity: {\n        easing: 'linear',\n        duration: 200\n      }\n    },\n    callbacks: {\n      beforeTitle: noop,\n      title(tooltipItems) {\n        if (tooltipItems.length > 0) {\n          const item = tooltipItems[0];\n          const labels = item.chart.data.labels;\n          const labelCount = labels ? labels.length : 0;\n          if (this && this.options && this.options.mode === 'dataset') {\n            return item.dataset.label || '';\n          } else if (item.label) {\n            return item.label;\n          } else if (labelCount > 0 && item.dataIndex < labelCount) {\n            return labels[item.dataIndex];\n          }\n        }\n        return '';\n      },\n      afterTitle: noop,\n      beforeBody: noop,\n      beforeLabel: noop,\n      label(tooltipItem) {\n        if (this && this.options && this.options.mode === 'dataset') {\n          return tooltipItem.label + ': ' + tooltipItem.formattedValue || tooltipItem.formattedValue;\n        }\n        let label = tooltipItem.dataset.label || '';\n        if (label) {\n          label += ': ';\n        }\n        const value = tooltipItem.formattedValue;\n        if (!isNullOrUndef(value)) {\n          label += value;\n        }\n        return label;\n      },\n      labelColor(tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n          borderColor: options.borderColor,\n          backgroundColor: options.backgroundColor,\n          borderWidth: options.borderWidth,\n          borderDash: options.borderDash,\n          borderDashOffset: options.borderDashOffset,\n          borderRadius: 0,\n        };\n      },\n      labelTextColor() {\n        return this.options.bodyColor;\n      },\n      labelPointStyle(tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n          pointStyle: options.pointStyle,\n          rotation: options.rotation,\n        };\n      },\n      afterLabel: noop,\n      afterBody: noop,\n      beforeFooter: noop,\n      footer: noop,\n      afterFooter: noop\n    }\n  },\n  defaultRoutes: {\n    bodyFont: 'font',\n    footerFont: 'font',\n    titleFont: 'font'\n  },\n  descriptors: {\n    _scriptable: (name) => name !== 'filter' && name !== 'itemSort' && name !== 'external',\n    _indexable: false,\n    callbacks: {\n      _scriptable: false,\n      _indexable: false,\n    },\n    animation: {\n      _fallback: false\n    },\n    animations: {\n      _fallback: 'animation'\n    }\n  },\n  additionalOptionScopes: ['interaction']\n};\n\nvar plugins = /*#__PURE__*/Object.freeze({\n__proto__: null,\nDecimation: plugin_decimation,\nFiller: plugin_filler,\nLegend: plugin_legend,\nTitle: plugin_title,\nTooltip: plugin_tooltip\n});\n\nconst addIfString = (labels, raw, index) => typeof raw === 'string'\n  ? labels.push(raw) - 1\n  : isNaN(raw) ? null : index;\nfunction findOrAddLabel(labels, raw, index) {\n  const first = labels.indexOf(raw);\n  if (first === -1) {\n    return addIfString(labels, raw, index);\n  }\n  const last = labels.lastIndexOf(raw);\n  return first !== last ? index : first;\n}\nconst validIndex = (index, max) => index === null ? null : _limitValue(Math.round(index), 0, max);\nclass CategoryScale extends Scale {\n  constructor(cfg) {\n    super(cfg);\n    this._startValue = undefined;\n    this._valueRange = 0;\n  }\n  parse(raw, index) {\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    const labels = this.getLabels();\n    index = isFinite(index) && labels[index] === raw ? index\n      : findOrAddLabel(labels, raw, valueOrDefault(index, raw));\n    return validIndex(index, labels.length - 1);\n  }\n  determineDataLimits() {\n    const me = this;\n    const {minDefined, maxDefined} = me.getUserBounds();\n    let {min, max} = me.getMinMax(true);\n    if (me.options.bounds === 'ticks') {\n      if (!minDefined) {\n        min = 0;\n      }\n      if (!maxDefined) {\n        max = me.getLabels().length - 1;\n      }\n    }\n    me.min = min;\n    me.max = max;\n  }\n  buildTicks() {\n    const me = this;\n    const min = me.min;\n    const max = me.max;\n    const offset = me.options.offset;\n    const ticks = [];\n    let labels = me.getLabels();\n    labels = (min === 0 && max === labels.length - 1) ? labels : labels.slice(min, max + 1);\n    me._valueRange = Math.max(labels.length - (offset ? 0 : 1), 1);\n    me._startValue = me.min - (offset ? 0.5 : 0);\n    for (let value = min; value <= max; value++) {\n      ticks.push({value});\n    }\n    return ticks;\n  }\n  getLabelForValue(value) {\n    const me = this;\n    const labels = me.getLabels();\n    if (value >= 0 && value < labels.length) {\n      return labels[value];\n    }\n    return value;\n  }\n  configure() {\n    const me = this;\n    super.configure();\n    if (!me.isHorizontal()) {\n      me._reversePixels = !me._reversePixels;\n    }\n  }\n  getPixelForValue(value) {\n    const me = this;\n    if (typeof value !== 'number') {\n      value = me.parse(value);\n    }\n    return value === null ? NaN : me.getPixelForDecimal((value - me._startValue) / me._valueRange);\n  }\n  getPixelForTick(index) {\n    const me = this;\n    const ticks = me.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return me.getPixelForValue(ticks[index].value);\n  }\n  getValueForPixel(pixel) {\n    const me = this;\n    return Math.round(me._startValue + me.getDecimalForPixel(pixel) * me._valueRange);\n  }\n  getBasePixel() {\n    return this.bottom;\n  }\n}\nCategoryScale.id = 'category';\nCategoryScale.defaults = {\n  ticks: {\n    callback: CategoryScale.prototype.getLabelForValue\n  }\n};\n\nfunction generateTicks$1(generationOptions, dataRange) {\n  const ticks = [];\n  const MIN_SPACING = 1e-14;\n  const {step, min, max, precision, count, maxTicks, maxDigits, horizontal} = generationOptions;\n  const unit = step || 1;\n  const maxSpaces = maxTicks - 1;\n  const {min: rmin, max: rmax} = dataRange;\n  const minDefined = !isNullOrUndef(min);\n  const maxDefined = !isNullOrUndef(max);\n  const countDefined = !isNullOrUndef(count);\n  const minSpacing = (rmax - rmin) / maxDigits;\n  let spacing = niceNum((rmax - rmin) / maxSpaces / unit) * unit;\n  let factor, niceMin, niceMax, numSpaces;\n  if (spacing < MIN_SPACING && !minDefined && !maxDefined) {\n    return [{value: rmin}, {value: rmax}];\n  }\n  numSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);\n  if (numSpaces > maxSpaces) {\n    spacing = niceNum(numSpaces * spacing / maxSpaces / unit) * unit;\n  }\n  if (!isNullOrUndef(precision)) {\n    factor = Math.pow(10, precision);\n    spacing = Math.ceil(spacing * factor) / factor;\n  }\n  niceMin = Math.floor(rmin / spacing) * spacing;\n  niceMax = Math.ceil(rmax / spacing) * spacing;\n  if (minDefined && maxDefined && step && almostWhole((max - min) / step, spacing / 1000)) {\n    numSpaces = Math.min((max - min) / spacing, maxTicks);\n    spacing = (max - min) / numSpaces;\n    niceMin = min;\n    niceMax = max;\n  } else if (countDefined) {\n    niceMin = minDefined ? min : niceMin;\n    niceMax = maxDefined ? max : niceMax;\n    numSpaces = count - 1;\n    spacing = (niceMax - niceMin) / numSpaces;\n  } else {\n    numSpaces = (niceMax - niceMin) / spacing;\n    if (almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\n      numSpaces = Math.round(numSpaces);\n    } else {\n      numSpaces = Math.ceil(numSpaces);\n    }\n  }\n  factor = Math.pow(10, isNullOrUndef(precision) ? _decimalPlaces(spacing) : precision);\n  niceMin = Math.round(niceMin * factor) / factor;\n  niceMax = Math.round(niceMax * factor) / factor;\n  let j = 0;\n  if (minDefined) {\n    ticks.push({value: min});\n    if (niceMin <= min) {\n      j++;\n    }\n    if (almostEquals(Math.round((niceMin + j * spacing) * factor) / factor, min, minSpacing * (horizontal ? ('' + min).length : 1))) {\n      j++;\n    }\n  }\n  for (; j < numSpaces; ++j) {\n    ticks.push({value: Math.round((niceMin + j * spacing) * factor) / factor});\n  }\n  if (maxDefined) {\n    if (almostEquals(ticks[ticks.length - 1].value, max, minSpacing * (horizontal ? ('' + max).length : 1))) {\n      ticks[ticks.length - 1].value = max;\n    } else {\n      ticks.push({value: max});\n    }\n  } else {\n    ticks.push({value: niceMax});\n  }\n  return ticks;\n}\nclass LinearScaleBase extends Scale {\n  constructor(cfg) {\n    super(cfg);\n    this.start = undefined;\n    this.end = undefined;\n    this._startValue = undefined;\n    this._endValue = undefined;\n    this._valueRange = 0;\n  }\n  parse(raw, index) {\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    if ((typeof raw === 'number' || raw instanceof Number) && !isFinite(+raw)) {\n      return null;\n    }\n    return +raw;\n  }\n  handleTickRangeOptions() {\n    const me = this;\n    const {beginAtZero, stacked} = me.options;\n    const {minDefined, maxDefined} = me.getUserBounds();\n    let {min, max} = me;\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n    if (beginAtZero || stacked) {\n      const minSign = sign(min);\n      const maxSign = sign(max);\n      if (minSign < 0 && maxSign < 0) {\n        setMax(0);\n      } else if (minSign > 0 && maxSign > 0) {\n        setMin(0);\n      }\n    }\n    if (min === max) {\n      setMax(max + 1);\n      if (!beginAtZero) {\n        setMin(min - 1);\n      }\n    }\n    me.min = min;\n    me.max = max;\n  }\n  getTickLimit() {\n    const me = this;\n    const tickOpts = me.options.ticks;\n    let {maxTicksLimit, stepSize} = tickOpts;\n    let maxTicks;\n    if (stepSize) {\n      maxTicks = Math.ceil(me.max / stepSize) - Math.floor(me.min / stepSize) + 1;\n    } else {\n      maxTicks = me.computeTickLimit();\n      maxTicksLimit = maxTicksLimit || 11;\n    }\n    if (maxTicksLimit) {\n      maxTicks = Math.min(maxTicksLimit, maxTicks);\n    }\n    return maxTicks;\n  }\n  computeTickLimit() {\n    return Number.POSITIVE_INFINITY;\n  }\n  buildTicks() {\n    const me = this;\n    const opts = me.options;\n    const tickOpts = opts.ticks;\n    let maxTicks = me.getTickLimit();\n    maxTicks = Math.max(2, maxTicks);\n    const numericGeneratorOptions = {\n      maxTicks,\n      min: opts.min,\n      max: opts.max,\n      precision: tickOpts.precision,\n      step: tickOpts.stepSize,\n      count: tickOpts.count,\n      maxDigits: me._maxDigits(),\n      horizontal: me.isHorizontal()\n    };\n    const dataRange = me._range || me;\n    const ticks = generateTicks$1(numericGeneratorOptions, dataRange);\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, me, 'value');\n    }\n    if (opts.reverse) {\n      ticks.reverse();\n      me.start = me.max;\n      me.end = me.min;\n    } else {\n      me.start = me.min;\n      me.end = me.max;\n    }\n    return ticks;\n  }\n  configure() {\n    const me = this;\n    const ticks = me.ticks;\n    let start = me.min;\n    let end = me.max;\n    super.configure();\n    if (me.options.offset && ticks.length) {\n      const offset = (end - start) / Math.max(ticks.length - 1, 1) / 2;\n      start -= offset;\n      end += offset;\n    }\n    me._startValue = start;\n    me._endValue = end;\n    me._valueRange = end - start;\n  }\n  getLabelForValue(value) {\n    return formatNumber(value, this.chart.options.locale);\n  }\n}\n\nclass LinearScale extends LinearScaleBase {\n  determineDataLimits() {\n    const me = this;\n    const {min, max} = me.getMinMax(true);\n    me.min = isNumberFinite(min) ? min : 0;\n    me.max = isNumberFinite(max) ? max : 1;\n    me.handleTickRangeOptions();\n  }\n  computeTickLimit() {\n    const me = this;\n    if (me.isHorizontal()) {\n      return Math.ceil(me.width / 40);\n    }\n    const tickFont = me._resolveTickFontOptions(0);\n    return Math.ceil(me.height / tickFont.lineHeight);\n  }\n  getPixelForValue(value) {\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n  }\n  getValueForPixel(pixel) {\n    return this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;\n  }\n}\nLinearScale.id = 'linear';\nLinearScale.defaults = {\n  ticks: {\n    callback: Ticks.formatters.numeric\n  }\n};\n\nfunction isMajor(tickVal) {\n  const remain = tickVal / (Math.pow(10, Math.floor(log10(tickVal))));\n  return remain === 1;\n}\nfunction generateTicks(generationOptions, dataRange) {\n  const endExp = Math.floor(log10(dataRange.max));\n  const endSignificand = Math.ceil(dataRange.max / Math.pow(10, endExp));\n  const ticks = [];\n  let tickVal = finiteOrDefault(generationOptions.min, Math.pow(10, Math.floor(log10(dataRange.min))));\n  let exp = Math.floor(log10(tickVal));\n  let significand = Math.floor(tickVal / Math.pow(10, exp));\n  let precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;\n  do {\n    ticks.push({value: tickVal, major: isMajor(tickVal)});\n    ++significand;\n    if (significand === 10) {\n      significand = 1;\n      ++exp;\n      precision = exp >= 0 ? 1 : precision;\n    }\n    tickVal = Math.round(significand * Math.pow(10, exp) * precision) / precision;\n  } while (exp < endExp || (exp === endExp && significand < endSignificand));\n  const lastTick = finiteOrDefault(generationOptions.max, tickVal);\n  ticks.push({value: lastTick, major: isMajor(tickVal)});\n  return ticks;\n}\nclass LogarithmicScale extends Scale {\n  constructor(cfg) {\n    super(cfg);\n    this.start = undefined;\n    this.end = undefined;\n    this._startValue = undefined;\n    this._valueRange = 0;\n  }\n  parse(raw, index) {\n    const value = LinearScaleBase.prototype.parse.apply(this, [raw, index]);\n    if (value === 0) {\n      this._zero = true;\n      return undefined;\n    }\n    return isNumberFinite(value) && value > 0 ? value : null;\n  }\n  determineDataLimits() {\n    const me = this;\n    const {min, max} = me.getMinMax(true);\n    me.min = isNumberFinite(min) ? Math.max(0, min) : null;\n    me.max = isNumberFinite(max) ? Math.max(0, max) : null;\n    if (me.options.beginAtZero) {\n      me._zero = true;\n    }\n    me.handleTickRangeOptions();\n  }\n  handleTickRangeOptions() {\n    const me = this;\n    const {minDefined, maxDefined} = me.getUserBounds();\n    let min = me.min;\n    let max = me.max;\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n    const exp = (v, m) => Math.pow(10, Math.floor(log10(v)) + m);\n    if (min === max) {\n      if (min <= 0) {\n        setMin(1);\n        setMax(10);\n      } else {\n        setMin(exp(min, -1));\n        setMax(exp(max, +1));\n      }\n    }\n    if (min <= 0) {\n      setMin(exp(max, -1));\n    }\n    if (max <= 0) {\n      setMax(exp(min, +1));\n    }\n    if (me._zero && me.min !== me._suggestedMin && min === exp(me.min, 0)) {\n      setMin(exp(min, -1));\n    }\n    me.min = min;\n    me.max = max;\n  }\n  buildTicks() {\n    const me = this;\n    const opts = me.options;\n    const generationOptions = {\n      min: me._userMin,\n      max: me._userMax\n    };\n    const ticks = generateTicks(generationOptions, me);\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, me, 'value');\n    }\n    if (opts.reverse) {\n      ticks.reverse();\n      me.start = me.max;\n      me.end = me.min;\n    } else {\n      me.start = me.min;\n      me.end = me.max;\n    }\n    return ticks;\n  }\n  getLabelForValue(value) {\n    return value === undefined ? '0' : formatNumber(value, this.chart.options.locale);\n  }\n  configure() {\n    const me = this;\n    const start = me.min;\n    super.configure();\n    me._startValue = log10(start);\n    me._valueRange = log10(me.max) - log10(start);\n  }\n  getPixelForValue(value) {\n    const me = this;\n    if (value === undefined || value === 0) {\n      value = me.min;\n    }\n    if (value === null || isNaN(value)) {\n      return NaN;\n    }\n    return me.getPixelForDecimal(value === me.min\n      ? 0\n      : (log10(value) - me._startValue) / me._valueRange);\n  }\n  getValueForPixel(pixel) {\n    const me = this;\n    const decimal = me.getDecimalForPixel(pixel);\n    return Math.pow(10, me._startValue + decimal * me._valueRange);\n  }\n}\nLogarithmicScale.id = 'logarithmic';\nLogarithmicScale.defaults = {\n  ticks: {\n    callback: Ticks.formatters.logarithmic,\n    major: {\n      enabled: true\n    }\n  }\n};\n\nfunction getTickBackdropHeight(opts) {\n  const tickOpts = opts.ticks;\n  if (tickOpts.display && opts.display) {\n    const padding = toPadding(tickOpts.backdropPadding);\n    return valueOrDefault(tickOpts.font && tickOpts.font.size, defaults.font.size) + padding.height;\n  }\n  return 0;\n}\nfunction measureLabelSize(ctx, lineHeight, label) {\n  if (isArray(label)) {\n    return {\n      w: _longestText(ctx, ctx.font, label),\n      h: label.length * lineHeight\n    };\n  }\n  return {\n    w: ctx.measureText(label).width,\n    h: lineHeight\n  };\n}\nfunction determineLimits(angle, pos, size, min, max) {\n  if (angle === min || angle === max) {\n    return {\n      start: pos - (size / 2),\n      end: pos + (size / 2)\n    };\n  } else if (angle < min || angle > max) {\n    return {\n      start: pos - size,\n      end: pos\n    };\n  }\n  return {\n    start: pos,\n    end: pos + size\n  };\n}\nfunction fitWithPointLabels(scale) {\n  const furthestLimits = {\n    l: 0,\n    r: scale.width,\n    t: 0,\n    b: scale.height - scale.paddingTop\n  };\n  const furthestAngles = {};\n  let i, textSize, pointPosition;\n  const labelSizes = [];\n  const padding = [];\n  const valueCount = scale.getLabels().length;\n  for (i = 0; i < valueCount; i++) {\n    const opts = scale.options.pointLabels.setContext(scale.getContext(i));\n    padding[i] = opts.padding;\n    pointPosition = scale.getPointPosition(i, scale.drawingArea + padding[i]);\n    const plFont = toFont(opts.font);\n    scale.ctx.font = plFont.string;\n    textSize = measureLabelSize(scale.ctx, plFont.lineHeight, scale._pointLabels[i]);\n    labelSizes[i] = textSize;\n    const angleRadians = scale.getIndexAngle(i);\n    const angle = toDegrees(angleRadians);\n    const hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\n    const vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\n    if (hLimits.start < furthestLimits.l) {\n      furthestLimits.l = hLimits.start;\n      furthestAngles.l = angleRadians;\n    }\n    if (hLimits.end > furthestLimits.r) {\n      furthestLimits.r = hLimits.end;\n      furthestAngles.r = angleRadians;\n    }\n    if (vLimits.start < furthestLimits.t) {\n      furthestLimits.t = vLimits.start;\n      furthestAngles.t = angleRadians;\n    }\n    if (vLimits.end > furthestLimits.b) {\n      furthestLimits.b = vLimits.end;\n      furthestAngles.b = angleRadians;\n    }\n  }\n  scale._setReductions(scale.drawingArea, furthestLimits, furthestAngles);\n  scale._pointLabelItems = [];\n  const opts = scale.options;\n  const tickBackdropHeight = getTickBackdropHeight(opts);\n  const outerDistance = scale.getDistanceFromCenterForValue(opts.ticks.reverse ? scale.min : scale.max);\n  for (i = 0; i < valueCount; i++) {\n    const extra = (i === 0 ? tickBackdropHeight / 2 : 0);\n    const pointLabelPosition = scale.getPointPosition(i, outerDistance + extra + padding[i]);\n    const angle = toDegrees(scale.getIndexAngle(i));\n    const size = labelSizes[i];\n    adjustPointPositionForLabelHeight(angle, size, pointLabelPosition);\n    const textAlign = getTextAlignForAngle(angle);\n    let left;\n    if (textAlign === 'left') {\n      left = pointLabelPosition.x;\n    } else if (textAlign === 'center') {\n      left = pointLabelPosition.x - (size.w / 2);\n    } else {\n      left = pointLabelPosition.x - size.w;\n    }\n    const right = left + size.w;\n    scale._pointLabelItems[i] = {\n      x: pointLabelPosition.x,\n      y: pointLabelPosition.y,\n      textAlign,\n      left,\n      top: pointLabelPosition.y,\n      right,\n      bottom: pointLabelPosition.y + size.h,\n    };\n  }\n}\nfunction getTextAlignForAngle(angle) {\n  if (angle === 0 || angle === 180) {\n    return 'center';\n  } else if (angle < 180) {\n    return 'left';\n  }\n  return 'right';\n}\nfunction adjustPointPositionForLabelHeight(angle, textSize, position) {\n  if (angle === 90 || angle === 270) {\n    position.y -= (textSize.h / 2);\n  } else if (angle > 270 || angle < 90) {\n    position.y -= textSize.h;\n  }\n}\nfunction drawPointLabels(scale, labelCount) {\n  const {ctx, options: {pointLabels}} = scale;\n  for (let i = labelCount - 1; i >= 0; i--) {\n    const optsAtIndex = pointLabels.setContext(scale.getContext(i));\n    const plFont = toFont(optsAtIndex.font);\n    const {x, y, textAlign, left, top, right, bottom} = scale._pointLabelItems[i];\n    const {backdropColor} = optsAtIndex;\n    if (!isNullOrUndef(backdropColor)) {\n      const padding = toPadding(optsAtIndex.backdropPadding);\n      ctx.fillStyle = backdropColor;\n      ctx.fillRect(left - padding.left, top - padding.top, right - left + padding.width, bottom - top + padding.height);\n    }\n    renderText(\n      ctx,\n      scale._pointLabels[i],\n      x,\n      y + (plFont.lineHeight / 2),\n      plFont,\n      {\n        color: optsAtIndex.color,\n        textAlign: textAlign,\n        textBaseline: 'middle'\n      }\n    );\n  }\n}\nfunction pathRadiusLine(scale, radius, circular, labelCount) {\n  const {ctx} = scale;\n  if (circular) {\n    ctx.arc(scale.xCenter, scale.yCenter, radius, 0, TAU);\n  } else {\n    let pointPosition = scale.getPointPosition(0, radius);\n    ctx.moveTo(pointPosition.x, pointPosition.y);\n    for (let i = 1; i < labelCount; i++) {\n      pointPosition = scale.getPointPosition(i, radius);\n      ctx.lineTo(pointPosition.x, pointPosition.y);\n    }\n  }\n}\nfunction drawRadiusLine(scale, gridLineOpts, radius, labelCount) {\n  const ctx = scale.ctx;\n  const circular = gridLineOpts.circular;\n  const {color, lineWidth} = gridLineOpts;\n  if ((!circular && !labelCount) || !color || !lineWidth || radius < 0) {\n    return;\n  }\n  ctx.save();\n  ctx.strokeStyle = color;\n  ctx.lineWidth = lineWidth;\n  ctx.setLineDash(gridLineOpts.borderDash);\n  ctx.lineDashOffset = gridLineOpts.borderDashOffset;\n  ctx.beginPath();\n  pathRadiusLine(scale, radius, circular, labelCount);\n  ctx.closePath();\n  ctx.stroke();\n  ctx.restore();\n}\nfunction numberOrZero(param) {\n  return isNumber(param) ? param : 0;\n}\nclass RadialLinearScale extends LinearScaleBase {\n  constructor(cfg) {\n    super(cfg);\n    this.xCenter = undefined;\n    this.yCenter = undefined;\n    this.drawingArea = undefined;\n    this._pointLabels = [];\n    this._pointLabelItems = [];\n  }\n  setDimensions() {\n    const me = this;\n    me.width = me.maxWidth;\n    me.height = me.maxHeight;\n    me.paddingTop = getTickBackdropHeight(me.options) / 2;\n    me.xCenter = Math.floor(me.width / 2);\n    me.yCenter = Math.floor((me.height - me.paddingTop) / 2);\n    me.drawingArea = Math.min(me.height - me.paddingTop, me.width) / 2;\n  }\n  determineDataLimits() {\n    const me = this;\n    const {min, max} = me.getMinMax(false);\n    me.min = isNumberFinite(min) && !isNaN(min) ? min : 0;\n    me.max = isNumberFinite(max) && !isNaN(max) ? max : 0;\n    me.handleTickRangeOptions();\n  }\n  computeTickLimit() {\n    return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));\n  }\n  generateTickLabels(ticks) {\n    const me = this;\n    LinearScaleBase.prototype.generateTickLabels.call(me, ticks);\n    me._pointLabels = me.getLabels().map((value, index) => {\n      const label = callback(me.options.pointLabels.callback, [value, index], me);\n      return label || label === 0 ? label : '';\n    });\n  }\n  fit() {\n    const me = this;\n    const opts = me.options;\n    if (opts.display && opts.pointLabels.display) {\n      fitWithPointLabels(me);\n    } else {\n      me.setCenterPoint(0, 0, 0, 0);\n    }\n  }\n  _setReductions(largestPossibleRadius, furthestLimits, furthestAngles) {\n    const me = this;\n    let radiusReductionLeft = furthestLimits.l / Math.sin(furthestAngles.l);\n    let radiusReductionRight = Math.max(furthestLimits.r - me.width, 0) / Math.sin(furthestAngles.r);\n    let radiusReductionTop = -furthestLimits.t / Math.cos(furthestAngles.t);\n    let radiusReductionBottom = -Math.max(furthestLimits.b - (me.height - me.paddingTop), 0) / Math.cos(furthestAngles.b);\n    radiusReductionLeft = numberOrZero(radiusReductionLeft);\n    radiusReductionRight = numberOrZero(radiusReductionRight);\n    radiusReductionTop = numberOrZero(radiusReductionTop);\n    radiusReductionBottom = numberOrZero(radiusReductionBottom);\n    me.drawingArea = Math.max(largestPossibleRadius / 2, Math.min(\n      Math.floor(largestPossibleRadius - (radiusReductionLeft + radiusReductionRight) / 2),\n      Math.floor(largestPossibleRadius - (radiusReductionTop + radiusReductionBottom) / 2)));\n    me.setCenterPoint(radiusReductionLeft, radiusReductionRight, radiusReductionTop, radiusReductionBottom);\n  }\n  setCenterPoint(leftMovement, rightMovement, topMovement, bottomMovement) {\n    const me = this;\n    const maxRight = me.width - rightMovement - me.drawingArea;\n    const maxLeft = leftMovement + me.drawingArea;\n    const maxTop = topMovement + me.drawingArea;\n    const maxBottom = (me.height - me.paddingTop) - bottomMovement - me.drawingArea;\n    me.xCenter = Math.floor(((maxLeft + maxRight) / 2) + me.left);\n    me.yCenter = Math.floor(((maxTop + maxBottom) / 2) + me.top + me.paddingTop);\n  }\n  getIndexAngle(index) {\n    const angleMultiplier = TAU / this.getLabels().length;\n    const startAngle = this.options.startAngle || 0;\n    return _normalizeAngle(index * angleMultiplier + toRadians(startAngle));\n  }\n  getDistanceFromCenterForValue(value) {\n    const me = this;\n    if (isNullOrUndef(value)) {\n      return NaN;\n    }\n    const scalingFactor = me.drawingArea / (me.max - me.min);\n    if (me.options.reverse) {\n      return (me.max - value) * scalingFactor;\n    }\n    return (value - me.min) * scalingFactor;\n  }\n  getValueForDistanceFromCenter(distance) {\n    if (isNullOrUndef(distance)) {\n      return NaN;\n    }\n    const me = this;\n    const scaledDistance = distance / (me.drawingArea / (me.max - me.min));\n    return me.options.reverse ? me.max - scaledDistance : me.min + scaledDistance;\n  }\n  getPointPosition(index, distanceFromCenter) {\n    const me = this;\n    const angle = me.getIndexAngle(index) - HALF_PI;\n    return {\n      x: Math.cos(angle) * distanceFromCenter + me.xCenter,\n      y: Math.sin(angle) * distanceFromCenter + me.yCenter,\n      angle\n    };\n  }\n  getPointPositionForValue(index, value) {\n    return this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\n  }\n  getBasePosition(index) {\n    return this.getPointPositionForValue(index || 0, this.getBaseValue());\n  }\n  getPointLabelPosition(index) {\n    const {left, top, right, bottom} = this._pointLabelItems[index];\n    return {\n      left,\n      top,\n      right,\n      bottom,\n    };\n  }\n  drawBackground() {\n    const me = this;\n    const {backgroundColor, grid: {circular}} = me.options;\n    if (backgroundColor) {\n      const ctx = me.ctx;\n      ctx.save();\n      ctx.beginPath();\n      pathRadiusLine(me, me.getDistanceFromCenterForValue(me._endValue), circular, me.getLabels().length);\n      ctx.closePath();\n      ctx.fillStyle = backgroundColor;\n      ctx.fill();\n      ctx.restore();\n    }\n  }\n  drawGrid() {\n    const me = this;\n    const ctx = me.ctx;\n    const opts = me.options;\n    const {angleLines, grid} = opts;\n    const labelCount = me.getLabels().length;\n    let i, offset, position;\n    if (opts.pointLabels.display) {\n      drawPointLabels(me, labelCount);\n    }\n    if (grid.display) {\n      me.ticks.forEach((tick, index) => {\n        if (index !== 0) {\n          offset = me.getDistanceFromCenterForValue(tick.value);\n          const optsAtIndex = grid.setContext(me.getContext(index - 1));\n          drawRadiusLine(me, optsAtIndex, offset, labelCount);\n        }\n      });\n    }\n    if (angleLines.display) {\n      ctx.save();\n      for (i = me.getLabels().length - 1; i >= 0; i--) {\n        const optsAtIndex = angleLines.setContext(me.getContext(i));\n        const {color, lineWidth} = optsAtIndex;\n        if (!lineWidth || !color) {\n          continue;\n        }\n        ctx.lineWidth = lineWidth;\n        ctx.strokeStyle = color;\n        ctx.setLineDash(optsAtIndex.borderDash);\n        ctx.lineDashOffset = optsAtIndex.borderDashOffset;\n        offset = me.getDistanceFromCenterForValue(opts.ticks.reverse ? me.min : me.max);\n        position = me.getPointPosition(i, offset);\n        ctx.beginPath();\n        ctx.moveTo(me.xCenter, me.yCenter);\n        ctx.lineTo(position.x, position.y);\n        ctx.stroke();\n      }\n      ctx.restore();\n    }\n  }\n  drawBorder() {}\n  drawLabels() {\n    const me = this;\n    const ctx = me.ctx;\n    const opts = me.options;\n    const tickOpts = opts.ticks;\n    if (!tickOpts.display) {\n      return;\n    }\n    const startAngle = me.getIndexAngle(0);\n    let offset, width;\n    ctx.save();\n    ctx.translate(me.xCenter, me.yCenter);\n    ctx.rotate(startAngle);\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n    me.ticks.forEach((tick, index) => {\n      if (index === 0 && !opts.reverse) {\n        return;\n      }\n      const optsAtIndex = tickOpts.setContext(me.getContext(index));\n      const tickFont = toFont(optsAtIndex.font);\n      offset = me.getDistanceFromCenterForValue(me.ticks[index].value);\n      if (optsAtIndex.showLabelBackdrop) {\n        width = ctx.measureText(tick.label).width;\n        ctx.fillStyle = optsAtIndex.backdropColor;\n        const padding = toPadding(optsAtIndex.backdropPadding);\n        ctx.fillRect(\n          -width / 2 - padding.left,\n          -offset - tickFont.size / 2 - padding.top,\n          width + padding.width,\n          tickFont.size + padding.height\n        );\n      }\n      renderText(ctx, tick.label, 0, -offset, tickFont, {\n        color: optsAtIndex.color,\n      });\n    });\n    ctx.restore();\n  }\n  drawTitle() {}\n}\nRadialLinearScale.id = 'radialLinear';\nRadialLinearScale.defaults = {\n  display: true,\n  animate: true,\n  position: 'chartArea',\n  angleLines: {\n    display: true,\n    lineWidth: 1,\n    borderDash: [],\n    borderDashOffset: 0.0\n  },\n  grid: {\n    circular: false\n  },\n  startAngle: 0,\n  ticks: {\n    showLabelBackdrop: true,\n    callback: Ticks.formatters.numeric\n  },\n  pointLabels: {\n    backdropColor: undefined,\n    backdropPadding: 2,\n    display: true,\n    font: {\n      size: 10\n    },\n    callback(label) {\n      return label;\n    },\n    padding: 5\n  }\n};\nRadialLinearScale.defaultRoutes = {\n  'angleLines.color': 'borderColor',\n  'pointLabels.color': 'color',\n  'ticks.color': 'color'\n};\nRadialLinearScale.descriptors = {\n  angleLines: {\n    _fallback: 'grid'\n  }\n};\n\nconst INTERVALS = {\n  millisecond: {common: true, size: 1, steps: 1000},\n  second: {common: true, size: 1000, steps: 60},\n  minute: {common: true, size: 60000, steps: 60},\n  hour: {common: true, size: 3600000, steps: 24},\n  day: {common: true, size: 86400000, steps: 30},\n  week: {common: false, size: 604800000, steps: 4},\n  month: {common: true, size: 2.628e9, steps: 12},\n  quarter: {common: false, size: 7.884e9, steps: 4},\n  year: {common: true, size: 3.154e10}\n};\nconst UNITS = (Object.keys(INTERVALS));\nfunction sorter(a, b) {\n  return a - b;\n}\nfunction parse(scale, input) {\n  if (isNullOrUndef(input)) {\n    return null;\n  }\n  const adapter = scale._adapter;\n  const {parser, round, isoWeekday} = scale._parseOpts;\n  let value = input;\n  if (typeof parser === 'function') {\n    value = parser(value);\n  }\n  if (!isNumberFinite(value)) {\n    value = typeof parser === 'string'\n      ? adapter.parse(value, parser)\n      : adapter.parse(value);\n  }\n  if (value === null) {\n    return null;\n  }\n  if (round) {\n    value = round === 'week' && (isNumber(isoWeekday) || isoWeekday === true)\n      ? adapter.startOf(value, 'isoWeek', isoWeekday)\n      : adapter.startOf(value, round);\n  }\n  return +value;\n}\nfunction determineUnitForAutoTicks(minUnit, min, max, capacity) {\n  const ilen = UNITS.length;\n  for (let i = UNITS.indexOf(minUnit); i < ilen - 1; ++i) {\n    const interval = INTERVALS[UNITS[i]];\n    const factor = interval.steps ? interval.steps : Number.MAX_SAFE_INTEGER;\n    if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\n      return UNITS[i];\n    }\n  }\n  return UNITS[ilen - 1];\n}\nfunction determineUnitForFormatting(scale, numTicks, minUnit, min, max) {\n  for (let i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--) {\n    const unit = UNITS[i];\n    if (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {\n      return unit;\n    }\n  }\n  return UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];\n}\nfunction determineMajorUnit(unit) {\n  for (let i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i) {\n    if (INTERVALS[UNITS[i]].common) {\n      return UNITS[i];\n    }\n  }\n}\nfunction addTick(ticks, time, timestamps) {\n  if (!timestamps) {\n    ticks[time] = true;\n  } else if (timestamps.length) {\n    const {lo, hi} = _lookup(timestamps, time);\n    const timestamp = timestamps[lo] >= time ? timestamps[lo] : timestamps[hi];\n    ticks[timestamp] = true;\n  }\n}\nfunction setMajorTicks(scale, ticks, map, majorUnit) {\n  const adapter = scale._adapter;\n  const first = +adapter.startOf(ticks[0].value, majorUnit);\n  const last = ticks[ticks.length - 1].value;\n  let major, index;\n  for (major = first; major <= last; major = +adapter.add(major, 1, majorUnit)) {\n    index = map[major];\n    if (index >= 0) {\n      ticks[index].major = true;\n    }\n  }\n  return ticks;\n}\nfunction ticksFromTimestamps(scale, values, majorUnit) {\n  const ticks = [];\n  const map = {};\n  const ilen = values.length;\n  let i, value;\n  for (i = 0; i < ilen; ++i) {\n    value = values[i];\n    map[value] = i;\n    ticks.push({\n      value,\n      major: false\n    });\n  }\n  return (ilen === 0 || !majorUnit) ? ticks : setMajorTicks(scale, ticks, map, majorUnit);\n}\nclass TimeScale extends Scale {\n  constructor(props) {\n    super(props);\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n    this._unit = 'day';\n    this._majorUnit = undefined;\n    this._offsets = {};\n    this._normalized = false;\n    this._parseOpts = undefined;\n  }\n  init(scaleOpts, opts) {\n    const time = scaleOpts.time || (scaleOpts.time = {});\n    const adapter = this._adapter = new adapters._date(scaleOpts.adapters.date);\n    mergeIf(time.displayFormats, adapter.formats());\n    this._parseOpts = {\n      parser: time.parser,\n      round: time.round,\n      isoWeekday: time.isoWeekday\n    };\n    super.init(scaleOpts);\n    this._normalized = opts.normalized;\n  }\n  parse(raw, index) {\n    if (raw === undefined) {\n      return null;\n    }\n    return parse(this, raw);\n  }\n  beforeLayout() {\n    super.beforeLayout();\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n  }\n  determineDataLimits() {\n    const me = this;\n    const options = me.options;\n    const adapter = me._adapter;\n    const unit = options.time.unit || 'day';\n    let {min, max, minDefined, maxDefined} = me.getUserBounds();\n    function _applyBounds(bounds) {\n      if (!minDefined && !isNaN(bounds.min)) {\n        min = Math.min(min, bounds.min);\n      }\n      if (!maxDefined && !isNaN(bounds.max)) {\n        max = Math.max(max, bounds.max);\n      }\n    }\n    if (!minDefined || !maxDefined) {\n      _applyBounds(me._getLabelBounds());\n      if (options.bounds !== 'ticks' || options.ticks.source !== 'labels') {\n        _applyBounds(me.getMinMax(false));\n      }\n    }\n    min = isNumberFinite(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);\n    max = isNumberFinite(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit) + 1;\n    me.min = Math.min(min, max - 1);\n    me.max = Math.max(min + 1, max);\n  }\n  _getLabelBounds() {\n    const arr = this.getLabelTimestamps();\n    let min = Number.POSITIVE_INFINITY;\n    let max = Number.NEGATIVE_INFINITY;\n    if (arr.length) {\n      min = arr[0];\n      max = arr[arr.length - 1];\n    }\n    return {min, max};\n  }\n  buildTicks() {\n    const me = this;\n    const options = me.options;\n    const timeOpts = options.time;\n    const tickOpts = options.ticks;\n    const timestamps = tickOpts.source === 'labels' ? me.getLabelTimestamps() : me._generate();\n    if (options.bounds === 'ticks' && timestamps.length) {\n      me.min = me._userMin || timestamps[0];\n      me.max = me._userMax || timestamps[timestamps.length - 1];\n    }\n    const min = me.min;\n    const max = me.max;\n    const ticks = _filterBetween(timestamps, min, max);\n    me._unit = timeOpts.unit || (tickOpts.autoSkip\n      ? determineUnitForAutoTicks(timeOpts.minUnit, me.min, me.max, me._getLabelCapacity(min))\n      : determineUnitForFormatting(me, ticks.length, timeOpts.minUnit, me.min, me.max));\n    me._majorUnit = !tickOpts.major.enabled || me._unit === 'year' ? undefined\n      : determineMajorUnit(me._unit);\n    me.initOffsets(timestamps);\n    if (options.reverse) {\n      ticks.reverse();\n    }\n    return ticksFromTimestamps(me, ticks, me._majorUnit);\n  }\n  initOffsets(timestamps) {\n    const me = this;\n    let start = 0;\n    let end = 0;\n    let first, last;\n    if (me.options.offset && timestamps.length) {\n      first = me.getDecimalForValue(timestamps[0]);\n      if (timestamps.length === 1) {\n        start = 1 - first;\n      } else {\n        start = (me.getDecimalForValue(timestamps[1]) - first) / 2;\n      }\n      last = me.getDecimalForValue(timestamps[timestamps.length - 1]);\n      if (timestamps.length === 1) {\n        end = last;\n      } else {\n        end = (last - me.getDecimalForValue(timestamps[timestamps.length - 2])) / 2;\n      }\n    }\n    const limit = timestamps.length < 3 ? 0.5 : 0.25;\n    start = _limitValue(start, 0, limit);\n    end = _limitValue(end, 0, limit);\n    me._offsets = {start, end, factor: 1 / (start + 1 + end)};\n  }\n  _generate() {\n    const me = this;\n    const adapter = me._adapter;\n    const min = me.min;\n    const max = me.max;\n    const options = me.options;\n    const timeOpts = options.time;\n    const minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, me._getLabelCapacity(min));\n    const stepSize = valueOrDefault(timeOpts.stepSize, 1);\n    const weekday = minor === 'week' ? timeOpts.isoWeekday : false;\n    const hasWeekday = isNumber(weekday) || weekday === true;\n    const ticks = {};\n    let first = min;\n    let time, count;\n    if (hasWeekday) {\n      first = +adapter.startOf(first, 'isoWeek', weekday);\n    }\n    first = +adapter.startOf(first, hasWeekday ? 'day' : minor);\n    if (adapter.diff(max, min, minor) > 100000 * stepSize) {\n      throw new Error(min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor);\n    }\n    const timestamps = options.ticks.source === 'data' && me.getDataTimestamps();\n    for (time = first, count = 0; time < max; time = +adapter.add(time, stepSize, minor), count++) {\n      addTick(ticks, time, timestamps);\n    }\n    if (time === max || options.bounds === 'ticks' || count === 1) {\n      addTick(ticks, time, timestamps);\n    }\n    return Object.keys(ticks).sort((a, b) => a - b).map(x => +x);\n  }\n  getLabelForValue(value) {\n    const me = this;\n    const adapter = me._adapter;\n    const timeOpts = me.options.time;\n    if (timeOpts.tooltipFormat) {\n      return adapter.format(value, timeOpts.tooltipFormat);\n    }\n    return adapter.format(value, timeOpts.displayFormats.datetime);\n  }\n  _tickFormatFunction(time, index, ticks, format) {\n    const me = this;\n    const options = me.options;\n    const formats = options.time.displayFormats;\n    const unit = me._unit;\n    const majorUnit = me._majorUnit;\n    const minorFormat = unit && formats[unit];\n    const majorFormat = majorUnit && formats[majorUnit];\n    const tick = ticks[index];\n    const major = majorUnit && majorFormat && tick && tick.major;\n    const label = me._adapter.format(time, format || (major ? majorFormat : minorFormat));\n    const formatter = options.ticks.callback;\n    return formatter ? callback(formatter, [label, index, ticks], me) : label;\n  }\n  generateTickLabels(ticks) {\n    let i, ilen, tick;\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      tick.label = this._tickFormatFunction(tick.value, i, ticks);\n    }\n  }\n  getDecimalForValue(value) {\n    const me = this;\n    return value === null ? NaN : (value - me.min) / (me.max - me.min);\n  }\n  getPixelForValue(value) {\n    const me = this;\n    const offsets = me._offsets;\n    const pos = me.getDecimalForValue(value);\n    return me.getPixelForDecimal((offsets.start + pos) * offsets.factor);\n  }\n  getValueForPixel(pixel) {\n    const me = this;\n    const offsets = me._offsets;\n    const pos = me.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n    return me.min + pos * (me.max - me.min);\n  }\n  _getLabelSize(label) {\n    const me = this;\n    const ticksOpts = me.options.ticks;\n    const tickLabelWidth = me.ctx.measureText(label).width;\n    const angle = toRadians(me.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);\n    const cosRotation = Math.cos(angle);\n    const sinRotation = Math.sin(angle);\n    const tickFontSize = me._resolveTickFontOptions(0).size;\n    return {\n      w: (tickLabelWidth * cosRotation) + (tickFontSize * sinRotation),\n      h: (tickLabelWidth * sinRotation) + (tickFontSize * cosRotation)\n    };\n  }\n  _getLabelCapacity(exampleTime) {\n    const me = this;\n    const timeOpts = me.options.time;\n    const displayFormats = timeOpts.displayFormats;\n    const format = displayFormats[timeOpts.unit] || displayFormats.millisecond;\n    const exampleLabel = me._tickFormatFunction(exampleTime, 0, ticksFromTimestamps(me, [exampleTime], me._majorUnit), format);\n    const size = me._getLabelSize(exampleLabel);\n    const capacity = Math.floor(me.isHorizontal() ? me.width / size.w : me.height / size.h) - 1;\n    return capacity > 0 ? capacity : 1;\n  }\n  getDataTimestamps() {\n    const me = this;\n    let timestamps = me._cache.data || [];\n    let i, ilen;\n    if (timestamps.length) {\n      return timestamps;\n    }\n    const metas = me.getMatchingVisibleMetas();\n    if (me._normalized && metas.length) {\n      return (me._cache.data = metas[0].controller.getAllParsedValues(me));\n    }\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      timestamps = timestamps.concat(metas[i].controller.getAllParsedValues(me));\n    }\n    return (me._cache.data = me.normalize(timestamps));\n  }\n  getLabelTimestamps() {\n    const me = this;\n    const timestamps = me._cache.labels || [];\n    let i, ilen;\n    if (timestamps.length) {\n      return timestamps;\n    }\n    const labels = me.getLabels();\n    for (i = 0, ilen = labels.length; i < ilen; ++i) {\n      timestamps.push(parse(me, labels[i]));\n    }\n    return (me._cache.labels = me._normalized ? timestamps : me.normalize(timestamps));\n  }\n  normalize(values) {\n    return _arrayUnique(values.sort(sorter));\n  }\n}\nTimeScale.id = 'time';\nTimeScale.defaults = {\n  bounds: 'data',\n  adapters: {},\n  time: {\n    parser: false,\n    unit: false,\n    round: false,\n    isoWeekday: false,\n    minUnit: 'millisecond',\n    displayFormats: {}\n  },\n  ticks: {\n    source: 'auto',\n    major: {\n      enabled: false\n    }\n  }\n};\n\nfunction interpolate(table, val, reverse) {\n  let prevSource, nextSource, prevTarget, nextTarget;\n  if (reverse) {\n    prevSource = Math.floor(val);\n    nextSource = Math.ceil(val);\n    prevTarget = table[prevSource];\n    nextTarget = table[nextSource];\n  } else {\n    const result = _lookup(table, val);\n    prevTarget = result.lo;\n    nextTarget = result.hi;\n    prevSource = table[prevTarget];\n    nextSource = table[nextTarget];\n  }\n  const span = nextSource - prevSource;\n  return span ? prevTarget + (nextTarget - prevTarget) * (val - prevSource) / span : prevTarget;\n}\nclass TimeSeriesScale extends TimeScale {\n  constructor(props) {\n    super(props);\n    this._table = [];\n    this._maxIndex = undefined;\n  }\n  initOffsets() {\n    const me = this;\n    const timestamps = me._getTimestampsForTable();\n    me._table = me.buildLookupTable(timestamps);\n    me._maxIndex = me._table.length - 1;\n    super.initOffsets(timestamps);\n  }\n  buildLookupTable(timestamps) {\n    const me = this;\n    const {min, max} = me;\n    if (!timestamps.length) {\n      return [\n        {time: min, pos: 0},\n        {time: max, pos: 1}\n      ];\n    }\n    const items = [min];\n    let i, ilen, curr;\n    for (i = 0, ilen = timestamps.length; i < ilen; ++i) {\n      curr = timestamps[i];\n      if (curr > min && curr < max) {\n        items.push(curr);\n      }\n    }\n    items.push(max);\n    return items;\n  }\n  _getTimestampsForTable() {\n    const me = this;\n    let timestamps = me._cache.all || [];\n    if (timestamps.length) {\n      return timestamps;\n    }\n    const data = me.getDataTimestamps();\n    const label = me.getLabelTimestamps();\n    if (data.length && label.length) {\n      timestamps = me.normalize(data.concat(label));\n    } else {\n      timestamps = data.length ? data : label;\n    }\n    timestamps = me._cache.all = timestamps;\n    return timestamps;\n  }\n  getPixelForValue(value, index) {\n    const me = this;\n    const offsets = me._offsets;\n    const pos = me._normalized && me._maxIndex > 0 && !isNullOrUndef(index)\n      ? index / me._maxIndex : me.getDecimalForValue(value);\n    return me.getPixelForDecimal((offsets.start + pos) * offsets.factor);\n  }\n  getDecimalForValue(value) {\n    return interpolate(this._table, value) / this._maxIndex;\n  }\n  getValueForPixel(pixel) {\n    const me = this;\n    const offsets = me._offsets;\n    const decimal = me.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n    return interpolate(me._table, decimal * this._maxIndex, true);\n  }\n}\nTimeSeriesScale.id = 'timeseries';\nTimeSeriesScale.defaults = TimeScale.defaults;\n\nvar scales = /*#__PURE__*/Object.freeze({\n__proto__: null,\nCategoryScale: CategoryScale,\nLinearScale: LinearScale,\nLogarithmicScale: LogarithmicScale,\nRadialLinearScale: RadialLinearScale,\nTimeScale: TimeScale,\nTimeSeriesScale: TimeSeriesScale\n});\n\nconst registerables = [\n  controllers,\n  elements,\n  plugins,\n  scales,\n];\n\nexport { Animation, Animations, ArcElement, BarController, BarElement, BasePlatform, BasicPlatform, BubbleController, CategoryScale, Chart, DatasetController, plugin_decimation as Decimation, DomPlatform, DoughnutController, Element, plugin_filler as Filler, Interaction, plugin_legend as Legend, LineController, LineElement, LinearScale, LogarithmicScale, PieController, PointElement, PolarAreaController, RadarController, RadialLinearScale, Scale, ScatterController, Ticks, TimeScale, TimeSeriesScale, plugin_title as Title, plugin_tooltip as Tooltip, adapters as _adapters, animator, controllers, elements, layouts, plugins, registerables, registry, scales };\n","import App from './../../App'\nimport { html, render } from 'lit-html'\nimport { gotoRoute, anchorRoute } from './../../Router'\nimport Auth from './../../Auth'\nimport Utils from './../../Utils'\nimport FetchAPI from './../../FetchAPI'\nimport {\n    Chart,\n    ArcElement,\n    LineElement,\n    BarElement,\n    PointElement,\n    BarController,\n    BubbleController,\n    DoughnutController,\n    LineController,\n    PieController,\n    PolarAreaController,\n    RadarController,\n    ScatterController,\n    CategoryScale,\n    LinearScale,\n    LogarithmicScale,\n    RadialLinearScale,\n    TimeScale,\n    TimeSeriesScale,\n    Decimation,\n    Filler,\n    Legend,\n    Title,\n    Tooltip\n} from 'chart.js';\nimport { _numWithUnitExp } from 'gsap/gsap-core'\n\nChart.register(\n    ArcElement,\n    LineElement,\n    BarElement,\n    PointElement,\n    BarController,\n    BubbleController,\n    DoughnutController,\n    LineController,\n    PieController,\n    PolarAreaController,\n    RadarController,\n    ScatterController,\n    CategoryScale,\n    LinearScale,\n    LogarithmicScale,\n    RadialLinearScale,\n    TimeScale,\n    TimeSeriesScale,\n    Decimation,\n    Filler,\n    Legend,\n    Title,\n    Tooltip\n);\n\nlet users, items, places\nclass HomeView {\n    async init() {\n        console.log('HomeView.init')\n        document.title = 'Overview'\n        if (localStorage.accessLevel >= 1) {\n            users = await FetchAPI.getUsersAsync()\n            items = await FetchAPI.getItemsAsync()\n            places = await FetchAPI.getPlacesAsync()\n                // console.log(`Users are: ${users}`)\n                // console.log(`Items are: ${items}`)\n                // console.log(`Places are: ${places}`)\n        }\n\n        await this.render()\n        if (localStorage.accessLevel >= 1) await this.renderCharts(users, items, places)\n        Utils.pageIntroAnim()\n    }\n\n    handleClick() {\n        // console.log(`User selected... ${JSON.stringify(users)}`)\n    }\n\n    async renderCharts(users, items, places) {\n\n        let ctx1 = document.getElementById('myChart1').getContext('2d');\n        Chart.defaults.color = '#fff'\n        let myChart1 = new Chart(ctx1, {\n            type: 'bar',\n            data: {\n                labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],\n                datasets: [{\n                    label: '# of Votes',\n                    data: [12, 19, 3, 5, 2, 3],\n                    backgroundColor: [\n                        'rgba(255, 99, 132, 0.2)',\n                        'rgba(54, 162, 235, 0.2)',\n                        'rgba(255, 206, 86, 0.2)',\n                        'rgba(75, 192, 192, 0.2)',\n                        'rgba(153, 102, 255, 0.2)',\n                        'rgba(255, 159, 64, 0.2)'\n                    ],\n                    borderColor: [\n                        'rgba(255, 99, 132, 1)',\n                        'rgba(54, 162, 235, 1)',\n                        'rgba(255, 206, 86, 1)',\n                        'rgba(75, 192, 192, 1)',\n                        'rgba(153, 102, 255, 1)',\n                        'rgba(255, 159, 64, 1)'\n                    ],\n                    hoverBackgroundColor: [\n                        'rgba(255, 99, 132, 0.5)',\n                        'rgba(54, 162, 235, 0.5)',\n                        'rgba(255, 206, 86, 0.5)',\n                        'rgba(75, 192, 192, 0.5)',\n                        'rgba(153, 102, 255, 0.5)',\n                        'rgba(255, 159, 64, 0.5)'\n                    ],\n                    borderWidth: 1\n                }]\n            },\n            options: {\n                scales: {\n                    y: {\n                        beginAtZero: true\n                    }\n                },\n                responsive: true,\n                maintainAspectRatio: false\n            }\n        });\n        let ctx2 = document.getElementById('myChart2').getContext('2d');\n        // console.log(items)\n        Chart.defaults.color = '#fff'\n        let i, j\n        let labels = []\n        let temp = []\n        let durations = []\n        let colours = []\n        items.forEach(item => {\n            // console.log(`Item is: ${JSON.stringify(item)}`)\n            labels.push(`${item.name} duration`)\n            temp.push(item.activityHistory.activityDuration)\n                // colours.push()\n        });\n        // console.log(temp)\n\n        for (i = 0; i < temp.length; i++) {\n            let counter = 0\n            for (j = 0; j < temp[i].length; j++) {\n                counter += temp[i][j]\n            }\n            durations.push(counter)\n        }\n        // console.log(durations)\n        let myChart2 = new Chart(ctx2, {\n            type: 'doughnut',\n            data: {\n                labels: labels,\n                datasets: [{\n                    label: 'Most used device',\n                    data: durations,\n                    backgroundColor: [ // this will be random generated and other colours are opacity variations\n                        'rgba(255, 99, 132, 0.2)',\n                        'rgba(54, 162, 235, 0.2)',\n                        'rgba(255, 206, 86, 0.2)'\n                    ],\n                    borderColor: [\n                        'rgba(255, 99, 132, 1)',\n                        'rgba(54, 162, 235, 1)',\n                        'rgba(255, 206, 86, 1)'\n                    ],\n                    hoverBackgroundColor: [\n                        'rgba(255, 99, 132, 0.5)',\n                        'rgba(54, 162, 235, 0.5)',\n                        'rgba(255, 206, 86, 0.5)'\n                    ],\n                    borderWidth: 1\n                }]\n            },\n            options: {\n                scales: {\n                    y: {\n                        beginAtZero: true\n                    }\n                },\n                responsive: true,\n                maintainAspectRatio: false\n            }\n        });\n        let ctx3 = document.getElementById('myChart3').getContext('2d');\n        Chart.defaults.color = '#fff'\n        let myChart3 = new Chart(ctx3, {\n            type: 'line',\n            data: {\n                labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],\n                datasets: [{\n                    label: '# of Votes',\n                    data: [12, 19, 3, 5, 2, 3],\n                    backgroundColor: [\n                        'rgba(255, 99, 132, 0.2)',\n                        'rgba(54, 162, 235, 0.2)',\n                        'rgba(255, 206, 86, 0.2)',\n                        'rgba(75, 192, 192, 0.2)',\n                        'rgba(153, 102, 255, 0.2)',\n                        'rgba(255, 159, 64, 0.2)'\n                    ],\n                    borderColor: [\n                        'rgba(255, 99, 132, 1)',\n                        'rgba(54, 162, 235, 1)',\n                        'rgba(255, 206, 86, 1)',\n                        'rgba(75, 192, 192, 1)',\n                        'rgba(153, 102, 255, 1)',\n                        'rgba(255, 159, 64, 1)'\n                    ],\n                    borderWidth: 1\n                }]\n            },\n            options: {\n                scales: {\n                    y: {\n                        beginAtZero: true\n                    }\n                },\n                responsive: true,\n                maintainAspectRatio: false\n            }\n        });\n        let ctx4 = document.getElementById('myChart4').getContext('2d');\n        Chart.defaults.color = '#fff'\n        let myChart4 = new Chart(ctx4, {\n            type: 'radar',\n            data: {\n                labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],\n                datasets: [{\n                    label: '# of Votes',\n                    data: [12, 19, 3, 5, 2, 3],\n                    backgroundColor: [\n                        'rgba(255, 99, 132, 0.2)',\n                        'rgba(54, 162, 235, 0.2)',\n                        'rgba(255, 206, 86, 0.2)',\n                        'rgba(75, 192, 192, 0.2)',\n                        'rgba(153, 102, 255, 0.2)',\n                        'rgba(255, 159, 64, 0.2)'\n                    ],\n                    borderColor: [\n                        'rgba(255, 99, 132, 1)',\n                        'rgba(54, 162, 235, 1)',\n                        'rgba(255, 206, 86, 1)',\n                        'rgba(75, 192, 192, 1)',\n                        'rgba(153, 102, 255, 1)',\n                        'rgba(255, 159, 64, 1)'\n                    ],\n                    borderWidth: 1\n                }]\n            },\n            options: {\n                scales: {\n                    y: {\n                        beginAtZero: true\n                    }\n                },\n                responsive: true,\n                maintainAspectRatio: false\n            }\n        });\n        let ctx5 = document.getElementById('myChart5').getContext('2d');\n        Chart.defaults.color = '#fff'\n        let myChart5 = new Chart(ctx5, {\n            type: 'polarArea',\n            data: {\n                labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],\n                datasets: [{\n                    label: '# of Votes',\n                    data: [12, 19, 3, 5, 2, 3],\n                    backgroundColor: [\n                        'rgba(255, 99, 132, 0.2)',\n                        'rgba(54, 162, 235, 0.2)',\n                        'rgba(255, 206, 86, 0.2)',\n                        'rgba(75, 192, 192, 0.2)',\n                        'rgba(153, 102, 255, 0.2)',\n                        'rgba(255, 159, 64, 0.2)'\n                    ],\n                    borderColor: [\n                        'rgba(255, 99, 132, 1)',\n                        'rgba(54, 162, 235, 1)',\n                        'rgba(255, 206, 86, 1)',\n                        'rgba(75, 192, 192, 1)',\n                        'rgba(153, 102, 255, 1)',\n                        'rgba(255, 159, 64, 1)'\n                    ],\n                    borderWidth: 1\n                }]\n            },\n            options: {\n                scales: {\n                    y: {\n                        beginAtZero: true\n                    }\n                },\n                responsive: true,\n                maintainAspectRatio: false\n            }\n        });\n        let ctx6 = document.getElementById('myChart6').getContext('2d');\n        Chart.defaults.color = '#fff'\n        let myChart6 = new Chart(ctx6, {\n            type: 'pie',\n            data: {\n                labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],\n                datasets: [{\n                    label: '# of Votes',\n                    data: [12, 19, 3, 5, 2, 3],\n                    backgroundColor: [\n                        'rgba(255, 99, 132, 0.2)',\n                        'rgba(54, 162, 235, 0.2)',\n                        'rgba(255, 206, 86, 0.2)',\n                        'rgba(75, 192, 192, 0.2)',\n                        'rgba(153, 102, 255, 0.2)',\n                        'rgba(255, 159, 64, 0.2)'\n                    ],\n                    borderColor: [\n                        'rgba(255, 99, 132, 1)',\n                        'rgba(54, 162, 235, 1)',\n                        'rgba(255, 206, 86, 1)',\n                        'rgba(75, 192, 192, 1)',\n                        'rgba(153, 102, 255, 1)',\n                        'rgba(255, 159, 64, 1)'\n                    ],\n                    borderWidth: 1\n                }]\n            },\n            options: {\n                scales: {\n                    y: {\n                        beginAtZero: true\n                    }\n                },\n                responsive: true,\n                maintainAspectRatio: false\n            }\n        });\n    }\n\n    async render() {\n        const template = html `\n        <style>\n            .charts-container{\n                width: 100%;\n                display: flex;\n                flex-wrap: wrap;\n                justify-content: space-between;\n                align-items: center;\n            }\n            \n            .chart-container{\n                position: relative; \n                margin: auto;\n                width: 500px;\n                height: 500px;\n                min-width: 400px;\n                min-height: 400px;\n                padding: 1rem;\n            }\n\n            /* RESPONSIVE - SMALLER MONITORS -------------------*/\n            @media all and (max-width: 1611px) {\n                .charts-container{\n                    justify-content: space-evenly;\n            }\n                .chart-container{\n                    width: 50%;\n                    min-width: 300px;\n                    min-height: 300px;\n                }\n            }\n\n            /* RESPONSIVE - TABLET LRG -------------------*/\n            @media all and (max-width: 1023px) {\n                .chart-container{\n                    width: 100%;\n                    height: 100%;\n                }\n            }\n\n            /* RESPONSIVE - MOBILE -------------------*/\n            @media all and (max-width: 359px) {\n                .chart-container{\n                    height: 100%;\n                }\n            }\n        </style>\n\n        <link href=\"https://fonts.googleapis.com/icon?family=Material+Icons\" rel=\"stylesheet\">\n        <va-app-header title=\"Dashboard\" user=${JSON.stringify(Auth.currentUser)}></va-app-header>\n        <div class=\"page-content\">\n            <aa-panel-template title=${document.title}>\n            <div class=\"charts-container\" slot=\"body\">\n                <div class=\"chart-container\">\n                    <canvas class=\"charts\" id=\"myChart1\"></canvas>\n                </div>\n                <div class=\"chart-container\">\n                    <canvas class=\"charts\" id=\"myChart2\"></canvas>\n                </div>\n                <div class=\"chart-container\">\n                    <canvas class=\"charts\" id=\"myChart3\"></canvas>\n                </div>\n                <div class=\"chart-container\">\n                    <canvas class=\"charts\" id=\"myChart4\"></canvas>\n                </div>\n                <div class=\"chart-container\">\n                    <canvas class=\"charts\" id=\"myChart5\"></canvas>\n                </div>\n                <div class=\"chart-container\">\n                    <canvas class=\"charts\" id=\"myChart6\"></canvas>\n                </div>\n            </div>\n            </aa-panel-template>\n        </div>\n        `\n        render(template, App.rootEl)\n    }\n}\n\nexport default new HomeView()","import App from './../../App'\nimport {html, render } from 'lit-html'\n\nclass FourOFourView{\n  init(){\n    console.log('FourOFourView.init')    \n    document.title = '404 File not found'    \n    this.render()\n  }\n\n  render(){\n    const template = html`    \n      <div class=\"calign\">\n        <h1>Opps!</h1>\n        <p>Sorry, we couldn't find that.</p>\n      </div>\n    `\n    render(template, App.rootEl)\n  }\n}\n\nexport default new FourOFourView()","import App from '../../App'\nimport { html, render } from 'lit-html'\nimport { gotoRoute, anchorRoute } from '../../Router'\nimport Auth from '../../Auth'\nimport Utils from '../../Utils'\nimport FetchAPI from '../../FetchAPI'\n\nclass PlacesView {\n    async init() {\n        document.title = 'Places'\n        let places = await FetchAPI.getPlacesAsync()\n        await this.render(places)\n        Utils.pageIntroAnim()\n    }\n\n    handleClick(place) {\n        console.log(`Place selected... ${JSON.stringify(place)}`)\n    }\n\n    async render(places) {\n            const template = html `\n    <style>\n      .active{\n        color: lightgreen;\n      }\n\n      .inactive{\n        color: red;\n      }\n\n      .image{\n        height: 100%;\n        width: auto;\n      }\n\n      .grid-container{\n        display: grid;\n        width: 100%;\n        grid-template-columns: 10% 80% 10%;\n      }\n\n      .header{\n        font-weight: 900;\n        font-size: 1.2rem;\n      }\n\n      .cols{\n        border-bottom: 1px solid;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 100%;\n        height: 4rem;\n        padding: 0.5rem 0;\n      }\n\n      .col1{\n      }\n\n      .col2{\n        justify-content: flex-start;\n        padding: 0 1rem;\n      }\n\n      .col3{\n\n      }\n\n      .col4{\n        justify-content: flex-end;\n      }\n\n      .link{\n        cursor: pointer;\n      }\n\n      .col1 .material-icons{\n        font-size: 48px !important;\n      }\n\n      div::part(body){\n        /* background: orange; */\n      }\n\n    </style>\n    <link href=\"https://fonts.googleapis.com/icon?family=Material+Icons\" rel=\"stylesheet\">\n    <va-app-header title=\"Places\" user=\"${JSON.stringify(Auth.currentUser)}\"></va-app-header>\n    <div class=\"page-content\">\n      <aa-panel-template title=${document.title}>\n        <div slot=\"table-heading\">\n          <div class=\"grid-container\">\n            <div class=\"cols col1 header\">\n              <div></div>\n            </div>\n            <div class=\"cols col2 header\">\n              <div>Place Name</div>\n            </div>\n            <div class=\"cols col4 header\">\n              <div></div>\n            </div>\n          </div>\n        </div>\n        <div slot=\"body\" part=\"body\">\n          <div class=\"grid-container\">\n            ${places.map(place =>\n          html`\n            <div class=\"cols col1\">\n                <div class=\"material-icons\">${place.locationType.iconURL}</div>\n              </div>\n              <div class=\"cols col2\">\n                <div>${place.placeName}</div>\n              </div>\n              <div class=\"cols col4\">\n                <div class=\"material-icons link\" @click=${() => this.handleClick(place)}>handyman</div>\n              </div>\n            </div>\n            `\n        )}\n              </div>\n          </div>\n        </div>\n      </aa-panel-template>\n    </div>      \n    `\n        render(template, App.rootEl)\n      }\n}\n\n\nexport default new PlacesView()","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {isTemplatePartActive, Template, TemplatePart} from './template.js';\n\nconst walkerNodeFilter = 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */;\n\n/**\n * Removes the list of nodes from a Template safely. In addition to removing\n * nodes from the Template, the Template part indices are updated to match\n * the mutated Template DOM.\n *\n * As the template is walked the removal state is tracked and\n * part indices are adjusted as needed.\n *\n * div\n *   div#1 (remove) <-- start removing (removing node is div#1)\n *     div\n *       div#2 (remove)  <-- continue removing (removing node is still div#1)\n *         div\n * div <-- stop removing since previous sibling is the removing node (div#1,\n * removed 4 nodes)\n */\nexport function removeNodesFromTemplate(\n    template: Template, nodesToRemove: Set<Node>) {\n  const {element: {content}, parts} = template;\n  const walker =\n      document.createTreeWalker(content, walkerNodeFilter, null, false);\n  let partIndex = nextActiveIndexInTemplateParts(parts);\n  let part = parts[partIndex];\n  let nodeIndex = -1;\n  let removeCount = 0;\n  const nodesToRemoveInTemplate = [];\n  let currentRemovingNode: Node|null = null;\n  while (walker.nextNode()) {\n    nodeIndex++;\n    const node = walker.currentNode as Element;\n    // End removal if stepped past the removing node\n    if (node.previousSibling === currentRemovingNode) {\n      currentRemovingNode = null;\n    }\n    // A node to remove was found in the template\n    if (nodesToRemove.has(node)) {\n      nodesToRemoveInTemplate.push(node);\n      // Track node we're removing\n      if (currentRemovingNode === null) {\n        currentRemovingNode = node;\n      }\n    }\n    // When removing, increment count by which to adjust subsequent part indices\n    if (currentRemovingNode !== null) {\n      removeCount++;\n    }\n    while (part !== undefined && part.index === nodeIndex) {\n      // If part is in a removed node deactivate it by setting index to -1 or\n      // adjust the index as needed.\n      part.index = currentRemovingNode !== null ? -1 : part.index - removeCount;\n      // go to the next active part.\n      partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n      part = parts[partIndex];\n    }\n  }\n  nodesToRemoveInTemplate.forEach((n) => n.parentNode!.removeChild(n));\n}\n\nconst countNodes = (node: Node) => {\n  let count = (node.nodeType === 11 /* Node.DOCUMENT_FRAGMENT_NODE */) ? 0 : 1;\n  const walker = document.createTreeWalker(node, walkerNodeFilter, null, false);\n  while (walker.nextNode()) {\n    count++;\n  }\n  return count;\n};\n\nconst nextActiveIndexInTemplateParts =\n    (parts: TemplatePart[], startIndex = -1) => {\n      for (let i = startIndex + 1; i < parts.length; i++) {\n        const part = parts[i];\n        if (isTemplatePartActive(part)) {\n          return i;\n        }\n      }\n      return -1;\n    };\n\n/**\n * Inserts the given node into the Template, optionally before the given\n * refNode. In addition to inserting the node into the Template, the Template\n * part indices are updated to match the mutated Template DOM.\n */\nexport function insertNodeIntoTemplate(\n    template: Template, node: Node, refNode: Node|null = null) {\n  const {element: {content}, parts} = template;\n  // If there's no refNode, then put node at end of template.\n  // No part indices need to be shifted in this case.\n  if (refNode === null || refNode === undefined) {\n    content.appendChild(node);\n    return;\n  }\n  const walker =\n      document.createTreeWalker(content, walkerNodeFilter, null, false);\n  let partIndex = nextActiveIndexInTemplateParts(parts);\n  let insertCount = 0;\n  let walkerIndex = -1;\n  while (walker.nextNode()) {\n    walkerIndex++;\n    const walkerNode = walker.currentNode as Element;\n    if (walkerNode === refNode) {\n      insertCount = countNodes(node);\n      refNode.parentNode!.insertBefore(node, refNode);\n    }\n    while (partIndex !== -1 && parts[partIndex].index === walkerIndex) {\n      // If we've inserted the node, simply adjust all subsequent parts\n      if (insertCount > 0) {\n        while (partIndex !== -1) {\n          parts[partIndex].index += insertCount;\n          partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n        }\n        return;\n      }\n      partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n    }\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * Module to add shady DOM/shady CSS polyfill support to lit-html template\n * rendering. See the [[render]] method for details.\n *\n * @packageDocumentation\n */\n\n/**\n * Do not remove this comment; it keeps typedoc from misplacing the module\n * docs.\n */\nimport {removeNodes} from './dom.js';\nimport {insertNodeIntoTemplate, removeNodesFromTemplate} from './modify-template.js';\nimport {RenderOptions} from './render-options.js';\nimport {parts, render as litRender} from './render.js';\nimport {templateCaches} from './template-factory.js';\nimport {TemplateInstance} from './template-instance.js';\nimport {TemplateResult} from './template-result.js';\nimport {marker, Template} from './template.js';\n\nexport {html, svg, TemplateResult} from '../lit-html.js';\n\n// Get a key to lookup in `templateCaches`.\nconst getTemplateCacheKey = (type: string, scopeName: string) =>\n    `${type}--${scopeName}`;\n\nlet compatibleShadyCSSVersion = true;\n\nif (typeof window.ShadyCSS === 'undefined') {\n  compatibleShadyCSSVersion = false;\n} else if (typeof window.ShadyCSS.prepareTemplateDom === 'undefined') {\n  console.warn(\n      `Incompatible ShadyCSS version detected. ` +\n      `Please update to at least @webcomponents/webcomponentsjs@2.0.2 and ` +\n      `@webcomponents/shadycss@1.3.1.`);\n  compatibleShadyCSSVersion = false;\n}\n\n/**\n * Template factory which scopes template DOM using ShadyCSS.\n * @param scopeName {string}\n */\nexport const shadyTemplateFactory = (scopeName: string) =>\n    (result: TemplateResult) => {\n      const cacheKey = getTemplateCacheKey(result.type, scopeName);\n      let templateCache = templateCaches.get(cacheKey);\n      if (templateCache === undefined) {\n        templateCache = {\n          stringsArray: new WeakMap<TemplateStringsArray, Template>(),\n          keyString: new Map<string, Template>()\n        };\n        templateCaches.set(cacheKey, templateCache);\n      }\n\n      let template = templateCache.stringsArray.get(result.strings);\n      if (template !== undefined) {\n        return template;\n      }\n\n      const key = result.strings.join(marker);\n      template = templateCache.keyString.get(key);\n      if (template === undefined) {\n        const element = result.getTemplateElement();\n        if (compatibleShadyCSSVersion) {\n          window.ShadyCSS!.prepareTemplateDom(element, scopeName);\n        }\n        template = new Template(result, element);\n        templateCache.keyString.set(key, template);\n      }\n      templateCache.stringsArray.set(result.strings, template);\n      return template;\n    };\n\nconst TEMPLATE_TYPES = ['html', 'svg'];\n\n/**\n * Removes all style elements from Templates for the given scopeName.\n */\nconst removeStylesFromLitTemplates = (scopeName: string) => {\n  TEMPLATE_TYPES.forEach((type) => {\n    const templates = templateCaches.get(getTemplateCacheKey(type, scopeName));\n    if (templates !== undefined) {\n      templates.keyString.forEach((template) => {\n        const {element: {content}} = template;\n        // IE 11 doesn't support the iterable param Set constructor\n        const styles = new Set<Element>();\n        Array.from(content.querySelectorAll('style')).forEach((s: Element) => {\n          styles.add(s);\n        });\n        removeNodesFromTemplate(template, styles);\n      });\n    }\n  });\n};\n\nconst shadyRenderSet = new Set<string>();\n\n/**\n * For the given scope name, ensures that ShadyCSS style scoping is performed.\n * This is done just once per scope name so the fragment and template cannot\n * be modified.\n * (1) extracts styles from the rendered fragment and hands them to ShadyCSS\n * to be scoped and appended to the document\n * (2) removes style elements from all lit-html Templates for this scope name.\n *\n * Note, <style> elements can only be placed into templates for the\n * initial rendering of the scope. If <style> elements are included in templates\n * dynamically rendered to the scope (after the first scope render), they will\n * not be scoped and the <style> will be left in the template and rendered\n * output.\n */\nconst prepareTemplateStyles =\n    (scopeName: string, renderedDOM: DocumentFragment, template?: Template) => {\n      shadyRenderSet.add(scopeName);\n      // If `renderedDOM` is stamped from a Template, then we need to edit that\n      // Template's underlying template element. Otherwise, we create one here\n      // to give to ShadyCSS, which still requires one while scoping.\n      const templateElement =\n          !!template ? template.element : document.createElement('template');\n      // Move styles out of rendered DOM and store.\n      const styles = renderedDOM.querySelectorAll('style');\n      const {length} = styles;\n      // If there are no styles, skip unnecessary work\n      if (length === 0) {\n        // Ensure prepareTemplateStyles is called to support adding\n        // styles via `prepareAdoptedCssText` since that requires that\n        // `prepareTemplateStyles` is called.\n        //\n        // ShadyCSS will only update styles containing @apply in the template\n        // given to `prepareTemplateStyles`. If no lit Template was given,\n        // ShadyCSS will not be able to update uses of @apply in any relevant\n        // template. However, this is not a problem because we only create the\n        // template for the purpose of supporting `prepareAdoptedCssText`,\n        // which doesn't support @apply at all.\n        window.ShadyCSS!.prepareTemplateStyles(templateElement, scopeName);\n        return;\n      }\n      const condensedStyle = document.createElement('style');\n      // Collect styles into a single style. This helps us make sure ShadyCSS\n      // manipulations will not prevent us from being able to fix up template\n      // part indices.\n      // NOTE: collecting styles is inefficient for browsers but ShadyCSS\n      // currently does this anyway. When it does not, this should be changed.\n      for (let i = 0; i < length; i++) {\n        const style = styles[i];\n        style.parentNode!.removeChild(style);\n        condensedStyle.textContent! += style.textContent;\n      }\n      // Remove styles from nested templates in this scope.\n      removeStylesFromLitTemplates(scopeName);\n      // And then put the condensed style into the \"root\" template passed in as\n      // `template`.\n      const content = templateElement.content;\n      if (!!template) {\n        insertNodeIntoTemplate(template, condensedStyle, content.firstChild);\n      } else {\n        content.insertBefore(condensedStyle, content.firstChild);\n      }\n      // Note, it's important that ShadyCSS gets the template that `lit-html`\n      // will actually render so that it can update the style inside when\n      // needed (e.g. @apply native Shadow DOM case).\n      window.ShadyCSS!.prepareTemplateStyles(templateElement, scopeName);\n      const style = content.querySelector('style');\n      if (window.ShadyCSS!.nativeShadow && style !== null) {\n        // When in native Shadow DOM, ensure the style created by ShadyCSS is\n        // included in initially rendered output (`renderedDOM`).\n        renderedDOM.insertBefore(style.cloneNode(true), renderedDOM.firstChild);\n      } else if (!!template) {\n        // When no style is left in the template, parts will be broken as a\n        // result. To fix this, we put back the style node ShadyCSS removed\n        // and then tell lit to remove that node from the template.\n        // There can be no style in the template in 2 cases (1) when Shady DOM\n        // is in use, ShadyCSS removes all styles, (2) when native Shadow DOM\n        // is in use ShadyCSS removes the style if it contains no content.\n        // NOTE, ShadyCSS creates its own style so we can safely add/remove\n        // `condensedStyle` here.\n        content.insertBefore(condensedStyle, content.firstChild);\n        const removes = new Set<Node>();\n        removes.add(condensedStyle);\n        removeNodesFromTemplate(template, removes);\n      }\n    };\n\nexport interface ShadyRenderOptions extends Partial<RenderOptions> {\n  scopeName: string;\n}\n\n/**\n * Extension to the standard `render` method which supports rendering\n * to ShadowRoots when the ShadyDOM (https://github.com/webcomponents/shadydom)\n * and ShadyCSS (https://github.com/webcomponents/shadycss) polyfills are used\n * or when the webcomponentsjs\n * (https://github.com/webcomponents/webcomponentsjs) polyfill is used.\n *\n * Adds a `scopeName` option which is used to scope element DOM and stylesheets\n * when native ShadowDOM is unavailable. The `scopeName` will be added to\n * the class attribute of all rendered DOM. In addition, any style elements will\n * be automatically re-written with this `scopeName` selector and moved out\n * of the rendered DOM and into the document `<head>`.\n *\n * It is common to use this render method in conjunction with a custom element\n * which renders a shadowRoot. When this is done, typically the element's\n * `localName` should be used as the `scopeName`.\n *\n * In addition to DOM scoping, ShadyCSS also supports a basic shim for css\n * custom properties (needed only on older browsers like IE11) and a shim for\n * a deprecated feature called `@apply` that supports applying a set of css\n * custom properties to a given location.\n *\n * Usage considerations:\n *\n * * Part values in `<style>` elements are only applied the first time a given\n * `scopeName` renders. Subsequent changes to parts in style elements will have\n * no effect. Because of this, parts in style elements should only be used for\n * values that will never change, for example parts that set scope-wide theme\n * values or parts which render shared style elements.\n *\n * * Note, due to a limitation of the ShadyDOM polyfill, rendering in a\n * custom element's `constructor` is not supported. Instead rendering should\n * either done asynchronously, for example at microtask timing (for example\n * `Promise.resolve()`), or be deferred until the first time the element's\n * `connectedCallback` runs.\n *\n * Usage considerations when using shimmed custom properties or `@apply`:\n *\n * * Whenever any dynamic changes are made which affect\n * css custom properties, `ShadyCSS.styleElement(element)` must be called\n * to update the element. There are two cases when this is needed:\n * (1) the element is connected to a new parent, (2) a class is added to the\n * element that causes it to match different custom properties.\n * To address the first case when rendering a custom element, `styleElement`\n * should be called in the element's `connectedCallback`.\n *\n * * Shimmed custom properties may only be defined either for an entire\n * shadowRoot (for example, in a `:host` rule) or via a rule that directly\n * matches an element with a shadowRoot. In other words, instead of flowing from\n * parent to child as do native css custom properties, shimmed custom properties\n * flow only from shadowRoots to nested shadowRoots.\n *\n * * When using `@apply` mixing css shorthand property names with\n * non-shorthand names (for example `border` and `border-width`) is not\n * supported.\n */\nexport const render =\n    (result: unknown,\n     container: Element|DocumentFragment|ShadowRoot,\n     options: ShadyRenderOptions) => {\n      if (!options || typeof options !== 'object' || !options.scopeName) {\n        throw new Error('The `scopeName` option is required.');\n      }\n      const scopeName = options.scopeName;\n      const hasRendered = parts.has(container);\n      const needsScoping = compatibleShadyCSSVersion &&\n          container.nodeType === 11 /* Node.DOCUMENT_FRAGMENT_NODE */ &&\n          !!(container as ShadowRoot).host;\n      // Handle first render to a scope specially...\n      const firstScopeRender = needsScoping && !shadyRenderSet.has(scopeName);\n      // On first scope render, render into a fragment; this cannot be a single\n      // fragment that is reused since nested renders can occur synchronously.\n      const renderContainer =\n          firstScopeRender ? document.createDocumentFragment() : container;\n      litRender(\n          result,\n          renderContainer,\n          {templateFactory: shadyTemplateFactory(scopeName), ...options} as\n              RenderOptions);\n      // When performing first scope render,\n      // (1) We've rendered into a fragment so that there's a chance to\n      // `prepareTemplateStyles` before sub-elements hit the DOM\n      // (which might cause them to render based on a common pattern of\n      // rendering in a custom element's `connectedCallback`);\n      // (2) Scope the template with ShadyCSS one time only for this scope.\n      // (3) Render the fragment into the container and make sure the\n      // container knows its `part` is the one we just rendered. This ensures\n      // DOM will be re-used on subsequent renders.\n      if (firstScopeRender) {\n        const part = parts.get(renderContainer)!;\n        parts.delete(renderContainer);\n        // ShadyCSS might have style sheets (e.g. from `prepareAdoptedCssText`)\n        // that should apply to `renderContainer` even if the rendered value is\n        // not a TemplateInstance. However, it will only insert scoped styles\n        // into the document if `prepareTemplateStyles` has already been called\n        // for the given scope name.\n        const template = part.value instanceof TemplateInstance ?\n            part.value.template :\n            undefined;\n        prepareTemplateStyles(\n            scopeName, renderContainer as DocumentFragment, template);\n        removeNodes(container, container.firstChild);\n        container.appendChild(renderContainer);\n        parts.set(container, part);\n      }\n      // After elements have hit the DOM, update styling if this is the\n      // initial render to this container.\n      // This is needed whenever dynamic changes are made so it would be\n      // safest to do every render; however, this would regress performance\n      // so we leave it up to the user to call `ShadyCSS.styleElement`\n      // for dynamic changes.\n      if (!hasRendered && needsScoping) {\n        window.ShadyCSS!.styleElement((container as ShadowRoot).host);\n      }\n    };\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * When using Closure Compiler, JSCompiler_renameProperty(property, object) is\n * replaced at compile time by the munged name for object[property]. We cannot\n * alias this function, so we have to use a small shim that has the same\n * behavior when not compiling.\n */\nconst JSCompiler_renameProperty = (prop: PropertyKey, _obj: any) => prop;\n\n/**\n * Returns the property descriptor for a property on this prototype by walking\n * up the prototype chain. Note that we stop just before Object.prototype, which\n * also avoids issues with Symbol polyfills (core-js, get-own-property-symbols),\n * which create accessors for the symbols on Object.prototype.\n */\nconst descriptorFromPrototype = (name: PropertyKey, proto: UpdatingElement) => {\n  if (name in proto) {\n    while (proto !== Object.prototype) {\n      if (proto.hasOwnProperty(name)) {\n        return Object.getOwnPropertyDescriptor(proto, name);\n      }\n      proto = Object.getPrototypeOf(proto);\n    }\n  }\n  return undefined;\n};\n\n/**\n * Converts property values to and from attribute values.\n */\nexport interface ComplexAttributeConverter<Type = any, TypeHint = any> {\n\n  /**\n   * Function called to convert an attribute value to a property\n   * value.\n   */\n  fromAttribute?(value: string, type?: TypeHint): Type;\n\n  /**\n   * Function called to convert a property value to an attribute\n   * value.\n   */\n  toAttribute?(value: Type, type?: TypeHint): string|null;\n}\n\ntype AttributeConverter<Type = any, TypeHint = any> =\n    ComplexAttributeConverter<Type>|((value: string, type?: TypeHint) => Type);\n\n/**\n * Defines options for a property accessor.\n */\nexport interface PropertyDeclaration<Type = any, TypeHint = any> {\n\n  /**\n   * Indicates how and whether the property becomes an observed attribute.\n   * If the value is `false`, the property is not added to `observedAttributes`.\n   * If true or absent, the lowercased property name is observed (e.g. `fooBar`\n   * becomes `foobar`). If a string, the string value is observed (e.g\n   * `attribute: 'foo-bar'`).\n   */\n  attribute?: boolean|string;\n\n  /**\n   * Indicates the type of the property. This is used only as a hint for the\n   * `converter` to determine how to convert the attribute\n   * to/from a property.\n   */\n  type?: TypeHint;\n\n  /**\n   * Indicates how to convert the attribute to/from a property. If this value\n   * is a function, it is used to convert the attribute value a the property\n   * value. If it's an object, it can have keys for `fromAttribute` and\n   * `toAttribute`. If no `toAttribute` function is provided and\n   * `reflect` is set to `true`, the property value is set directly to the\n   * attribute. A default `converter` is used if none is provided; it supports\n   * `Boolean`, `String`, `Number`, `Object`, and `Array`. Note,\n   * when a property changes and the converter is used to update the attribute,\n   * the property is never updated again as a result of the attribute changing,\n   * and vice versa.\n   */\n  converter?: AttributeConverter<Type, TypeHint>;\n\n  /**\n   * Indicates if the property should reflect to an attribute.\n   * If `true`, when the property is set, the attribute is set using the\n   * attribute name determined according to the rules for the `attribute`\n   * property option and the value of the property converted using the rules\n   * from the `converter` property option.\n   */\n  reflect?: boolean;\n\n  /**\n   * A function that indicates if a property should be considered changed when\n   * it is set. The function should take the `newValue` and `oldValue` and\n   * return `true` if an update should be requested.\n   */\n  hasChanged?(value: Type, oldValue: Type): boolean;\n\n  /**\n   * Indicates whether an accessor will be created for this property. By\n   * default, an accessor will be generated for this property that requests an\n   * update when set. If this flag is `true`, no accessor will be created, and\n   * it will be the user's responsibility to call\n   * `this.requestUpdate(propertyName, oldValue)` to request an update when\n   * the property changes.\n   */\n  noAccessor?: boolean;\n}\n\n/**\n * Map of properties to PropertyDeclaration options. For each property an\n * accessor is made, and the property is processed according to the\n * PropertyDeclaration options.\n */\nexport interface PropertyDeclarations {\n  [key: string]: PropertyDeclaration;\n}\n\ntype PropertyDeclarationMap = Map<PropertyKey, PropertyDeclaration>;\n\ntype AttributeMap = Map<string, PropertyKey>;\n\nexport type PropertyValues = Map<PropertyKey, unknown>;\n\nexport const defaultConverter: ComplexAttributeConverter = {\n\n  toAttribute(value: any, type?: any) {\n    switch (type) {\n    case Boolean:\n      return value ? '' : null;\n    case Object:\n    case Array:\n      // if the value is `null` or `undefined` pass this through\n      // to allow removing/no change behavior.\n      return value == null ? value : JSON.stringify(value);\n    }\n    return value;\n  },\n\n  fromAttribute(value: any, type?: any) {\n    switch (type) {\n    case Boolean:\n      return value !== null;\n    case Number:\n      return value === null ? null : Number(value);\n    case Object:\n    case Array:\n      return JSON.parse(value);\n    }\n    return value;\n  }\n\n};\n\nexport interface HasChanged {\n  (value: unknown, old: unknown): boolean;\n}\n\n/**\n * Change function that returns true if `value` is different from `oldValue`.\n * This method is used as the default for a property's `hasChanged` function.\n */\nexport const notEqual: HasChanged = (value: unknown, old: unknown): boolean => {\n  // This ensures (old==NaN, value==NaN) always returns false\n  return old !== value && (old === old || value === value);\n};\n\nconst defaultPropertyDeclaration: PropertyDeclaration = {\n  attribute : true,\n  type : String,\n  converter : defaultConverter,\n  reflect : false,\n  hasChanged : notEqual\n};\n\nconst microtaskPromise = Promise.resolve(true);\n\nconst STATE_HAS_UPDATED = 1;\nconst STATE_UPDATE_REQUESTED = 1 << 2;\nconst STATE_IS_REFLECTING_TO_ATTRIBUTE = 1 << 3;\nconst STATE_IS_REFLECTING_TO_PROPERTY = 1 << 4;\nconst STATE_HAS_CONNECTED = 1 << 5;\ntype UpdateState = typeof STATE_HAS_UPDATED|typeof STATE_UPDATE_REQUESTED|\n    typeof STATE_IS_REFLECTING_TO_ATTRIBUTE|\n    typeof STATE_IS_REFLECTING_TO_PROPERTY|typeof STATE_HAS_CONNECTED;\n\n/**\n * Base element class which manages element properties and attributes. When\n * properties change, the `update` method is asynchronously called. This method\n * should be supplied by subclassers to render updates as desired.\n */\nexport abstract class UpdatingElement extends HTMLElement {\n\n  /*\n   * Due to closure compiler ES6 compilation bugs, @nocollapse is required on\n   * all static methods and properties with initializers.  Reference:\n   * - https://github.com/google/closure-compiler/issues/1776\n   */\n\n  /**\n   * Maps attribute names to properties; for example `foobar` attribute to\n   * `fooBar` property. Created lazily on user subclasses when finalizing the\n   * class.\n   */\n  private static _attributeToPropertyMap: AttributeMap;\n\n  /**\n   * Marks class as having finished creating properties.\n   */\n  protected static finalized = true;\n\n  /**\n   * Memoized list of all class properties, including any superclass properties.\n   * Created lazily on user subclasses when finalizing the class.\n   */\n  private static _classProperties?: PropertyDeclarationMap;\n\n  /**\n   * User-supplied object that maps property names to `PropertyDeclaration`\n   * objects containing options for configuring the property.\n   */\n  static properties: PropertyDeclarations;\n\n  /**\n   * Returns a list of attributes corresponding to the registered properties.\n   * @nocollapse\n   */\n  static get observedAttributes() {\n    // note: piggy backing on this to ensure we're _finalized.\n    this._finalize();\n    const attributes = [];\n    for (const [p, v] of this._classProperties!) {\n      const attr = this._attributeNameForProperty(p, v);\n      if (attr !== undefined) {\n        this._attributeToPropertyMap.set(attr, p);\n        attributes.push(attr);\n      }\n    }\n    return attributes;\n  }\n\n  /**\n   * Ensures the private `_classProperties` property metadata is created.\n   * In addition to `_finalize` this is also called in `createProperty` to\n   * ensure the `@property` decorator can add property metadata.\n   */\n  /** @nocollapse */\n  private static _ensureClassProperties() {\n    // ensure private storage for property declarations.\n    if (!this.hasOwnProperty(\n            JSCompiler_renameProperty('_classProperties', this))) {\n      this._classProperties = new Map();\n      // NOTE: Workaround IE11 not supporting Map constructor argument.\n      const superProperties = Object.getPrototypeOf(this)._classProperties;\n      if (superProperties !== undefined) {\n        superProperties.forEach((v: any, k: PropertyKey) =>\n                                    this._classProperties!.set(k, v));\n      }\n    }\n  }\n\n  /**\n   * Creates a property accessor on the element prototype if one does not exist.\n   * The property setter calls the property's `hasChanged` property option\n   * or uses a strict identity check to determine whether or not to request\n   * an update.\n   * @nocollapse\n   */\n  static createProperty(name: PropertyKey,\n                        options:\n                            PropertyDeclaration = defaultPropertyDeclaration) {\n    // Note, since this can be called by the `@property` decorator which\n    // is called before `_finalize`, we ensure storage exists for property\n    // metadata.\n    this._ensureClassProperties();\n    this._classProperties!.set(name, options);\n    if (!options.noAccessor) {\n      const superDesc = descriptorFromPrototype(name, this.prototype);\n      let desc;\n      // If there is a super accessor, capture it and \"super\" to it\n      if (superDesc !== undefined && (superDesc.set && superDesc.get)) {\n        const {set, get} = superDesc;\n        desc = {\n          get() { return get.call(this); },\n          set(value: any) {\n            const oldValue = this[name];\n            set.call(this, value);\n            this.requestUpdate(name, oldValue);\n          },\n          configurable : true,\n          enumerable : true\n        };\n      } else {\n        const key = typeof name === 'symbol' ? Symbol() : `__${name}`;\n        desc = {\n          get() { return this[key]; },\n          set(value: any) {\n            const oldValue = this[name];\n            this[key] = value;\n            this.requestUpdate(name, oldValue);\n          },\n          configurable : true,\n          enumerable : true\n        };\n      }\n      Object.defineProperty(this.prototype, name, desc);\n    }\n  }\n\n  /**\n   * Creates property accessors for registered properties and ensures\n   * any superclasses are also finalized.\n   * @nocollapse\n   */\n  private static _finalize() {\n    if (this.hasOwnProperty(JSCompiler_renameProperty('finalized', this)) &&\n        this.finalized) {\n      return;\n    }\n    // finalize any superclasses\n    const superCtor = Object.getPrototypeOf(this);\n    if (typeof superCtor._finalize === 'function') {\n      superCtor._finalize();\n    }\n    this.finalized = true;\n    this._ensureClassProperties();\n    // initialize Map populated in observedAttributes\n    this._attributeToPropertyMap = new Map();\n    // make any properties\n    // Note, only process \"own\" properties since this element will inherit\n    // any properties defined on the superClass, and finalization ensures\n    // the entire prototype chain is finalized.\n    if (this.hasOwnProperty(JSCompiler_renameProperty('properties', this))) {\n      const props = this.properties;\n      // support symbols in properties (IE11 does not support this)\n      const propKeys = [\n        ...Object.getOwnPropertyNames(props),\n        ...(typeof Object.getOwnPropertySymbols === 'function')\n            ? Object.getOwnPropertySymbols(props)\n            : []\n      ];\n      for (const p of propKeys) {\n        // note, use of `any` is due to TypeSript lack of support for symbol in\n        // index types\n        this.createProperty(p, (props as any)[p]);\n      }\n    }\n  }\n\n  /**\n   * Returns the property name for the given attribute `name`.\n   * @nocollapse\n   */\n  private static _attributeNameForProperty(name: PropertyKey,\n                                           options: PropertyDeclaration) {\n    const attribute = options.attribute;\n    return attribute === false\n               ? undefined\n               : (typeof attribute === 'string'\n                      ? attribute\n                      : (typeof name === 'string' ? name.toLowerCase()\n                                                  : undefined));\n  }\n\n  /**\n   * Returns true if a property should request an update.\n   * Called when a property value is set and uses the `hasChanged`\n   * option for the property if present or a strict identity check.\n   * @nocollapse\n   */\n  private static _valueHasChanged(value: unknown, old: unknown,\n                                  hasChanged: HasChanged = notEqual) {\n    return hasChanged(value, old);\n  }\n\n  /**\n   * Returns the property value for the given attribute value.\n   * Called via the `attributeChangedCallback` and uses the property's\n   * `converter` or `converter.fromAttribute` property option.\n   * @nocollapse\n   */\n  private static _propertyValueFromAttribute(value: string,\n                                             options: PropertyDeclaration) {\n    const type = options.type;\n    const converter = options.converter || defaultConverter;\n    const fromAttribute =\n        (typeof converter === 'function' ? converter : converter.fromAttribute);\n    return fromAttribute ? fromAttribute(value, type) : value;\n  }\n\n  /**\n   * Returns the attribute value for the given property value. If this\n   * returns undefined, the property will *not* be reflected to an attribute.\n   * If this returns null, the attribute will be removed, otherwise the\n   * attribute will be set to the value.\n   * This uses the property's `reflect` and `type.toAttribute` property options.\n   * @nocollapse\n   */\n  private static _propertyValueToAttribute(value: unknown,\n                                           options: PropertyDeclaration) {\n    if (options.reflect === undefined) {\n      return;\n    }\n    const type = options.type;\n    const converter = options.converter;\n    const toAttribute =\n        converter && (converter as ComplexAttributeConverter).toAttribute ||\n        defaultConverter.toAttribute;\n    return toAttribute!(value, type);\n  }\n\n  private _updateState: UpdateState = 0;\n  private _instanceProperties: PropertyValues|undefined = undefined;\n  private _updatePromise: Promise<unknown> = microtaskPromise;\n  private _hasConnectedResolver: (() => void)|undefined = undefined;\n\n  /**\n   * Map with keys for any properties that have changed since the last\n   * update cycle with previous values.\n   */\n  private _changedProperties: PropertyValues = new Map();\n\n  /**\n   * Map with keys of properties that should be reflected when updated.\n   */\n  private _reflectingProperties: Map<PropertyKey, PropertyDeclaration>|\n      undefined = undefined;\n\n  constructor() {\n    super();\n    this.initialize();\n  }\n\n  /**\n   * Performs element initialization. By default captures any pre-set values for\n   * registered properties.\n   */\n  protected initialize() { this._saveInstanceProperties(); }\n\n  /**\n   * Fixes any properties set on the instance before upgrade time.\n   * Otherwise these would shadow the accessor and break these properties.\n   * The properties are stored in a Map which is played back after the\n   * constructor runs. Note, on very old versions of Safari (<=9) or Chrome\n   * (<=41), properties created for native platform properties like (`id` or\n   * `name`) may not have default values set in the element constructor. On\n   * these browsers native properties appear on instances and therefore their\n   * default value will overwrite any element default (e.g. if the element sets\n   * this.id = 'id' in the constructor, the 'id' will become '' since this is\n   * the native platform default).\n   */\n  private _saveInstanceProperties() {\n    for (const [p] of (this.constructor as typeof UpdatingElement)\n             ._classProperties!) {\n      if (this.hasOwnProperty(p)) {\n        const value = this[p as keyof this];\n        delete this[p as keyof this];\n        if (!this._instanceProperties) {\n          this._instanceProperties = new Map();\n        }\n        this._instanceProperties.set(p, value);\n      }\n    }\n  }\n\n  /**\n   * Applies previously saved instance properties.\n   */\n  private _applyInstanceProperties() {\n    for (const [p, v] of this._instanceProperties!) {\n      (this as any)[p] = v;\n    }\n    this._instanceProperties = undefined;\n  }\n\n  connectedCallback() {\n    this._updateState = this._updateState | STATE_HAS_CONNECTED;\n    // Ensure connection triggers an update. Updates cannot complete before\n    // connection and if one is pending connection the `_hasConnectionResolver`\n    // will exist. If so, resolve it to complete the update, otherwise\n    // requestUpdate.\n    if (this._hasConnectedResolver) {\n      this._hasConnectedResolver();\n      this._hasConnectedResolver = undefined;\n    } else {\n      this.requestUpdate();\n    }\n  }\n\n  /**\n   * Allows for `super.disconnectedCallback()` in extensions while\n   * reserving the possibility of making non-breaking feature additions\n   * when disconnecting at some point in the future.\n   */\n  disconnectedCallback() {}\n\n  /**\n   * Synchronizes property values when attributes change.\n   */\n  attributeChangedCallback(name: string, old: string, value: string) {\n    if (old !== value) {\n      this._attributeToProperty(name, value);\n    }\n  }\n\n  private _propertyToAttribute(\n      name: PropertyKey, value: unknown,\n      options: PropertyDeclaration = defaultPropertyDeclaration) {\n    const ctor = (this.constructor as typeof UpdatingElement);\n    const attr = ctor._attributeNameForProperty(name, options);\n    if (attr !== undefined) {\n      const attrValue = ctor._propertyValueToAttribute(value, options);\n      // an undefined value does not change the attribute.\n      if (attrValue === undefined) {\n        return;\n      }\n      // Track if the property is being reflected to avoid\n      // setting the property again via `attributeChangedCallback`. Note:\n      // 1. this takes advantage of the fact that the callback is synchronous.\n      // 2. will behave incorrectly if multiple attributes are in the reaction\n      // stack at time of calling. However, since we process attributes\n      // in `update` this should not be possible (or an extreme corner case\n      // that we'd like to discover).\n      // mark state reflecting\n      this._updateState = this._updateState | STATE_IS_REFLECTING_TO_ATTRIBUTE;\n      if (attrValue == null) {\n        this.removeAttribute(attr);\n      } else {\n        this.setAttribute(attr, attrValue);\n      }\n      // mark state not reflecting\n      this._updateState = this._updateState & ~STATE_IS_REFLECTING_TO_ATTRIBUTE;\n    }\n  }\n\n  private _attributeToProperty(name: string, value: string) {\n    // Use tracking info to avoid deserializing attribute value if it was\n    // just set from a property setter.\n    if (this._updateState & STATE_IS_REFLECTING_TO_ATTRIBUTE) {\n      return;\n    }\n    const ctor = (this.constructor as typeof UpdatingElement);\n    const propName = ctor._attributeToPropertyMap.get(name);\n    if (propName !== undefined) {\n      const options =\n          ctor._classProperties!.get(propName) || defaultPropertyDeclaration;\n      // mark state reflecting\n      this._updateState = this._updateState | STATE_IS_REFLECTING_TO_PROPERTY;\n      this[propName as keyof this] =\n          ctor._propertyValueFromAttribute(value, options);\n      // mark state not reflecting\n      this._updateState = this._updateState & ~STATE_IS_REFLECTING_TO_PROPERTY;\n    }\n  }\n\n  /**\n   * Requests an update which is processed asynchronously. This should\n   * be called when an element should update based on some state not triggered\n   * by setting a property. In this case, pass no arguments. It should also be\n   * called when manually implementing a property setter. In this case, pass the\n   * property `name` and `oldValue` to ensure that any configured property\n   * options are honored. Returns the `updateComplete` Promise which is resolved\n   * when the update completes.\n   *\n   * @param name {PropertyKey} (optional) name of requesting property\n   * @param oldValue {any} (optional) old value of requesting property\n   * @returns {Promise} A Promise that is resolved when the update completes.\n   */\n  requestUpdate(name?: PropertyKey, oldValue?: any) {\n    let shouldRequestUpdate = true;\n    // if we have a property key, perform property update steps.\n    if (name !== undefined && !this._changedProperties.has(name)) {\n      const ctor = this.constructor as typeof UpdatingElement;\n      const options =\n          ctor._classProperties!.get(name) || defaultPropertyDeclaration;\n      if (ctor._valueHasChanged(this[name as keyof this], oldValue,\n                                options.hasChanged)) {\n        // track old value when changing.\n        this._changedProperties.set(name, oldValue);\n        // add to reflecting properties set\n        if (options.reflect === true &&\n            !(this._updateState & STATE_IS_REFLECTING_TO_PROPERTY)) {\n          if (this._reflectingProperties === undefined) {\n            this._reflectingProperties = new Map();\n          }\n          this._reflectingProperties.set(name, options);\n        }\n        // abort the request if the property should not be considered changed.\n      } else {\n        shouldRequestUpdate = false;\n      }\n    }\n    if (!this._hasRequestedUpdate && shouldRequestUpdate) {\n      this._enqueueUpdate();\n    }\n    return this.updateComplete;\n  }\n\n  /**\n   * Sets up the element to asynchronously update.\n   */\n  private async _enqueueUpdate() {\n    // Mark state updating...\n    this._updateState = this._updateState | STATE_UPDATE_REQUESTED;\n    let resolve: (r: boolean) => void;\n    const previousUpdatePromise = this._updatePromise;\n    this._updatePromise = new Promise((res) => resolve = res);\n    // Ensure any previous update has resolved before updating.\n    // This `await` also ensures that property changes are batched.\n    await previousUpdatePromise;\n    // Make sure the element has connected before updating.\n    if (!this._hasConnected) {\n      await new Promise((res) => this._hasConnectedResolver = res);\n    }\n    // Allow `performUpdate` to be asynchronous to enable scheduling of updates.\n    const result = this.performUpdate();\n    // Note, this is to avoid delaying an additional microtask unless we need\n    // to.\n    if (result != null &&\n        typeof (result as PromiseLike<unknown>).then === 'function') {\n      await result;\n    }\n    resolve!(!this._hasRequestedUpdate);\n  }\n\n  private get _hasConnected() {\n    return (this._updateState & STATE_HAS_CONNECTED);\n  }\n\n  private get _hasRequestedUpdate() {\n    return (this._updateState & STATE_UPDATE_REQUESTED);\n  }\n\n  protected get hasUpdated() { return (this._updateState & STATE_HAS_UPDATED); }\n\n  /**\n   * Performs an element update.\n   *\n   * You can override this method to change the timing of updates. For instance,\n   * to schedule updates to occur just before the next frame:\n   *\n   * ```\n   * protected async performUpdate(): Promise<unknown> {\n   *   await new Promise((resolve) => requestAnimationFrame(() => resolve()));\n   *   super.performUpdate();\n   * }\n   * ```\n   */\n  protected performUpdate(): void|Promise<unknown> {\n    // Mixin instance properties once, if they exist.\n    if (this._instanceProperties) {\n      this._applyInstanceProperties();\n    }\n    if (this.shouldUpdate(this._changedProperties)) {\n      const changedProperties = this._changedProperties;\n      this.update(changedProperties);\n      this._markUpdated();\n      if (!(this._updateState & STATE_HAS_UPDATED)) {\n        this._updateState = this._updateState | STATE_HAS_UPDATED;\n        this.firstUpdated(changedProperties);\n      }\n      this.updated(changedProperties);\n    } else {\n      this._markUpdated();\n    }\n  }\n\n  private _markUpdated() {\n    this._changedProperties = new Map();\n    this._updateState = this._updateState & ~STATE_UPDATE_REQUESTED;\n  }\n\n  /**\n   * Returns a Promise that resolves when the element has completed updating.\n   * The Promise value is a boolean that is `true` if the element completed the\n   * update without triggering another update. The Promise result is `false` if\n   * a property was set inside `updated()`. This getter can be implemented to\n   * await additional state. For example, it is sometimes useful to await a\n   * rendered element before fulfilling this Promise. To do this, first await\n   * `super.updateComplete` then any subsequent state.\n   *\n   * @returns {Promise} The Promise returns a boolean that indicates if the\n   * update resolved without triggering another update.\n   */\n  get updateComplete() { return this._updatePromise; }\n\n  /**\n   * Controls whether or not `update` should be called when the element requests\n   * an update. By default, this method always returns `true`, but this can be\n   * customized to control when to update.\n   *\n   * * @param _changedProperties Map of changed properties with old values\n   */\n  protected shouldUpdate(_changedProperties: PropertyValues): boolean {\n    return true;\n  }\n\n  /**\n   * Updates the element. This method reflects property values to attributes.\n   * It can be overridden to render and keep updated element DOM.\n   * Setting properties inside this method will *not* trigger\n   * another update.\n   *\n   * * @param _changedProperties Map of changed properties with old values\n   */\n  protected update(_changedProperties: PropertyValues) {\n    if (this._reflectingProperties !== undefined &&\n        this._reflectingProperties.size > 0) {\n      for (const [k, v] of this._reflectingProperties) {\n        this._propertyToAttribute(k, this[k as keyof this], v);\n      }\n      this._reflectingProperties = undefined;\n    }\n  }\n\n  /**\n   * Invoked whenever the element is updated. Implement to perform\n   * post-updating tasks via DOM APIs, for example, focusing an element.\n   *\n   * Setting properties inside this method will trigger the element to update\n   * again after this update cycle completes.\n   *\n   * * @param _changedProperties Map of changed properties with old values\n   */\n  protected updated(_changedProperties: PropertyValues) {}\n\n  /**\n   * Invoked when the element is first updated. Implement to perform one time\n   * work on the element after update.\n   *\n   * Setting properties inside this method will trigger the element to update\n   * again after this update cycle completes.\n   *\n   * * @param _changedProperties Map of changed properties with old values\n   */\n  protected firstUpdated(_changedProperties: PropertyValues) {}\n}\n","\n/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {LitElement} from '../lit-element.js';\n\nimport {PropertyDeclaration, UpdatingElement} from './updating-element.js';\n\nexport type Constructor<T> = {\n  new (...args: any[]): T\n};\n\n// From the TC39 Decorators proposal\ninterface ClassDescriptor {\n  kind: 'class';\n  elements: ClassElement[];\n  finisher?: <T>(clazz: Constructor<T>) => undefined | Constructor<T>;\n}\n\n// From the TC39 Decorators proposal\ninterface ClassElement {\n  kind: 'field'|'method';\n  key: PropertyKey;\n  placement: 'static'|'prototype'|'own';\n  initializer?: Function;\n  extras?: ClassElement[];\n  finisher?: <T>(clazz: Constructor<T>) => undefined | Constructor<T>;\n  descriptor?: PropertyDescriptor;\n}\n\nconst legacyCustomElement =\n    (tagName: string, clazz: Constructor<HTMLElement>) => {\n      window.customElements.define(tagName, clazz);\n      // Cast as any because TS doesn't recognize the return type as being a\n      // subtype of the decorated class when clazz is typed as\n      // `Constructor<HTMLElement>` for some reason.\n      // `Constructor<HTMLElement>` is helpful to make sure the decorator is\n      // applied to elements however.\n      return clazz as any;\n    };\n\nconst standardCustomElement =\n    (tagName: string, descriptor: ClassDescriptor) => {\n      const {kind, elements} = descriptor;\n      return {\n        kind,\n        elements,\n        // This callback is called once the class is otherwise fully defined\n        finisher(clazz: Constructor<HTMLElement>) {\n          window.customElements.define(tagName, clazz);\n        }\n      };\n    };\n\n/**\n * Class decorator factory that defines the decorated class as a custom element.\n *\n * @param tagName the name of the custom element to define\n *\n * In TypeScript, the `tagName` passed to `customElement` should be a key of the\n * `HTMLElementTagNameMap` interface. To add your element to the interface,\n * declare the interface in this module:\n *\n *     @customElement('my-element')\n *     export class MyElement extends LitElement {}\n *\n *     declare global {\n *       interface HTMLElementTagNameMap {\n *         'my-element': MyElement;\n *       }\n *     }\n *\n */\nexport const customElement = (tagName: string) => (\n    classOrDescriptor: Constructor<HTMLElement>|ClassDescriptor) =>\n    (typeof classOrDescriptor === 'function')\n        ? legacyCustomElement(tagName,\n                              classOrDescriptor as Constructor<HTMLElement>)\n        : standardCustomElement(tagName, classOrDescriptor as ClassDescriptor);\n\nconst standardProperty =\n    (options: PropertyDeclaration, element: ClassElement) => {\n      // createProperty() takes care of defining the property, but we still must\n      // return some kind of descriptor, so return a descriptor for an unused\n      // prototype field. The finisher calls createProperty().\n      return {\n        kind : 'field',\n        key : Symbol(),\n        placement : 'own',\n        descriptor : {},\n        // When @babel/plugin-proposal-decorators implements initializers,\n        // do this instead of the initializer below. See:\n        // https://github.com/babel/babel/issues/9260 extras: [\n        //   {\n        //     kind: 'initializer',\n        //     placement: 'own',\n        //     initializer: descriptor.initializer,\n        //   }\n        // ],\n        initializer(this: any) {\n          if (typeof element.initializer === 'function') {\n            this[element.key] = element.initializer!.call(this);\n          }\n        },\n        finisher(clazz: typeof UpdatingElement) {\n          clazz.createProperty(element.key, options);\n        }\n      };\n    };\n\nconst legacyProperty = (options: PropertyDeclaration, proto: Object,\n                        name: PropertyKey) => {\n  (proto.constructor as typeof UpdatingElement).createProperty(name!, options);\n};\n\n/**\n * A property decorator which creates a LitElement property which reflects a\n * corresponding attribute value. A `PropertyDeclaration` may optionally be\n * supplied to configure property features.\n */\nexport const property = (options?: PropertyDeclaration) =>\n    (protoOrDescriptor: Object|ClassElement, name?: PropertyKey): any =>\n        (name !== undefined)\n            ? legacyProperty(options!, protoOrDescriptor as Object, name)\n            : standardProperty(options!, protoOrDescriptor as ClassElement);\n\n/**\n * A property decorator that converts a class property into a getter that\n * executes a querySelector on the element's renderRoot.\n */\nexport const query = _query((target: NodeSelector, selector: string) =>\n                                target.querySelector(selector));\n\n/**\n * A property decorator that converts a class property into a getter\n * that executes a querySelectorAll on the element's renderRoot.\n */\nexport const queryAll = _query((target: NodeSelector, selector: string) =>\n                                   target.querySelectorAll(selector));\n\nconst legacyQuery =\n    (descriptor: PropertyDescriptor, proto: Object,\n     name: PropertyKey) => { Object.defineProperty(proto, name, descriptor); };\n\nconst standardQuery = (descriptor: PropertyDescriptor, element: ClassElement) =>\n    ({\n      kind : 'method',\n      placement : 'prototype',\n      key : element.key,\n      descriptor,\n    });\n\n/**\n * Base-implementation of `@query` and `@queryAll` decorators.\n *\n * @param queryFn exectute a `selector` (ie, querySelector or querySelectorAll)\n * against `target`.\n */\nfunction _query<T>(queryFn: (target: NodeSelector, selector: string) => T) {\n  return (selector: string) => (protoOrDescriptor: Object|ClassElement,\n                                name?: PropertyKey): any => {\n    const descriptor = {\n      get(this: LitElement) { return queryFn(this.renderRoot!, selector); },\n      enumerable : true,\n      configurable : true,\n    };\n    return (name !== undefined)\n               ? legacyQuery(descriptor, protoOrDescriptor as Object, name)\n               : standardQuery(descriptor, protoOrDescriptor as ClassElement);\n  };\n}\n\nconst standardEventOptions =\n    (options: AddEventListenerOptions, element: ClassElement) => {\n      return {\n        ...element,\n        finisher(clazz: typeof UpdatingElement) {\n          Object.assign(clazz.prototype[element.key as keyof UpdatingElement],\n                        options);\n        }\n      };\n    };\n\nconst legacyEventOptions =\n    (options: AddEventListenerOptions, proto: any,\n     name: PropertyKey) => { Object.assign(proto[name], options); };\n\n/**\n * Adds event listener options to a method used as an event listener in a\n * lit-html template.\n *\n * @param options An object that specifis event listener options as accepted by\n * `EventTarget#addEventListener` and `EventTarget#removeEventListener`.\n *\n * Current browsers support the `capture`, `passive`, and `once` options. See:\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Parameters\n *\n * @example\n *\n *     class MyElement {\n *\n *       clicked = false;\n *\n *       render() {\n *         return html`<div @click=${this._onClick}`><button></button></div>`;\n *       }\n *\n *       @eventOptions({capture: true})\n *       _onClick(e) {\n *         this.clicked = true;\n *       }\n *     }\n */\nexport const eventOptions = (options: AddEventListenerOptions) =>\n    // Return value typed as any to prevent TypeScript from complaining that\n    // standard decorator function signature does not match TypeScript decorator\n    // signature\n    // TODO(kschaaf): unclear why it was only failing on this decorator and not\n    // the others\n    ((protoOrDescriptor: Object|ClassElement, name?: string) =>\n         (name !== undefined)\n             ? legacyEventOptions(options, protoOrDescriptor as Object, name)\n             : standardEventOptions(options,\n                                    protoOrDescriptor as ClassElement)) as any;\n","/**\n@license\nCopyright (c) 2019 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\n\nexport const supportsAdoptingStyleSheets =\n    ('adoptedStyleSheets' in Document.prototype);\n\nexport class CSSResult {\n\n  _styleSheet?: CSSStyleSheet|null;\n\n  readonly cssText: string;\n\n  constructor(cssText: string) { this.cssText = cssText; }\n\n  // Note, this is a getter so that it's lazy. In practice, this means\n  // stylesheets are not created until the first element instance is made.\n  get styleSheet(): CSSStyleSheet|null {\n    if (this._styleSheet === undefined) {\n      // Note, if `adoptedStyleSheets` is supported then we assume CSSStyleSheet\n      // is constructable.\n      if (supportsAdoptingStyleSheets) {\n        this._styleSheet = new CSSStyleSheet();\n        this._styleSheet.replaceSync(this.cssText);\n      } else {\n        this._styleSheet = null;\n      }\n    }\n    return this._styleSheet;\n  }\n}\n\nconst textFromCSSResult = (value: CSSResult) => {\n  if (value instanceof CSSResult) {\n    return value.cssText;\n  } else {\n    throw new Error(\n        `Value passed to 'css' function must be a 'css' function result: ${\n            value}.`);\n  }\n};\n\nexport const css =\n    (strings: TemplateStringsArray, ...values: CSSResult[]): CSSResult => {\n      const cssText = values.reduce(\n          (acc, v, idx) => acc + textFromCSSResult(v) + strings[idx + 1],\n          strings[0]);\n      return new CSSResult(cssText);\n    };","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport {TemplateResult} from 'lit-html';\nimport {render} from 'lit-html/lib/shady-render';\n\nimport {PropertyValues, UpdatingElement} from './lib/updating-element.js';\n\nexport * from './lib/updating-element.js';\nexport * from './lib/decorators.js';\nexport {html, svg, TemplateResult, SVGTemplateResult} from 'lit-html/lit-html';\nimport {supportsAdoptingStyleSheets, CSSResult} from './lib/css-tag.js';\nexport * from './lib/css-tag.js';\n\nexport class LitElement extends UpdatingElement {\n\n  /**\n   * Ensure this class is marked as `finalized` as an optimization ensuring\n   * it will not needlessly try to `finalize`.\n   */\n  protected static finalized = true;\n\n  /**\n   * Render method used to render the lit-html TemplateResult to the element's\n   * DOM.\n   * @param {TemplateResult} Template to render.\n   * @param {Element|DocumentFragment} Node into which to render.\n   * @param {String} Element name.\n   * @nocollapse\n   */\n  static render = render;\n\n  /**\n   * Array of styles to apply to the element. The styles should be defined\n   * using the `css` tag function.\n   */\n  static get styles(): CSSResult[] { return []; }\n\n  private static _styles: CSSResult[]|undefined;\n\n  private static get _uniqueStyles(): CSSResult[] {\n    if (this._styles === undefined) {\n      const styles = this.styles;\n      // As a performance optimization to avoid duplicated styling that can\n      // occur especially when composing via subclassing, de-duplicate styles\n      // preserving the last item in the list. The last item is kept to\n      // try to preserve cascade order with the assumption that it's most\n      // important that last added styles override previous styles.\n      const styleSet = styles.reduceRight((set, s) => {\n        set.add(s);\n        // on IE set.add does not return the set.\n        return set;\n      }, new Set());\n      // Array.form does not work on Set in IE\n      this._styles = [];\n      styleSet.forEach((v) => this._styles!.unshift(v));\n    }\n    return this._styles;\n  }\n\n  private _needsShimAdoptedStyleSheets?: boolean;\n\n  /**\n   * Node or ShadowRoot into which element DOM should be rendered. Defaults\n   * to an open shadowRoot.\n   */\n  protected renderRoot?: Element|DocumentFragment;\n\n  /**\n   * Performs element initialization. By default this calls `createRenderRoot`\n   * to create the element `renderRoot` node and captures any pre-set values for\n   * registered properties.\n   */\n  protected initialize() {\n    super.initialize();\n    this.renderRoot = this.createRenderRoot();\n    // Note, if renderRoot is not a shadowRoot, styles would/could apply to the\n    // element's getRootNode(). While this could be done, we're choosing not to\n    // support this now since it would require different logic around de-duping.\n    if (window.ShadowRoot && this.renderRoot instanceof window.ShadowRoot) {\n      this.adoptStyles();\n    }\n  }\n\n  /**\n   * Returns the node into which the element should render and by default\n   * creates and returns an open shadowRoot. Implement to customize where the\n   * element's DOM is rendered. For example, to render into the element's\n   * childNodes, return `this`.\n   * @returns {Element|DocumentFragment} Returns a node into which to render.\n   */\n  protected createRenderRoot(): Element|ShadowRoot {\n    return this.attachShadow({mode : 'open'});\n  }\n\n  /**\n   * Applies styling to the element shadowRoot using the `static get styles`\n   * property. Styling will apply using `shadowRoot.adoptedStyleSheets` where\n   * available and will fallback otherwise. When Shadow DOM is polyfilled,\n   * ShadyCSS scopes styles and adds them to the document. When Shadow DOM\n   * is available but `adoptedStyleSheets` is not, styles are appended to the\n   * end of the `shadowRoot` to [mimic spec\n   * behavior](https://wicg.github.io/construct-stylesheets/#using-constructed-stylesheets).\n   */\n  protected adoptStyles() {\n    const styles = (this.constructor as typeof LitElement)._uniqueStyles;\n    if (styles.length === 0) {\n      return;\n    }\n    // There are three separate cases here based on Shadow DOM support.\n    // (1) shadowRoot polyfilled: use ShadyCSS\n    // (2) shadowRoot.adoptedStyleSheets available: use it.\n    // (3) shadowRoot.adoptedStyleSheets polyfilled: append styles after\n    // rendering\n    if (window.ShadyCSS !== undefined && !window.ShadyCSS.nativeShadow) {\n      window.ShadyCSS.ScopingShim.prepareAdoptedCssText(\n          styles.map((s) => s.cssText), this.localName);\n    } else if (supportsAdoptingStyleSheets) {\n      (this.renderRoot as ShadowRoot).adoptedStyleSheets =\n          styles.map((s) => s.styleSheet!);\n    } else {\n      // This must be done after rendering so the actual style insertion is done\n      // in `update`.\n      this._needsShimAdoptedStyleSheets = true;\n    }\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    // Note, first update/render handles styleElement so we only call this if\n    // connected after first update.\n    if (this.hasUpdated && window.ShadyCSS !== undefined) {\n      window.ShadyCSS.styleElement(this);\n    }\n  }\n\n  /**\n   * Updates the element. This method reflects property values to attributes\n   * and calls `render` to render DOM via lit-html. Setting properties inside\n   * this method will *not* trigger another update.\n   * * @param _changedProperties Map of changed properties with old values\n   */\n  protected update(changedProperties: PropertyValues) {\n    super.update(changedProperties);\n    const templateResult = this.render() as any;\n    if (templateResult instanceof TemplateResult) {\n      (this.constructor as typeof LitElement)\n          .render(templateResult, this.renderRoot!,\n                  {scopeName : this.localName!, eventContext : this});\n    }\n    // When native Shadow DOM is used but adoptedStyles are not supported,\n    // insert styling after rendering to ensure adoptedStyles have highest\n    // priority.\n    if (this._needsShimAdoptedStyleSheets) {\n      this._needsShimAdoptedStyleSheets = false;\n      (this.constructor as typeof LitElement)._uniqueStyles.forEach((s) => {\n        const style = document.createElement('style');\n        style.textContent = s.cssText;\n        this.renderRoot!.appendChild(style);\n      });\n    }\n  }\n\n  /**\n   * Invoked on each update to perform rendering tasks. This method must return\n   * a lit-html TemplateResult. Setting properties inside this method will *not*\n   * trigger the element to update.\n   */\n  protected render(): TemplateResult|void {}\n}\n","import { LitElement, html, css } from \"@polymer/lit-element\";\r\nimport { render } from 'lit-html'\r\nimport { anchorRoute, gotoRoute } from '../Router'\r\nimport Auth from '../Auth'\r\nimport App from '../App'\r\nimport FetchAPI from './../FetchAPI'\r\n\r\n// const template = document.createElement\r\nclass LightDialog {\r\n    constructor() {\r\n        const devices = null\r\n        const device = null\r\n    }\r\n\r\n    // element attributes\r\n    static get properties() {\r\n        return {\r\n            textContent: {\r\n                type: String\r\n            },\r\n            icon: {\r\n                type: String\r\n            },\r\n            path: {\r\n                type: String\r\n            },\r\n            active: {\r\n                type: String\r\n            }\r\n        }\r\n    }\r\n\r\n    firstUpdated() {\r\n        super.firstUpdated()\r\n        this.init\r\n            // let button = this.shadowRoot.querySelector('.container')\r\n            // button.addEventListener('click', () => {\r\n            //         this.shadowRoot.querySelector('.active-indicator').classList.toggle('active')\r\n            //     })\r\n\r\n        // // register place dropdown items\r\n        // localStorage.accessLevel >= 1 ? collections.locations.forEach(location => { // could just be straight up 2?\r\n        //     let dropdown = document.createElement('sl-menu-item')\r\n        //     dropdown.innerHTML = location.locationType\r\n        //     dropdown.classList.add('register-place-dropdown-item')\r\n        //     dropdown.setAttribute('id', location._id)\r\n        //     dropdown.setAttribute('value', location.locationType)\r\n        //     registerPlaceDropdown.appendChild(dropdown)\r\n        // }) : \"\"\r\n\r\n        // localStorage.accessLevel >= 1 ? collections.places.forEach(place => { // could just be straight up 2?\r\n        //     let dropdown = document.createElement('sl-menu-item')\r\n        //     dropdown.innerHTML = place.placeName\r\n        //     dropdown.classList.add('register-device-dropdown-location-item')\r\n        //     dropdown.setAttribute('id', `${place._id}-place-register`)\r\n        //     dropdown.setAttribute('value', place.placeName)\r\n        //     registerDeviceLocationDropdown.appendChild(dropdown)\r\n        // }) : \"\"\r\n\r\n        // localStorage.accessLevel >= 1 ? collections.devices.forEach(device => { // could just be straight up 2?\r\n        //     let dropdown = document.createElement('sl-menu-item')\r\n        //     dropdown.innerHTML = device.type\r\n        //     dropdown.classList.add('register-device-dropdown-type-item')\r\n        //     dropdown.setAttribute('id', `${device._id}-device-register`)\r\n        //     dropdown.setAttribute('value', device.type)\r\n        //     registerDeviceDropdown.appendChild(dropdown)\r\n        // }) : \"\"\r\n    }\r\n\r\n    init(device, devices) {\r\n        this.devices = devices\r\n        this.device = device\r\n\r\n        console.log(devices)\r\n\r\n        this.renderDialog(device)\r\n        console.log(device)\r\n\r\n        this.renderDevices()\r\n    }\r\n\r\n    registerSubmitHandler(e) {\r\n        e.preventDefault()\r\n        const formData = e.detail.formData\r\n        const submitBtn = this.shadowRoot.querySelector('.submit-btn')\r\n        const cancelBtn = this.shadowRoot.querySelector('.cancel-btn')\r\n        const registerDeviceDialog = this.shadowRoot.querySelector('.register-device-dialog')\r\n        let advancedToggle = this.shadowRoot.querySelector('#advanced-settings-toggle')\r\n        let manAutoToggle = this.shadowRoot.querySelector('#manual-auto-toggle')\r\n        const deviceName = this.shadowRoot.querySelector('#device-name').value\r\n        const selectedObjectValue = this.shadowRoot.querySelector('#register-device-dropdown').value\r\n        const locationObjectValue = this.shadowRoot.querySelector('#register-device-location-dropdown').value\r\n        let typeObjectId, placeObjectId = null\r\n        const deviceObject = collections.devices.filter(device => {\r\n            device.type === selectedObjectValue ? typeObjectId = device._id : \"\"\r\n        })\r\n        const locationObject = collections.places.filter(place => {\r\n            place.placeName === locationObjectValue ? placeObjectId = place._id : \"\"\r\n            console.log(place._id)\r\n            console.log(place.placeName, locationObjectValue)\r\n        })\r\n        const ipInput = this.shadowRoot.querySelector('#ip-input')\r\n        const mqttInput = this.shadowRoot.querySelector('#mqtt-input')\r\n\r\n        console.log(`The original ID is: ${placeObjectId}`)\r\n            // console.log(`Object id is: ${typeObjectId.split('-')[0]}`)\r\n        console.log(e.target)\r\n        console.log(typeObjectId)\r\n        console.log(placeObjectId)\r\n\r\n        console.log(advancedToggle)\r\n        if (advancedToggle.checked) {\r\n            formData.append(\"type\", typeObjectId)\r\n            formData.append(\"placeName\", placeObjectId)\r\n            formData.append('enabled', this.shadowRoot.querySelector('#disable-enable-toggle').checked)\r\n            formData.append(\"pinned\", false)\r\n            formData.append(\"state\", 0)\r\n            formData.append(\"status\", 0)\r\n            if (formData.get('ipAddress') === \"\") formData.set(\"ipAddress\", \"192.168.0.22\") // Arbitrary at this point - will be dynamically allocated\r\n            if (formData.get('mqttTopic') === \"\") formData.set(\"mqttTopic\", `${deviceName}_${locationObjectValue}_${selectedObjectValue}`)\r\n            console.log(formData.get('mqttTopic'))\r\n            console.log(formData.get('ipAddress'))\r\n            console.log(manAutoToggle.checked)\r\n            if (manAutoToggle.checked) {\r\n                console.log(\"Device is auto managed...\")\r\n            } else {\r\n                formData.append(\"minTrigger\", 0)\r\n                formData.append(\"maxTrigger\", 0)\r\n            }\r\n        } else {\r\n            formData.append(\"type\", typeObjectId)\r\n            formData.append(\"placeName\", placeObjectId)\r\n            formData.append('enabled', false)\r\n            formData.append(\"pinned\", false)\r\n            formData.append(\"state\", 0)\r\n            formData.append(\"status\", 0)\r\n            formData.append(\"autoManage\", true)\r\n                // formData.append(\"pollRate\", 60)\r\n                // formData.append(\"reportingRate\", 60)\r\n            formData.append(\"ipAddress\", \"192.168.0.22\") // Arbitrary at this point - will be dynamically allocated\r\n            formData.append(\"mqttTopic\", `${deviceName}_${locationObjectValue}_${selectedObjectValue}`)\r\n        }\r\n\r\n        // check that the mqttTopic, ipAddress do not already exist\r\n\r\n        FetchAPI.postItemAsync(formData)\r\n\r\n        // if (e.target.innerText === \"Cancel\") {\r\n        //     registerDeviceDialog.hide()\r\n        // }\r\n        // window.location.reload() // This for some reason doesn't allow the submission process to finish\r\n    }\r\n\r\n    renderDevices() {\r\n        // const registerDeviceDropdown = document.querySelector('#register-device-dropdown')\r\n        // registerDeviceDropdown.value = this.device.name\r\n        // localStorage.accessLevel >= 1 ? this.devices.forEach(device => { // could just be straight up 2?\r\n        //     let dropdown = document.createElement('sl-menu-item')\r\n        //     dropdown.innerHTML = device.type.type\r\n        //     dropdown.classList.add('register-device-dropdown-type-item')\r\n        //     dropdown.setAttribute('id', `${device._id}-device-register`)\r\n        //     dropdown.setAttribute('value', device.name)\r\n        //     registerDeviceDropdown.appendChild(dropdown)\r\n        // }) : \"\"\r\n    }\r\n\r\n    handleAdvancedSettings(e) {\r\n        const advancedDeviceSettings = document.querySelector('.advanced-device-settings')\r\n        advancedDeviceSettings.classList.toggle('hidden')\r\n    }\r\n\r\n    handleEnabledDisabled(e) {\r\n        const disableEnable = document.querySelector('#disable-enable-toggle')\r\n\r\n\r\n        if (e.target.checked) {\r\n            disableEnable.setAttribute('checked', true)\r\n        } else {\r\n            disableEnable.removeAttribute('checked')\r\n        }\r\n    }\r\n\r\n    handleLevelInputValues(e) {\r\n        const sliderLvlVal = document.querySelector('.slider-level-input-value')\r\n        console.log(e.target.value)\r\n        sliderLvlVal.value = e.target.value\r\n    }\r\n\r\n    handleLevelSliderValues(e) {\r\n        const lvlInputVal = document.querySelector('.level-input-value')\r\n        console.log(e.target.value)\r\n        lvlInputVal.value = e.target.value\r\n    }\r\n\r\n    handlePinnedUnpinned(e) {\r\n        const pinnedInput = document.querySelector('#pin-unpin-toggle')\r\n            // console.log(e.target.value)\r\n        pinnedInput.value = e.target.value\r\n    }\r\n\r\n    handlePowerStatus(e) {\r\n        e.preventDefault()\r\n            // const formData = e.detail.formData\r\n        const pinnedInput = document.querySelector('#off-on-toggle')\r\n        if (e.target.checked) {\r\n            console.log(e.target.checked)\r\n            pinnedInput.setAttribute('checked', true)\r\n                // formData.set(\"state\", \"1\")\r\n            FetchAPI.putItemAsync(JSON.parse('{ \"state\": \"1\" }'))\r\n        } else {\r\n            pinnedInput.removeAttribute('checked')\r\n                // formData.set(\"state\", \"0\")\r\n            FetchAPI.putItemAsync(JSON.parse('{ \"state\": \"0\" }'))\r\n        }\r\n        console.log(e.target.checked)\r\n            // pinnedInput.value = e.target.value\r\n            // FetchAPI.putItemAsync(e.target.value)\r\n    }\r\n\r\n    renderDialog(device) {\r\n        // create dialog\r\n        const lightDialog = document.createElement('sl-dialog')\r\n            // add classname\r\n        lightDialog.className = 'register-device-dialog'\r\n            // append header details\r\n        lightDialog.setAttribute('no-header', 'true')\r\n        lightDialog.setAttribute('style', '--width: 30vw;')\r\n\r\n        // dialog content\r\n        const dialogContent = html `\r\n        <style>\r\n            .dialog-heading{\r\n                display: flex; \r\n                align-items: center; \r\n                justify-content: center; \r\n                font-size: 1.5rem; \r\n                font-weight: 900;\r\n                color: white;\r\n            }\r\n\r\n            .flex-center{\r\n                display:flex;\r\n                align-items: center;\r\n                justify-content: center;\r\n            }\r\n\r\n            sl-dialog::part(panel){\r\n                background: var(--dialog-background);\r\n            }\r\n\r\n            .pad-bottom{\r\n                padding-bottom: 20px;\r\n            }\r\n\r\n            .toggle-dialogs{\r\n                cursor: pointer;\r\n                color: var(--brand-color);\r\n                text-decoration: underline;\r\n            }\r\n\r\n            .toggle-dialogs:hover{\r\n                color: white;\r\n            }\r\n\r\n            .toggle-text{\r\n                margin: 0;\r\n                color: white;\r\n            }\r\n\r\n            .toggle-switch{\r\n                --width: 60px; --height: 30px; --thumb-size: 28px;\r\n                color: white;\r\n                margin: 10px 0;\r\n            }\r\n\r\n            .input-labels{\r\n                color: white;\r\n            }\r\n\r\n            .text-input-sml{\r\n                width: 10rem;\r\n            }\r\n\r\n            .text-input-xs{\r\n                width: 5rem;\r\n            }\r\n\r\n            .hidden{\r\n                display: none;\r\n            }\r\n        </style>\r\n\r\n        <link href=\"https://fonts.googleapis.com/icon?family=Material+Icons\" rel=\"stylesheet\">\r\n        <span class=\"dialog-heading\">${device.name}</span>\r\n            <div class=\"flex-center\">\r\n                <div class=\"material-icons\" style=\"font-size: 8rem; margin: 1rem; color: white;\">${device.type.iconURL}</div>          \r\n            </div>\r\n            <sl-form class=\"form-register-device dark-theme\" @sl-submit=${this.registerSubmitHandler}>\r\n                <!-- <div class=\"input-group pad-bottom input-labels\">\r\n                    <sl-input name=\"name\" type=\"text\" id=\"device-name\" required value=${device.name} disabled=\"true\"></sl-input>\r\n                </div> -->\r\n                <!-- <div class=\"input-group pad-bottom device-container\">\r\n                    <sl-select id=\"register-device-dropdown\"></sl-select>\r\n                </div>      \r\n                <div class=\"input-group pad-bottom\">\r\n                    <sl-select id=\"register-device-location-dropdown\" value=${device.placeName.placeName}></sl-select>\r\n                </div> -->\r\n                <div class=\"input-group pad-bottom input-labels\">\r\n                        <p class=\"toggle-text\">Pin to dash</p>\r\n                        <sl-switch class=\"toggle-switch\" id=\"pin-unpin-toggle\" name=\"pinned\" @sl-change=${this.handlePinnedUnpinned}></sl-switch>      \r\n                </div>\r\n                <div class=\"input-group pad-bottom input-labels\">\r\n                        <p class=\"toggle-text\">Off/On</p>\r\n                        <sl-switch class=\"toggle-switch\" id=\"off-on-toggle\" name=\"pinned\" @sl-change=${this.handlePowerStatus}></sl-switch>      \r\n                </div>\r\n                <div class=\"input-group\">\r\n                <!-- Will be replaced with custom made component containing two selector in one line -->\r\n                  <sl-range class=\"slider-level-input-value\" label=\"Level\" help-text=\"Light intensity\"min=\"0\"max=\"100\" value=\"50\" @sl-change=${this.handleLevelSliderValues}></sl-range><!-- set max input level -->\r\n                  <!-- add rgb values if RGB LED -->\r\n                </div>\r\n                <div class=\"input-group input-labels\" style=\"display: flex;\">\r\n                  <sl-input class=\"pad-bottom text-input-xs level-input-value\" name=\"level\" type=\"number\" label=\"Level\" @sl-change=${this.handleLevelInputValues} value=\"50\"></sl-input>\r\n                </div>\r\n                <div class=\"input-group input-labels\">\r\n                    <p class=\"toggle-text\">Advanced Settings</p>\r\n                    <sl-switch class=\"toggle-switch\" id=\"advanced-settings-toggle\" @sl-change=${this.handleAdvancedSettings}></sl-switch>      \r\n                </div>\r\n                <div class=\"advanced-device-settings hidden\">\r\n                    <div style=\"display:flex; justify-content: center; align-items: center; border-bottom: 1px solid white; padding: 0 0 1rem 0; margin-bottom: 1rem; color: white;\">\r\n                        <div>Advanced Settings</div>\r\n                    </div>\r\n                    <div class=\"input-group pad-bottom input-labels\">\r\n                        <p class=\"toggle-text\">Disable/Enable</p>\r\n                        <sl-switch class=\"toggle-switch\" id=\"disable-enable-toggle\" @sl-change=${this.handleEnabledDisabled}></sl-switch>      \r\n                    </div>\r\n                    <div class=\"input-group input-labels\">\r\n                        <sl-input class=\"pad-bottom text-input-xs\" name=\"reportingRate\" label=\"Reporting interval (sec)\" type=\"number\"  value=${device.reportingRate}></sl-input>\r\n                    </div>\r\n                    <div class=\"input-group input-labels\">\r\n                        <sl-input class=\"pad-bottom text-input-xs\" name=\"pollRate\" label=\"Polling rate (sec)\" type=\"number\"  value=${device.pollRate}></sl-input>\r\n                    </div>\r\n                    <div class=\"input-group input-labels\">\r\n                        <sl-input class=\"pad-bottom text-input-sml\" id=\"ip-input\" name=\"ipAddress\" label=\"IP address\" type=\"text\"  value=${device.ipAddress}></sl-input>\r\n                    </div>\r\n                    <div class=\"input-group input-labels\">\r\n                        <sl-input class=\"pad-bottom text-input-sml\" id=\"mqtt-input\" name=\"mqttTopic\" label=\"MQTT topic\" type=\"string\"  value=${device.mqttTopic}></sl-input>\r\n                    </div>\r\n                </div>           \r\n                <sl-button class=\"cancel-btn cancel pad-bottom\" type=\"primary\" submit style=\"width: 100%;\">Cancel</sl-button>\r\n                <sl-button class=\"submit-btn register-device pad-bottom\" id=\"register-device-submit-btn\" type=\"primary\" submit style=\"width: 100%;\">Register</sl-button>\r\n            </sl-form>\r\n        `\r\n        render(dialogContent, lightDialog)\r\n\r\n        // append to document.body\r\n        document.body.append(lightDialog)\r\n\r\n        // show dialog\r\n        lightDialog.show()\r\n\r\n        // on hide delete dialog\r\n        lightDialog.addEventListener('sl-after-hide', () => {\r\n            lightDialog.remove()\r\n        })\r\n    }\r\n\r\n    render() {\r\n        // alert(`somthing happened... ${JSON.stringify(device.placeName.placeName)}`)\r\n        return\r\n    }\r\n}\r\n\r\nexport default new LightDialog","import App from '../../App'\nimport { html, render } from 'lit-html'\nimport Auth from '../../Auth'\nimport Utils from '../../Utils'\nimport FetchAPI from '../../FetchAPI'\nimport gsap from 'gsap'\nimport LightDialog from './../../components/aa-light-dialog'\n\nclass DevicesView {\n    async init() {\n        document.title = 'Devices'\n        let devices = await FetchAPI.getItemsAsync()\n            // let places = await FetchAPI.getPlacesAsync()\n        await this.render(devices)\n        this.animateStatus()\n        Utils.pageIntroAnim()\n    }\n\n    // blinking light for active status\n    animateStatus() {\n        const tl1 = new gsap.to(\".active\", {\n            backgroundColor: \"#3B90FF\",\n            delay: 0.5,\n            duration: .5,\n            repeat: -1,\n            yoyo: true,\n        });\n    }\n\n    handleClick(device, devices) {\n        console.log(`Device selected... ${JSON.stringify(device)}`)\n        LightDialog.init(device, devices)\n    }\n\n    async render(devices, places) {\n            const template = html `\n      <style>\n        .status-container{\n          display: flex; \n          align-items: center; \n          justify-content: center; \n        }\n\n        .active{\n          background: #003A85;\n          width: 22px;\n          height: 12px;\n          margin-right: 10px;\n          /* box-shadow: #000 0 -1px 7px 1px, inset #460 0 -1px 9px, #7D0 0 2px 12px; */\n        }\n\n        .inactive{\n          background-color: red;\n          width: 22px;\n          height: 12px;\n          margin-right: 10px;\n        }\n\n        .online{\n          width: 22px;\n          height: 12px;\n          background-color: #00FF33;\n          margin-right: 10px;\n          /* box-shadow: #000 0 -1px 7px 1px, inset #460 0 -1px 9px, #7D0 0 2px 12px; */\n        }\n\n        .offline{\n          width: 22px;\n          height: 12px;\n          background-color: lightgray;\n          margin-right: 10px;\n        }\n\n        .image{\n          height: 100%;\n          width: auto;\n        }\n\n        .grid-container{\n          display: grid;\n          width: 100%;\n          grid-template-columns: 10% 20% 20% 20% 20% 5% 5%;\n        }\n\n        .header{\n          font-weight: 900;\n          font-size: 1.2rem;\n        }\n\n        .cols{\n          border-bottom: 1px solid;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          width: 100%;\n          height: 4rem;\n          padding: 0.5rem 0;\n        }\n\n        /* .col1{\n        } */\n\n        .col2{\n          justify-content: flex-start;\n          padding: 0 1rem;\n        }\n\n        .col3{\n          justify-content: flex-start;\n        }\n\n        /* .col4{\n        }\n\n        .col5{\n        }\n\n        .col6{\n\n        }\n\n        .col7{\n\n        } */\n\n        .link{\n          cursor: pointer;\n        }\n\n        .col1 .material-icons{\n          font-size: 48px !important;\n        }\n\n      </style>\n      <link href=\"https://fonts.googleapis.com/icon?family=Material+Icons\" rel=\"stylesheet\">\n      <va-app-header title=\"Devices\" user=\"${JSON.stringify(Auth.currentUser)}\"></va-app-header>\n      <div class=\"page-content\">\n        <aa-panel-template title=${document.title}>\n          <div slot=\"table-heading\">\n            <div class=\"grid-container\">\n              <div class=\"cols col1 header\">\n                <div></div>\n              </div>\n              <div class=\"cols col2 header\">\n                <div>Device Name</div>\n              </div>\n              <div class=\"cols col3 header\">\n                <div>Location</div>\n              </div>\n              <div class=\"cols col4 header\">\n                <div>Sensor Status</div>\n              </div>\n              <div class=\"cols col5 header\">\n                <div>Status</div>\n              </div>\n              <div class=\"cols col6 header\">\n                <div class=\"material-icons\">push_pin</div>\n              </div>\n              <div class=\"cols col7 header\">\n                <div></div>\n              </div>\n            </div>\n          </div>\n          <div slot=\"body\" part=\"body\">\n            <div class=\"grid-container\">\n              ${devices.map(device => \n                html`\n            <div class=\"cols col1\">\n              <div class=\"material-icons\">${device.type.iconURL}</div>\n            </div>\n            <div class=\"cols col2\">\n              <div>${device.name}</div>\n            </div>\n              <div class=\"cols col3\">\n                <div>${device.placeName.placeName}</div>\n              </div>\n              <div class=\"cols col4\">\n                <div class=\"status-container\">\n                  <div class=\"${device.status ? \"online\" : \"offline\"}\"></div>\n                  <div>${device.status ? \"online\" : \"offline\"}</div>\n                </div>\n              </div>\n              <div class=\"cols col5\">\n                <div class=\"status-container\">\n                  <div class=\"${device.state ? \"active\" : \"inactive\"}\"></div>\n                  <div>${device.level ? `${device.level}%,` : \"\"} ${device.state ? \"active\" : \"inactive\"}</div>\n                </div>\n              </div>\n            <div class=\"cols col6\">\n              <div class=\"${device.pinned ? \"pinned\" : \"unpinned\"} material-icons\">${device.pinned ? \"push_pin\" : \"\"}</div>\n            </div>\n              <div class=\"cols col7\">\n                <div class=\"material-icons link\" @click=${() => this.handleClick(device, devices)}>handyman</div>\n              </div>\n            </div>\n            `\n            )}\n            </div>\n        </div>\n      </div>\n    </aa-panel-template>\n  </div> \n`\n  render(template, App.rootEl)\n  }\n}\n\n\nexport default new DevicesView()","import App from '../../App'\nimport { html, render } from 'lit-html'\nimport { gotoRoute, anchorRoute } from '../../Router'\nimport Auth from '../../Auth'\nimport Utils from '../../Utils'\n\nclass GuideView {\n    init() {\n        document.title = 'Guide'\n        this.render()\n        Utils.pageIntroAnim()\n    }\n\n    render() {\n        const template = html `\n      <va-app-header title=\"Guide\" user=\"${JSON.stringify(Auth.currentUser)}\"></va-app-header>\n      <div class=\"page-content calign\">\n        <h3 class=\"brand-color\">Welcome ${Auth.currentUser.firstName}!</h3>\n        <p>This is a quick tour to teach you the basics of using Haircuts ...</p>\n      \n        <div class=\"guide-step\">\n          <h4>Search Hairdressers</h4>\n          <img src=\"https://plchldr.co/i/500x300?&bg=dddddd&fc=666666&text=IMAGE\">\n        </div>\n      \n        <div class=\"guide-step\">\n          <h4>Find a haircut</h4>\n          <img src=\"https://plchldr.co/i/500x300?&bg=dddddd&fc=666666&text=IMAGE\">\n        </div>\n      \n        <div class=\"guide-step\">\n          <h4>Save haircuts to favourites</h4>\n          <img src=\"https://plchldr.co/i/500x300?&bg=dddddd&fc=666666&text=IMAGE\">\n        </div>\n      \n        <sl-button type=\"primary\" @click=${()=> gotoRoute('/')}>Okay got it!</sl-button>\n      \n      \n      </div>\n    `\n        render(template, App.rootEl)\n    }\n}\n\n\nexport default new GuideView()","import App from '../../App'\nimport { html, render } from 'lit-html'\nimport { gotoRoute, anchorRoute } from '../../Router'\nimport Auth from '../../Auth'\nimport Utils from '../../Utils'\nimport FetchAPI from '../../FetchAPI'\n\nclass UsersView {\n    async init() {\n        document.title = 'Users'\n        let users = await FetchAPI.getUsersAsync()\n        await this.render(users)\n        Utils.pageIntroAnim()\n    }\n\n    handleClick(user) {\n        console.log(`User selected... ${JSON.stringify(user)}`)\n    }\n\n    async render(users) {\n            const template = html `\n      <style>\n        .active{\n          color: lightgreen;\n        }\n\n        .inactive{\n          color: red;\n        }\n\n        .image{\n          height: 100%;\n          width: auto;\n        }\n\n        .grid-container{\n          display: grid;\n          width: 100%;\n          grid-template-columns: 10% 40% 40% 10%;\n        }\n\n        .header{\n          font-weight: 900;\n          font-size: 1.2rem;\n        }\n\n        .cols{\n          border-bottom: 1px solid;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          width: 100%;\n          height: 4rem;\n          padding: 0.5rem 0;\n        }\n\n        .col1{\n        }\n\n        .col2{\n          justify-content: flex-start;\n          padding: 0 1rem;\n        }\n\n        .col3{\n\n        }\n\n        .col4{\n          justify-content: flex-end;\n        }\n\n        .link{\n          cursor: pointer;\n        }\n\n        .col1 .material-icons{\n          font-size: 48px !important;\n        }\n\n        div::part(body){\n          /* background: orange; */\n        }\n\n      </style>\n      <link href=\"https://fonts.googleapis.com/icon?family=Material+Icons\" rel=\"stylesheet\">\n      <va-app-header title=\"Users\" user=\"${JSON.stringify(Auth.currentUser)}\"></va-app-header>\n      <div class=\"page-content\">\n        <aa-panel-template title=${document.title}>\n          <div slot=\"table-heading\">\n            <div class=\"grid-container\">\n              <div class=\"cols col1 header\">\n                <div></div>\n              </div>\n              <div class=\"cols col2 header\">\n                <div>User Name</div>\n              </div>\n              <div class=\"cols col3 header\">\n                <div>Status</div>\n              </div>\n              <div class=\"cols col4 header\">\n                <div></div>\n              </div>\n            </div>\n          </div>\n          <div slot=\"body\" part=\"body\">\n            <div class=\"grid-container\">\n              ${users.map(user => \n                html`\n              <div class=\"cols col1\">\n                  ${user.imageURL === \"\" ? html `\n                      <div class=\"material-icons\">account_circle</div>\n                      ` : html `    \n                      <img src=${`${App.apiBase}/images/${user.imageURL}`} \n                            alt=\"${`${user.firstName} image`}\"\n                            class=\"image\"/>\n                    `}\n                </div>\n                <div class=\"cols col2\">\n                  <div>${user.firstName} ${user.lastName}</div>\n                </div>\n                <div class=\"cols col3\">\n                  <div class=${user.status ? \"active\" : \"inactive\"}>${user.status ? \"Active\" : \"Inactive\"}</div>\n                </div>\n                <div class=\"cols col4\">\n                  <div class=\"material-icons link\" @click=${() => this.handleClick(user)}>handyman</div>\n                </div>\n              </div>\n              `\n                )}\n                </div>\n            </div>\n          </div>\n        </aa-panel-template>\n      </div>      \n    `\n        render(template, App.rootEl)\n    }\n}\n\n\nexport default new UsersView()","// import views\nimport homeView from './views/pages/home'\nimport fourOFourView from './views/pages/404'\nimport placesView from './views/pages/places'\nimport devicesView from './views/pages/devices'\n// import profileView from './views/pages/profile'\n// import editProfileView from './views/pages/editProfile'\nimport guideView from './views/pages/guide'\nimport usersView from './views/pages/usersView'\n\n// define routes\nconst routes = {\n    '/': homeView,\n    '/guide': guideView,\n    '/users': usersView,\n    '404': fourOFourView,\n    '/places': placesView,\n    '/devices': devicesView\n        // '/profile': profileView,\n        // '/editProfile': editProfileView\n}\n\nclass Router {\n    constructor() {\n        this.routes = routes\n    }\n\n    init() {\n        // initial call\n        this.route(window.location.pathname)\n\n        // on back/forward\n        window.addEventListener('popstate', () => {\n            this.route(window.location.pathname)\n        })\n    }\n\n    route(fullPathname) {\n        // extract path without params\n        const pathname = fullPathname.split('?')[0]\n        const route = this.routes[pathname]\n\n        if (route) {\n            // if route exists, run init() of the view\n            this.routes[window.location.pathname].init()\n        } else {\n            // show 404 view instead\n            this.routes['404'].init()\n        }\n    }\n\n    gotoRoute(pathname) {\n        window.history.pushState({}, pathname, window.location.origin + pathname);\n        this.route(pathname)\n    }\n}\n\n// create appRouter instance and export\nconst AppRouter = new Router()\nexport default AppRouter\n\n\n// programmatically load any route\nexport function gotoRoute(pathname) {\n    AppRouter.gotoRoute(pathname)\n}\n\n\n// allows anchor <a> links to load routes\nexport function anchorRoute(e) {\n    e.preventDefault()\n    const pathname = e.target.closest('a').pathname\n    AppRouter.gotoRoute(pathname)\n}","import Router from './Router'\nimport Auth from './Auth'\nimport Toast from './Toast'\n\n\nclass App {\n    constructor() {\n        this.name = \"Haircuts\"\n        this.version = \"1.0.0\"\n        this.apiBase = 'http://localhost:3000'\n        this.rootEl = document.getElementById(\"root\")\n        this.version = \"1.0.0\"\n    }\n\n    init() {\n        console.log(\"App.init\")\n\n        // Toast init\n        Toast.init()\n\n        // Authentication check    \n        Auth.check(() => {\n            // authenticated! init Router\n            Router.init()\n        })\n    }\n}\n\nexport default new App()","import { LitElement, html, css } from '@polymer/lit-element'\nimport { anchorRoute, gotoRoute } from './../Router'\nimport Auth from './../Auth'\nimport App from './../App'\nimport FetchAPI from '../FetchAPI'\n\nlet places, items, users, locations, devices = [{}]\nlet collections = [{ places, items, users, locations, devices }]\ncustomElements.define('va-app-header', class AppHeader extends LitElement {\n            constructor() {\n                super()\n            }\n\n            static get properties() {\n                return {\n                    title: {\n                        type: String\n                    },\n                    user: {\n                        type: Object\n                    }\n                }\n            }\n\n            async firstUpdated() {\n                super.firstUpdated()\n                this.navActiveLinks()\n                const container = this.shadowRoot.querySelector('.accordion-menu')\n                const signinDialog = this.shadowRoot.querySelector('.signin-dialog')\n                const signupDialog = this.shadowRoot.querySelector('.signup-dialog')\n                const registerPlaceDialog = this.shadowRoot.querySelector('.register-place-dialog')\n                const registerDeviceDialog = this.shadowRoot.querySelector('.register-device-dialog')\n                const menuItems = this.shadowRoot.querySelectorAll('sl-menu-item')\n                const registerPlaceDropdown = this.shadowRoot.querySelector('#register-place-dropdown')\n                const registerDeviceDropdown = this.shadowRoot.querySelector('#register-device-dropdown')\n                const registerDeviceLocationDropdown = this.shadowRoot.querySelector('#register-device-location-dropdown')\n\n                // set click event listener for menu items\n                menuItems.forEach(menuItem => {\n                    menuItem.addEventListener('click', (e) => {\n                        // console.log(`Target clicked was: ${e.target.id}`)\n                        if (e.target.id === 'register-user' || e.target.id === 'regsiter-user-side') {\n                            signupDialog.show()\n                        } else if (e.target.id === 'register-place' || e.target.id === 'regsiter-place-side') {\n                            registerPlaceDialog.show()\n                        } else if (e.target.id === 'register-device' || e.target.id === 'register-device-side') {\n                            registerDeviceDialog.show()\n                        }\n                    })\n                })\n\n                // const emailInput = this.shadowRoot.querySelector('.email-input')\n                // signinDialog.addEventListener('sl-initial-focus', event => {\n                //     event.preventDefault();\n                //     input.focus({ preventScroll: true });\n                // });\n\n                // if user is not signed in do not allow them to cancel the dialogs, otherwise\n                // a signed in user is creating a new user and should be able to dismiss it\n                if (typeof Auth.currentUser.accessLevel === 'undefined') signinDialog.show()\n                if (!localStorage.accessLevel >= 1) {\n                    signinDialog.addEventListener('sl-overlay-dismiss', event => event.preventDefault())\n                    signupDialog.addEventListener('sl-overlay-dismiss', event => event.preventDefault())\n                }\n\n                // Close all other details when one is shown\n                container.addEventListener('sl-show', event => {\n                    [...container.querySelectorAll('sl-details')].map(details => (details.open = event.target === details));\n                });\n\n                // if user is signed in then load all the collections for rendering\n                if (localStorage.accessLevel >= 1) {\n                    collections.places = await FetchAPI.getPlacesAsync()\n                    collections.items = await FetchAPI.getItemsAsync()\n                    collections.users = localStorage.accessLevel == 2 ? await FetchAPI.getUsersAsync() : \"\"\n                    collections.locations = localStorage.accessLevel == 2 ? await FetchAPI.getLocationsAsync() : \"\"\n                    collections.devices = localStorage.accessLevel == 2 ? await FetchAPI.getDevicesAsync() : \"\"\n\n                    // these HAVE to be streamlined...waaay to repetitive! Do if time permits, otherwise after unit completion!\n                    this.renderPlacesButtons()\n                    this.renderItemsButtons()\n                    localStorage.accessLevel == 2 ? this.renderUsersButtons() : \"\"\n                    const signinDialog = this.shadowRoot.querySelector('.signin-dialog');\n                    signinDialog.addEventListener('sl-overlay-dismiss', event => event.preventDefault())\n                }\n\n                // switch between sign in and sign up dialogs based on user selection and supplied target\n                const toggleDialogs = this.shadowRoot.querySelectorAll('.toggle-dialogs')\n                toggleDialogs.forEach(toggleDialog => {\n                    toggleDialog.addEventListener('click', (e) => {\n                        if (e.target.textContent === \"Sign Up\") {\n                            signinDialog.hide()\n                            signupDialog.show()\n                        } else {\n                            localStorage.accessLevel >= 1 ? \"\" :\n                                () => {\n                                    signupDialog.hide()\n                                    signinDialog.show()\n                                }\n                        }\n                    })\n                })\n\n                // register place dropdown items\n                localStorage.accessLevel >= 1 ? collections.locations.forEach(location => { // could just be straight up 2?\n                    let dropdown = document.createElement('sl-menu-item')\n                    dropdown.innerHTML = location.locationType\n                    dropdown.classList.add('register-place-dropdown-item')\n                    dropdown.setAttribute('id', location._id)\n                    dropdown.setAttribute('value', location.locationType)\n                    registerPlaceDropdown.appendChild(dropdown)\n                }) : \"\"\n\n                localStorage.accessLevel >= 1 ? collections.places.forEach(place => { // could just be straight up 2?\n                    let dropdown = document.createElement('sl-menu-item')\n                    dropdown.innerHTML = place.placeName\n                    dropdown.classList.add('register-device-dropdown-location-item')\n                    dropdown.setAttribute('id', `${place._id}-place-register`)\n                    dropdown.setAttribute('value', place.placeName)\n                    registerDeviceLocationDropdown.appendChild(dropdown)\n                }) : \"\"\n\n                localStorage.accessLevel >= 1 ? collections.devices.forEach(device => { // could just be straight up 2?\n                    let dropdown = document.createElement('sl-menu-item')\n                    dropdown.innerHTML = device.type\n                    dropdown.classList.add('register-device-dropdown-type-item')\n                    dropdown.setAttribute('id', `${device._id}-device-register`)\n                    dropdown.setAttribute('value', device.type)\n                    registerDeviceDropdown.appendChild(dropdown)\n                }) : \"\"\n            }\n\n            async renderPlacesButtons() {\n                let list = this.shadowRoot.querySelector('.places-list')\n                collections.places.forEach(entity => {\n                    let itemElement = document.createElement('aa-accordion-button')\n                    itemElement.setAttribute('icon', entity.locationType.iconURL)\n                    itemElement.setAttribute('path', \"icons\")\n                    itemElement.append(entity.placeName)\n                    list.appendChild(itemElement)\n                    itemElement.addEventListener('click', () => {})\n                })\n            }\n\n            async renderItemsButtons() {\n                let list = this.shadowRoot.querySelector('.devices-list')\n                collections.items.forEach(entity => {\n                    let itemElement = document.createElement('aa-accordion-button')\n                    itemElement.setAttribute('icon', `${entity.type.iconURL}`)\n                    itemElement.setAttribute('path', \"icons\")\n                    itemElement.append(entity.name)\n                    list.appendChild(itemElement)\n                    itemElement.addEventListener('click', () => {})\n                })\n            }\n\n            renderImage(itemElement, entity) {\n                itemElement.setAttribute('icon', `${App.apiBase}/images/${entity.imageURL}`)\n                itemElement.setAttribute('path', \"Images\")\n            }\n\n            renderIcon(itemElement) {\n                itemElement.setAttribute('icon', `account_circle`)\n                itemElement.setAttribute('path', \"icons\")\n            }\n\n            async renderUsersButtons() {\n                let list = this.shadowRoot.querySelector('.users-list')\n                collections.users.forEach(entity => {\n                    let itemElement = document.createElement('aa-accordion-button')\n                    entity && entity.imageURL != \"\" ?\n                        this.renderImage(itemElement, entity) :\n                        this.renderIcon(itemElement)\n                    itemElement.append(entity.firstName, \" \", entity.lastName)\n                    list.appendChild(itemElement)\n                    itemElement.addEventListener('click', () => {\n                        console.log(entity)\n                    })\n                })\n            }\n\n            navActiveLinks() {\n                const currentPath = window.location.pathname\n                const navLinks = this.shadowRoot.querySelectorAll('.app-top-nav a, .app-side-menu-items a')\n                navLinks.forEach(navLink => {\n                    if (navLink.href.slice(-1) == '#') return\n                    if (navLink.pathname === currentPath) {\n                        navLink.classList.add('active')\n                    }\n                })\n            }\n\n            hamburgerClick() {\n                const appMenu = this.shadowRoot.querySelector('.app-side-menu')\n                appMenu.show()\n            }\n\n            menuClick(e) {\n                e.preventDefault()\n                const pathname = e.target.closest('a').pathname\n                const appSideMenu = this.shadowRoot.querySelector('.app-side-menu')\n                    // hide appMenu\n                appSideMenu.hide()\n                appSideMenu.addEventListener('sl-after-hide', () => {\n                    // goto route after menu is hidden\n                    gotoRoute(pathname)\n                })\n            }\n\n            signInSubmitHandler(e) {\n                e.preventDefault()\n                    // determine which dialog is sending the submit call to be able to carry out appropriate post method\n                const signinDialog = this.shadowRoot.querySelector('.signin-dialog')\n                const signupDialog = this.shadowRoot.querySelector('.signup-dialog')\n                const formData = e.detail.formData\n                const submitBtn = this.shadowRoot.querySelector('.submit-btn')\n                    // console.log(e.target)\n                if (e.target.innerText === \"Sign In\") {\n                    submitBtn.setAttribute('loading', '')\n                        // sign in using Auth    \n                    Auth.signIn(formData, () => {\n                            submitBtn.removeAttribute('loading')\n                        })\n                        // console.log(localStorage.accessLevel)\n                    if (localStorage.accessLevel >= 1) {\n                        signinDialog.hide()\n                        submitBtn.removeAttribute('loading')\n                    }\n                    // sign up user\n                } else {\n                    // if its not an admin then append default user values\n                    if (localStorage.accessLevel != 2) {\n                        formData.append('accessLevel', 1)\n                        formData.append('status', true)\n                        formData.append('imageURL', \"\")\n                    }\n                    // if user creating account is admin then convert toggle buttons to input values and append them to the form data\n                    else {\n                        formData.append('status', this.shadowRoot.querySelector('#user-status-toggle').checked)\n                        formData.append('accessLevel', this.shadowRoot.querySelector('#access-level-toggle').checked ? 2 : 1)\n                        formData.append('imageURL', \"\")\n                    }\n                    // sign up using Auth\n                    Auth.signUp(formData, () => {\n                        submitBtn.removeAttribute('loading')\n                    }, () => {\n                        signupDialog.hide()\n                        submitBtn.removeAttribute('loading')\n                            // if the person who registered the new user is signed in then don't prompt them to log in\n                        if (!localStorage.accessLevel >= 1) signinDialog.show()\n                            // If the user is admin then refresh their users list\n                        if (localStorage.accessLevel == 2) {\n                            window.location.reload()\n                        }\n                    })\n                }\n            }\n\n            registerPlaceSubmitHandler(e) {\n                e.preventDefault()\n                const formData = e.detail.formData\n                const submitBtn = this.shadowRoot.querySelector('.submit-btn')\n                const cancelBtn = this.shadowRoot.querySelector('.cancel-btn')\n                const registerPlaceDialog = this.shadowRoot.querySelector('.register-place-dialog')\n                const selectedObjectValue = this.shadowRoot.querySelector('#register-place-dropdown').value\n                let objectId = null\n                const deviceObject = collections.locations.filter(location => {\n                    location.locationType === selectedObjectValue ? objectId = location._id : \"\"\n                })\n\n                formData.append(\"locationType\", objectId)\n                FetchAPI.postPlaceAsync(formData)\n\n                // console.log(e.target.innerText)\n                // if successful, hide dialog, if not, keep it open and show toast - otherwise keep dialog open\n\n                // window.location.reload()\n\n                // console.log(formData)\n                for (var pair of formData.entries()) {\n                    console.log(pair[0] + ', ' + pair[1]);\n                }\n                // if (e.target.innerText === \"Cancel\") {\n                //     registerPlaceDialog.hide() // doesn't work at this stage...\n                // }\n\n            }\n\n            registerDeviceSubmitHandler(e) {\n                e.preventDefault()\n                const formData = e.detail.formData\n                const submitBtn = this.shadowRoot.querySelector('.submit-btn')\n                const cancelBtn = this.shadowRoot.querySelector('.cancel-btn')\n                const registerDeviceDialog = this.shadowRoot.querySelector('.register-device-dialog')\n                let advancedToggle = this.shadowRoot.querySelector('#advanced-settings-toggle')\n                let manAutoToggle = this.shadowRoot.querySelector('#manual-auto-toggle')\n                const deviceName = this.shadowRoot.querySelector('#device-name').value\n                const selectedObjectValue = this.shadowRoot.querySelector('#register-device-dropdown').value\n                const locationObjectValue = this.shadowRoot.querySelector('#register-device-location-dropdown').value\n                let typeObjectId, placeObjectId = null\n                const deviceObject = collections.devices.filter(device => {\n                    device.type === selectedObjectValue ? typeObjectId = device._id : \"\"\n                })\n                const locationObject = collections.places.filter(place => {\n                    place.placeName === locationObjectValue ? placeObjectId = place._id : \"\"\n                    console.log(place._id)\n                    console.log(place.placeName, locationObjectValue)\n                })\n                const ipInput = this.shadowRoot.querySelector('#ip-input')\n                const mqttInput = this.shadowRoot.querySelector('#mqtt-input')\n\n                console.log(`The original ID is: ${placeObjectId}`)\n                    // console.log(`Object id is: ${typeObjectId.split('-')[0]}`)\n                console.log(e.target)\n                console.log(typeObjectId)\n                console.log(placeObjectId)\n\n                console.log(advancedToggle)\n                if (advancedToggle.checked) {\n                    formData.append(\"type\", typeObjectId)\n                    formData.append(\"placeName\", placeObjectId)\n                    formData.append('enabled', this.shadowRoot.querySelector('#disable-enable-toggle').checked)\n                    formData.append(\"pinned\", false)\n                    formData.append(\"state\", 0)\n                    formData.append(\"status\", 0)\n                    if (formData.get('ipAddress') === \"\") formData.set(\"ipAddress\", \"192.168.0.22\") // Arbitrary at this point - will be dynamically allocated\n                    if (formData.get('mqttTopic') === \"\") formData.set(\"mqttTopic\", `${deviceName}_${locationObjectValue}_${selectedObjectValue}`)\n                    console.log(formData.get('mqttTopic'))\n                    console.log(formData.get('ipAddress'))\n                    console.log(manAutoToggle.checked)\n                    if (manAutoToggle.checked) {\n                        console.log(\"Device is auto managed...\")\n                    } else {\n                        formData.append(\"minTrigger\", 0)\n                        formData.append(\"maxTrigger\", 0)\n                    }\n                } else {\n                    formData.append(\"type\", typeObjectId)\n                    formData.append(\"placeName\", placeObjectId)\n                    formData.append('enabled', false)\n                    formData.append(\"pinned\", false)\n                    formData.append(\"state\", 0)\n                    formData.append(\"status\", 0)\n                    formData.append(\"autoManage\", true)\n                        // formData.append(\"pollRate\", 60)\n                        // formData.append(\"reportingRate\", 60)\n                    formData.append(\"ipAddress\", \"192.168.0.22\") // Arbitrary at this point - will be dynamically allocated\n                    formData.append(\"mqttTopic\", `${deviceName}_${locationObjectValue}_${selectedObjectValue}`)\n                }\n\n                // check that the mqttTopic, ipAddress do not already exist\n\n                FetchAPI.postItemAsync(formData)\n\n                if (e.target.innerText === \"Cancel\") {\n                    registerDeviceDialog.hide()\n                }\n                // window.location.reload() // This for some reason doesn't allow the submission process to finish\n            }\n\n            handleAdvancedSettings(e) {\n                const advancedDeviceSettings = this.shadowRoot.querySelector('.advanced-device-settings')\n                advancedDeviceSettings.classList.toggle('hidden')\n            }\n\n            handleAutoManagement(e) {\n                const minOnSetting = this.shadowRoot.querySelector('.min-on-setting')\n                const minOffSetting = this.shadowRoot.querySelector('.min-off-setting')\n                const minInputVal = this.shadowRoot.querySelector('.min-input-value')\n                const maxInputVal = this.shadowRoot.querySelector('.max-input-value')\n\n\n                if (e.target.checked) {\n                    minOnSetting.setAttribute('disabled', false)\n                    minOffSetting.setAttribute('disabled', false)\n                    minInputVal.setAttribute('disabled', false)\n                    maxInputVal.setAttribute('disabled', false)\n                } else {\n                    minOnSetting.setAttribute('disabled', true)\n                    minOffSetting.setAttribute('disabled', true)\n                    minInputVal.setAttribute('disabled', true)\n                    maxInputVal.setAttribute('disabled', true)\n                }\n            }\n\n            handleMinSliderValues(e) {\n                const minInputVal = this.shadowRoot.querySelector('.min-input-value')\n                console.log(e.target.value)\n                minInputVal.value = e.target.value\n            }\n\n            handleMaxSliderValues(e) {\n                const maxInputVal = this.shadowRoot.querySelector('.max-input-value')\n                console.log(e.target.value)\n                maxInputVal.value = e.target.value\n            }\n\n            handleMinInputValues(e) {\n                const minInputVal = this.shadowRoot.querySelector('.min-on-setting')\n                console.log(e.target.value)\n                minInputVal.value = e.target.value\n            }\n\n            handleMaxInputValues(e) {\n                const maxInputVal = this.shadowRoot.querySelector('.min-off-setting')\n                console.log(e.target.value)\n                maxInputVal.value = e.target.value\n            }\n\n            render() {\n                    return html `\n    <style>      \n      * {\n        box-sizing: border-box;\n      }\n      .app-header {\n        background: rgb(94,85,107);\n        position: fixed;\n        top: 0;\n        right: 0;\n        left: 0;\n        height: var(--app-header-height);\n        color: #fff;\n        display: flex;\n        justify-content: flex-end;\n        z-index: 9;\n        box-shadow: 4px 0px 10px rgba(0,0,0,0.2);\n        align-items: center;\n      }\n\n      .app-header-main {\n        flex-grow: 1;\n        display: flex;\n        align-items: center;\n      }\n\n      .app-header-main::slotted(h1){\n        color: #fff;\n      }\n\n      .app-logo a {\n        color: #fff;\n        text-decoration: none;\n        font-weight: bold;\n        font-size: 1.2em;\n        padding: .6em;\n        display: inline-block;        \n      }\n\n      .app-logo img {\n        width: 90px;\n      }\n      \n      .hamburger-btn::part(base) {\n        color: #fff;\n        font-size: 2.5em;\n      }\n\n      .app-top-nav {\n        display: flex;\n        height: 100%;\n        align-items: center;\n      }\n\n      .app-top-nav a {\n        display: inline-block;\n        padding: .8em;\n        text-decoration: none;\n        color: #fff;\n      }\n\n      sl-drawer::part(panel){\n        background-color: rgb(94,85,107);\n        --size: 20em;\n      }\n\n      sl-drawer::part(body){\n        padding: 0;\n        scrollbar-width: none; /* Firefox */\n        -ms-overflow-style: none;  /* IE 10+ */\n        &::-webkit-scrollbar {\n        width: 0px;\n        background: transparent; /* Chrome/Safari/Webkit */\n        }\n      }\n      \n      sl-drawer::part(overlay){\n        background: transparent;\n      }\n\n      sl-drawer::part(close-button){\n        color: white;\n      }\n\n      .sidenav-content{\n        display: flex; \n        flex-direction: column; \n        align-items: center; \n        height: 100%; \n        justify-content: space-between;\n      }\n\n      .accordion-container{\n        width: 100%;\n      }\n\n      .dashboard-button::part(content){\n        display: none;\n      }\n\n      .bottom-menus{\n        width: 100%;\n        padding: 5%;\n      }\n\n      .app-side-menu-items a {\n        display: block;\n        padding: .5em;\n        text-decoration: none;\n        font-size: 1.3em;\n        color: var(--app-header-txt-color);\n      }\n\n      .page-title {\n        color: var(--app-header-txt-color);\n        margin-right: 0.5em;\n        font-size: var(--app-header-title-font-size);\n      }\n\n      /* active nav links */\n      .app-top-nav a.active,\n      .app-side-menu-items a.active {\n        font-weight: bold;\n      }\n\n      #bell-icon, #bell-icon-sidenav, #alert-icon, #alert-icon-sidenav, .bi-bell{\n        color: gray;\n      }\n\n      sl-dropdown::part(panel){\n        background-color: rgb(94,85,107);\n        border: none;\n        max-height: 100vh;\n        border-radius:  0 0 5px 5px;\n      }\n\n      sl-menu.left-menu::part(base){\n        border: 1px solid #fff;\n        border-radius: 5px;\n      }\n\n      .menu-items::part(base){\n        color: #fff;\n      }\n\n      .menu-items::part(base):hover{\n        color: rgb(94,85,107);\n      }\n\n      sl-avatar::part(base){\n        --size: 2rem;\n        color: white;\n      }\n\n      sl-details::part(header){\n        padding: var(--sl-spacing-x-small);\n      }\n      \n      sl-details::part(content){\n        padding: 0;\n        border-top: 1px solid white;\n      }\n\n      sl-details::part(summary):hover{\n        color: var(--base-color);\n      }\n\n      sl-details::part(base){\n        color: white;\n        background: var(--base-color);\n      }\n\n      sl-details::part(base):hover{\n        color: var(--base-color);\n        background: white;\n      }\n\n      .dropdown-icon{\n        font-size: 2rem;\n\n      }.settings-icon{\n        font-size: 1.5rem; \n        position:relative; \n        top:-25%; \n        left: -15%; \n        margin-right:0;\n      }\n\n      .add-icon{\n        font-size: 1rem; \n        position:relative; \n        top:-25%; \n        left: -5%;\n      }\n\n      .manage-place{\n        font-size: 1rem; \n        position:relative; \n        top:-25%; \n        left: -5%;\n      }\n\n      .manage-device{\n        font-size: 1.5rem; \n        position:relative; \n        top:-25%; \n        left: -5%; \n        margin-right:0;\n      }\n\n      .add-device{\n        font-size: 1rem; \n        position:relative; \n        top:-25%; \n        left: 0;\n      }\n\n      .signout-icon{\n        font-size: 2rem;\n        left: 10%;\n        margin-right:1.5rem;\n      }\n\n      .app-side-nav{\n        display:none;\n      }\n\n      .summary-icon::part(summary){\n        font-size: 2rem;\n      }\n\n      /* RESPONSIVE - MOBILE ------------------- */\n      @media all and (max-width: 768px){       \n        \n        .app-top-nav {\n          display: none;\n        }\n\n        .app-side-nav{\n          display:flex;\n          align-items: center;\n          justify-content: space-evenly;\n        }\n      }\n\n      .dialog-heading{\n        display: flex; \n        align-items: center; \n        justify-content: center; \n        font-size: 1.5rem; \n        font-weight: 900;\n        color: white;\n      }\n\n      .flex-center{\n          display:flex;\n          align-items: center;\n          justify-content: center;\n      }\n\n      sl-dialog::part(panel){\n          background: var(--dialog-background);\n      }\n\n      .pad-bottom{\n          padding-bottom: 20px;\n      }\n\n      .toggle-dialogs{\n        cursor: pointer;\n        color: var(--brand-color);\n        text-decoration: underline;\n      }\n\n      .toggle-dialogs:hover{\n        color: white;\n      }\n\n      .toggle-text{\n        margin: 0;\n        color: white;\n      }\n\n      .toggle-switch{\n        --width: 60px; --height: 30px; --thumb-size: 28px;\n        color: white;\n        margin: 10px 0;\n      }\n\n      .input-labels{\n        color: white;\n      }\n\n      .text-input-sml{\n        width: 10rem;\n      }\n\n      .text-input-xs{\n        width: 5rem;\n      }\n\n      .hidden{\n        display: none;\n      }\n    </style>  \n    <!-- Sign in dialog -->\n    <link href=\"https://fonts.googleapis.com/icon?family=Material+Icons\" rel=\"stylesheet\">\n    <sl-dialog no-header=\"true\" slot=\"label\" class=\"signin-dialog\" style=\"--width: 30vw;\">\n    <span class=\"dialog-heading\">Sign In</span>\n    <div class=\"page-content page-centered\">\n        <div class=\"signinup-box\">\n        <div class=\"flex-center\">\n            <div class=\"material-icons\" style=\"font-size: 8rem; margin: 1rem; color: white;\">account_circle</div>          \n        </div>\n        <sl-form class=\"form-signup dark-theme\" @sl-submit=${this.signInSubmitHandler}>          \n            <div class=\"input-group\">\n            <sl-input class=\"pad-bottom email-input\" name=\"email\" type=\"email\" placeholder=\"Email\" required></sl-input>\n            </div>\n            <div class=\"input-group\">\n            <sl-input class=\"pad-bottom\" name=\"password\" type=\"password\" placeholder=\"Password\" required toggle-password></sl-input>\n            </div>\n            <sl-button class=\"submit-btn\" type=\"primary\" submit style=\"width: 100%;\">Sign In</sl-button>\n        </sl-form>\n        <p>No Account? <span class=\"toggle-dialogs\">Sign Up</span></p>\n        </div>\n    </div>\n    </sl-dialog>\n    <!-- Sign up dialog -->\n    <sl-dialog no-header=\"true\" slot=\"label\" class=\"signup-dialog\" style=\"--width: 30vw;\">\n    <span class=\"dialog-heading\">Sign up</span>\n    <div class=\"page-content page-centered\">\n        <div class=\"signupup-box\">\n        <div class=\"flex-center\">\n            <div class=\"material-icons\" style=\"font-size: 8rem; margin: 1rem; color: white;\">account_circle</div>          \n        </div>\n        <sl-form class=\"form-signup\" @sl-submit=${this.signInSubmitHandler}>\n            <div class=\"input-group\">\n              <sl-input class=\"pad-bottom\" name=\"firstName\" type=\"text\" placeholder=\"First Name\" required></sl-input>\n            </div>\n            <div class=\"input-group\">\n              <sl-input class=\"pad-bottom\" name=\"lastName\" type=\"text\" placeholder=\"Last Name\" required></sl-input>\n            </div>\n            <div class=\"input-group\">\n            <sl-input class=\"pad-bottom\" name=\"username\" type=\"text\" placeholder=\"Username\" required></sl-input>\n            </div>\n            <div class=\"input-group\">\n              <sl-input class=\"pad-bottom\" name=\"email\" type=\"email\" placeholder=\"Email\" required></sl-input>\n            </div>\n            <div class=\"input-group\">\n              <sl-input class=\"pad-bottom\" name=\"password\" type=\"password\" placeholder=\"Password\" required toggle-password></sl-input>\n            </div>      \n            ${Auth.currentUser.accessLevel == 2 ? html`\n            <div class=\"input-group\">\n            <p class=\"toggle-text\">User type (regular/admin)</p>\n              <sl-switch class=\"toggle-switch\" id=\"access-level-toggle\"></sl-switch>      \n            </div>\n            <div class=\"input-group\">\n            <p class=\"toggle-text\">User status (inactive/active)</p>\n              <sl-switch class=\"toggle-switch\"  id=\"user-status-toggle\" checked></sl-switch>\n            `:``}\n            <sl-button type=\"primary\" class=\"submit-btn\" submit style=\"width: 100%;\">Sign Up</sl-button>\n        </sl-form>\n        <p>Have an account? <span class=\"toggle-dialogs\">Sign In</span></p>\n        </div>\n    </div>\n    </sl-dialog>\n    <!-- Register device menu -->\n    <sl-dialog no-header=\"true\" class=\"register-device-dialog\" style=\"--width: 30vw;\">\n      <span class=\"dialog-heading\">Register Device</span>\n      <div class=\"page-content page-centered\">\n          <div class=\"flex-center\">\n              <div class=\"material-icons\" style=\"font-size: 8rem; margin: 1rem; color: white;\">sensors</div>          \n          </div>\n          <sl-form class=\"form-register-device dark-theme\" @sl-submit=${this.registerDeviceSubmitHandler}>\n              <div class=\"input-group pad-bottom input-labels\">\n                <sl-input name=\"name\" type=\"text\" id=\"device-name\" placeholder=\"Device name... e.g. Hallway LEDs\" required></sl-input>\n              </div>\n              <div class=\"input-group pad-bottom\">\n                <sl-select id=\"register-device-dropdown\" placeholder=\"Select device type...\"></sl-select>\n              </div>      \n              <div class=\"input-group pad-bottom\">\n                <sl-select id=\"register-device-location-dropdown\" placeholder=\"Select device location...\"></sl-select>\n              </div>\n              <div class=\"input-group input-labels\">\n                <p class=\"toggle-text\">Advanced Settings</p>\n                <sl-switch class=\"toggle-switch\" id=\"advanced-settings-toggle\" @sl-change=${this.handleAdvancedSettings}></sl-switch>      \n              </div>\n              <div class=\"advanced-device-settings hidden\">\n                <div style=\"display:flex; justify-content: center; align-items: center; border-bottom: 1px solid white; padding: 0 0 1rem 0; margin-bottom: 1rem; color: white;\">\n                  <div>Advanced Settings</div>\n                </div>\n                <div class=\"input-group pad-bottom input-labels\">\n                  <p class=\"toggle-text\">Disable/Enable</p>\n                  <sl-switch class=\"toggle-switch\" id=\"disable-enable-toggle\"></sl-switch>      \n                </div>\n                <div class=\"input-group pad-bottom input-labels\">\n                  <p class=\"toggle-text\">Manual/Auto</p>\n                  <sl-switch class=\"toggle-switch\" id=\"manual-auto-toggle\" @sl-change=${this.handleAutoManagement} checked></sl-switch>      \n                </div>\n                <div class=\"input-group\">\n                <!-- Will be replaced with custom made component containing two selector in one line -->\n                  <sl-range class=\"min-on-setting\" label=\"Moisture level on trigger\" help-text=\"Turn on at %.\"min=\"0\"max=\"100\" value=\"30\" @sl-change=${this.handleMinSliderValues}></sl-range>\n                  <sl-range class=\"min-off-setting\" label=\"Moisture level off trigger\" help-text=\"Turn off at %.\"min=\"0\"max=\"100\" value=\"80\" @sl-change=${this.handleMaxSliderValues}></sl-range>\n                </div>\n                <div class=\"input-group input-labels\" style=\"display: flex;\">\n                  <sl-input class=\"pad-bottom text-input-xs min-input-value\" name=\"minTrigger\" type=\"number\" label=\"Min.\" @sl-change=${this.handleMinInputValues} value=\"30\"></sl-input>\n                  <sl-input class=\"pad-bottom text-input-xs max-input-value\" style=\"margin-left: 1rem;\" name=\"maxTrigger\" type=\"number\" label=\"Max.\" @sl-change=${this.handleMaxInputValues} value=\"80\"></sl-input>\n                </div>\n                <div class=\"input-group input-labels\">\n                  <sl-input class=\"pad-bottom text-input-xs\" name=\"reportingRate\" label=\"Reporting interval (sec)\" type=\"number\" value=\"60\"></sl-input>\n                </div>\n                <div class=\"input-group input-labels\">\n                  <sl-input class=\"pad-bottom text-input-xs\" name=\"pollRate\" label=\"Polling rate (sec)\" type=\"number\" value=\"15\"></sl-input>\n                </div>\n                <div class=\"input-group input-labels\">\n                  <sl-input class=\"pad-bottom text-input-sml\" id=\"ip-input\" name=\"ipAddress\" label=\"IP address\" type=\"text\" value=\"\"></sl-input>\n                </div>\n                <div class=\"input-group input-labels\">\n                  <sl-input class=\"pad-bottom text-input-sml\" id=\"mqtt-input\" name=\"mqttTopic\" label=\"MQTT topic\" type=\"string\" value=\"\"></sl-input>\n                </div>\n              </div>           \n              <sl-button class=\"cancel-btn cancel pad-bottom\" type=\"primary\" submit style=\"width: 100%;\">Cancel</sl-button>\n              <sl-button class=\"submit-btn register-device pad-bottom\" id=\"register-device-submit-btn\" type=\"primary\" submit style=\"width: 100%;\">Register</sl-button>\n          </sl-form>\n      </div>\n    </sl-dialog>\n    <!-- Register place menu -->\n    <sl-dialog no-header=\"true\" slot=\"label\" class=\"register-place-dialog\" style=\"--width: 30vw;\">\n      <span class=\"dialog-heading\">Register Place</span>\n      <div class=\"page-content page-centered\">\n          <div class=\"flex-center\">\n              <div class=\"material-icons\" style=\"font-size: 8rem; margin: 1rem; color: white;\">home</div>          \n          </div>\n          <sl-form class=\"form-register-place dark-theme\" @sl-submit=${this.registerPlaceSubmitHandler}>\n              <div class=\"input-group pad-bottom\">\n                <sl-input name=\"placeName\" type=\"text\" placeholder=\"Place name... e.g. Master Bedroom\" required></sl-input>\n              </div>\n              <div class=\"input-group pad-bottom\">\n              <sl-select id=\"register-place-dropdown\" name=\"location\" placeholder=\"Select location...\">\n              </sl-select>\n            </div>      \n              <sl-button class=\"cancel-btn cancel pad-bottom\" type=\"primary\" submit style=\"width: 100%;\">Cancel</sl-button>\n              <sl-button class=\"submit-btn register-place\" type=\"primary\" submit style=\"width: 100%;\">Register</sl-button>\n          </sl-form>\n      </div>\n    </sl-dialog>\n    <!-- Hamburger -->\n    <header class=\"app-header\" style=\"display:flex; justify-content: space-between; align-items:center;\">\n      <div class=\"left-navs\">\n        <sl-icon-button class=\"hamburger-btn\" name=\"list\" @click=\"${this.hamburgerClick}\"></sl-icon-button>       \n      </div>\n      <!-- Main (top) menus -->\n      <div class=\"right-navs\">\n        <nav class=\"app-top-nav\">\n          <a slot=\"trigger\" href=\"#\" style=\"display: flex; align-items: center;\" @click=\"${(e) => e.preventDefault()}\">\n              <sl-icon id=\"bell-icon\" slot=\"icon\" name=\"bell\" style=\"font-size: 2rem;\"></sl-icon>\n            </a>\n          <a slot=\"trigger\" href=\"#\" style=\"display: flex; align-items: center;\" @click=\"${(e) => e.preventDefault()}\">\n              <sl-icon id=\"alert-icon\" slot=\"icon\" name=\"exclamation-circle\" style=\"font-size: 2rem;\"></sl-icon>\n            </a>\n          <sl-dropdown>\n            <a slot=\"trigger\" href=\"#\" style=\"display: flex; align-items: center;\" @click=\"${(e) => e.preventDefault()}\">\n              <sl-icon slot=\"icon\" name=\"gear-fill\" style=\"font-size: 1.9rem;\"></sl-icon>\n            </a>\n            <sl-menu>            \n            <!-- Not yet implemented -->\n              <sl-menu-item @click=\"${() => gotoRoute('/')}\"><sl-icon class=\"dropdown-icon\" slot=\"prefix\" name=\"wifi\"></sl-icon>System Status</sl-menu-item>\n              <sl-menu-item @click=\"${() => gotoRoute('/')}\"><sl-icon class=\"dropdown-icon\" slot=\"prefix\" name=\"list-ul\"></sl-icon>Logs</sl-menu-item>\n            </sl-menu>\n          </sl-dropdown>\n          <sl-dropdown distance=\"0\" class=\"dropdowns\">\n            <a slot=\"trigger\" href=\"#\" @click=\"${(e) => e.preventDefault()}\">\n              <sl-avatar image=${(this.user && this.user.imageURL) ? `${App.apiBase}/images/${this.user.imageURL}` : ``}></sl-avatar> ${this.user && this.user.firstName}\n            </a>\n            <sl-menu>            \n            ${Auth.currentUser.accessLevel == 2 ? html`\n              <sl-menu-item class=\"register-user menu-items\" id=\"register-user\">\n                <sl-icon class=\"dropdown-icon\" slot=\"prefix\" name=\"person\"></sl-icon>\n                <sl-icon class=\"settings-icon\" slot=\"prefix\" name=\"plus\"></sl-icon>\n                  Register User\n              ` : ``}\n              </sl-menu-item>\n              <sl-menu-item class=\"manage-account menu-items\" id=\"manage-account\" @click=\"${() => gotoRoute('/users')}\">\n                <sl-icon class=\"dropdown-icon\" slot=\"prefix\" name=\"person\"></sl-icon>\n                <sl-icon class=\"add-icon\" slot=\"prefix\" name=\"gear-fill\"></sl-icon>\n                  Manage Account\n              </sl-menu-item>\n              ${Auth.currentUser.accessLevel == 2 ? html`\n              <sl-menu-divider></sl-menu-divider>\n                <sl-menu-item class=\"register-place menu-items\" id=\"register-place\">\n                  <sl-icon class=\"dropdown-icon\" slot=\"prefix\" name=\"house-door\"></sl-icon>\n                  <sl-icon class=\"settings-icon\" slot=\"prefix\" name=\"plus\"></sl-icon>\n                    Register Place\n                </sl-menu-item>\n              <sl-menu-item class=\"menu-items\" @click=\"${() => gotoRoute('/places')}\">\n                <sl-icon class=\"dropdown-icon\" slot=\"prefix\" name=\"house-door\"></sl-icon>\n                <sl-icon class=\"manage-place\" slot=\"prefix\" name=\"gear-fill\"></sl-icon>\n                  Manage Place\n              </sl-menu-item>\n              <sl-menu-divider></sl-menu-divider>\n              <sl-menu-item class=\"menu-items register-device\" id=\"register-device\">\n                <sl-icon class=\"dropdown-icon\" slot=\"prefix\" name=\"broadcast\"></sl-icon>\n                <sl-icon class=\"manage-device\" slot=\"prefix\" name=\"plus\"></sl-icon>\n                  Register Device\n              </sl-menu-item>\n              <sl-menu-item class=\"menu-items\" @click=\"${() => gotoRoute('/devices')}\">\n                <sl-icon class=\"dropdown-icon\" slot=\"prefix\" name=\"broadcast\"></sl-icon>\n                <sl-icon class=\"add-device\" slot=\"prefix\" name=\"gear-fill\"></sl-icon>\n                  Manage Device\n              </sl-menu-item>\n              <sl-menu-divider></sl-menu-divider>\n              ` : ``}\n              <sl-menu-item class=\"menu-items\" @click=\"${() => Auth.signOut()}\">\n                <sl-icon class=\"signout-icon\" slot=\"prefix\" name=\"box-arrow-right\"></sl-icon>\n                  Sign Out\n              </sl-menu-item>\n            </sl-menu>\n          </sl-dropdown>\n        </nav>\n      </div>\n    </header>\n    <sl-drawer class=\"app-side-menu\" placement=\"left\">\n      <div class=\"sidenav-content\">\n        <!-- accordion (details) container to list all entities categorically -->\n        <div class=\"accordion-container\">\n        <link href=\"https://fonts.googleapis.com/icon?family=Material+Icons\" rel=\"stylesheet\">\n          <div class=\"accordion-menu\">\n            <sl-details class=\"dashboard-button\" @click=\"${() => gotoRoute('/')}\"><span slot=\"summary\" class=\"material-icons\" style=\"font-size: 40px;\">dashboard</span><span style=\"margin-left: 10px; font-weight:900;\" slot=\"summary\">Dashboard</span></sl-details>\n            <sl-details class=\"details places-list\" summary=\"Places\" ><span slot=\"summary\" class=\"material-icons\" style=\"font-size: 40px;\">home</span><span style=\"margin-left: 10px; font-weight:900;\" slot=\"summary\">Places</span></sl-details>\n            <sl-details class=\"details devices-list\" summary=\"Devices\"><span slot=\"summary\" class=\"material-icons\" style=\"font-size: 40px;\">sensors</span><span style=\"margin-left: 10px; font-weight:900;\" slot=\"summary\">Devices</span></sl-details>\n            ${localStorage.accessLevel == 2 ? html `<sl-details class=\"details users-list\" summary=\"Users\"><span slot=\"summary\" class=\"material-icons\" style=\"font-size: 40px;\">account_circle</span><span style=\"margin-left: 10px; font-weight:900;\" slot=\"summary\">Users</span></sl-details>`:``}\n          </div>\n          <style>\n            .details-group-example sl-details:not(:last-of-type) {\n              margin-bottom: var(--sl-spacing-xx-small);\n            }\n          </style>\n        </div>\n        <!--  -->\n        <div class=\"bottom-menus\">\n          <nav class=\"app-side-nav\">\n            <!-- <a href=\"/\" @click=\"${anchorRoute}\">Home</a>         -->\n            <a slot=\"trigger\" href=\"#\" style=\"display: flex; align-items: center;\" @click=\"${(e) => e.preventDefault()}\">\n                <sl-icon id=\"bell-icon-sidenav\" slot=\"icon\" name=\"bell\" style=\"font-size: 2rem;\"></sl-icon>\n              </a>\n            <a slot=\"trigger\" href=\"#\" style=\"display: flex; align-items: center;\" @click=\"${(e) => e.preventDefault()}\">\n                <sl-icon id=\"alert-icon-sidenav\" slot=\"icon\" name=\"exclamation-circle\" style=\"font-size: 2rem;\"></sl-icon>\n              </a>\n            <sl-dropdown skidding=\"-109\" distance=\"10\">\n              <a slot=\"trigger\" href=\"#\" style=\"display: flex; align-items: center;\" @click=\"${(e) => e.preventDefault()}\">\n                <sl-icon slot=\"icon\" name=\"gear-fill\" style=\"font-size: 2rem; color: white;\"></sl-icon>\n              </a>\n              <sl-menu class=\"left-menu\">            \n              <!-- Not yet implemented -->\n                <sl-menu-item class=\"menu-items\" @click=\"${() => gotoRoute('/')}\"><sl-icon class=\"dropdown-icon\" slot=\"prefix\" name=\"wifi\"></sl-icon>System Status</sl-menu-item>\n                <sl-menu-item class=\"menu-items\" @click=\"${() => gotoRoute('/')}\"><sl-icon class=\"dropdown-icon\" slot=\"prefix\" name=\"list-ul\"></sl-icon>Logs</sl-menu-item>\n              </sl-menu>\n            </sl-dropdown>\n            <sl-dropdown skidding=\"-171\" distance=\"10\" class=\"dropdowns-left\">\n              <a slot=\"trigger\" href=\"#\" @click=\"${(e) => e.preventDefault()}\">\n                <sl-avatar image=${(this.user && this.user.avatar) ? `${App.apiBase}/images/${this.user.avatar}` : ``}>\n              </a>\n              <sl-menu class=\"left-menu\">            \n                ${Auth.currentUser.accessLevel == 2 ? html`\n                  <sl-menu-item class=\"register-user menu-items\" id=\"register-user-side\">\n                    <sl-icon class=\"dropdown-icon\" slot=\"prefix\" name=\"person\"></sl-icon>\n                    <sl-icon class=\"settings-icon\" slot=\"prefix\" name=\"plus\"></sl-icon>\n                      Register User\n                  ` : ``}\n                  </sl-menu-item>\n                  <sl-menu-item class=\"manage-account menu-items\" id=\"manage-account-side\" @click=\"${() => gotoRoute('/users')}\">\n                    <sl-icon class=\"dropdown-icon\" slot=\"prefix\" name=\"person\"></sl-icon>\n                    <sl-icon class=\"add-icon\" slot=\"prefix\" name=\"gear-fill\"></sl-icon>\n                      Manage Account\n                  </sl-menu-item>\n                  ${Auth.currentUser.accessLevel == 2 ? html`\n                  <sl-menu-divider></sl-menu-divider>\n                    <sl-menu-item class=\"register-place-side menu-items\"  id=\"register-place-side\">\n                      <sl-icon class=\"dropdown-icon\" slot=\"prefix\" name=\"house-door\"></sl-icon>\n                      <sl-icon class=\"settings-icon\" slot=\"prefix\" name=\"plus\"></sl-icon>\n                        Register Place\n                    </sl-menu-item>\n                  <sl-menu-item class=\"menu-items\" @click=\"${() => gotoRoute('/places')}\">\n                    <sl-icon class=\"dropdown-icon\" slot=\"prefix\" name=\"house-door\"></sl-icon>\n                    <sl-icon class=\"manage-place\" slot=\"prefix\" name=\"gear-fill\"></sl-icon>\n                      Manage Place\n                  </sl-menu-item>\n                  <sl-menu-divider></sl-menu-divider>\n                  <sl-menu-item class=\"menu-items register-device-side\" id=\"register-device-side\">\n                    <sl-icon class=\"dropdown-icon\" slot=\"prefix\" name=\"broadcast\"></sl-icon>\n                    <sl-icon class=\"manage-device\" slot=\"prefix\" name=\"plus\"></sl-icon>\n                      Register Device\n                  </sl-menu-item>\n                  <sl-menu-item class=\"menu-items\" @click=\"${() => gotoRoute('/devices')}\">\n                    <sl-icon class=\"dropdown-icon\" slot=\"prefix\" name=\"broadcast\"></sl-icon>\n                    <sl-icon class=\"add-device\" slot=\"prefix\" name=\"gear-fill\"></sl-icon>\n                      Manage Device\n                  </sl-menu-item>\n                  <sl-menu-divider></sl-menu-divider>\n                  ` : ``}\n                  <sl-menu-item class=\"menu-items\" @click=\"${() => Auth.signOut()}\">\n                    <sl-icon class=\"signout-icon\" slot=\"prefix\" name=\"box-arrow-right\"></sl-icon>\n                      Sign Out\n                  </sl-menu-item>\n              </sl-menu>\n            </sl-dropdown>\n          </nav>\n        </div>\n      </div>\n    </sl-drawer>\n    `\n  }\n})","import { LitElement, html, css } from \"@polymer/lit-element\";\r\nimport { anchorRoute, gotoRoute } from '../Router'\r\nimport Auth from '../Auth'\r\nimport App from '../App'\r\n\r\n// const template = document.createElement\r\nclass AccordionButton extends LitElement {\r\n    constructor() {\r\n        super()\r\n    }\r\n\r\n    // element attributes\r\n    static get properties() {\r\n        return {\r\n            textContent: {\r\n                type: String\r\n            },\r\n            icon: {\r\n                type: String\r\n            },\r\n            path: {\r\n                type: String\r\n            },\r\n            active: {\r\n                type: String\r\n            }\r\n        }\r\n    }\r\n\r\n    firstUpdated() {\r\n        super.firstUpdated()\r\n        let button = this.shadowRoot.querySelector('.container')\r\n        button.addEventListener('click', () => {\r\n            this.shadowRoot.querySelector('.active-indicator').classList.toggle('active')\r\n        })\r\n    }\r\n\r\n    render() {\r\n            return html `\r\n        <style>\r\n            h3{\r\n                margin: 1rem;\r\n            }\r\n\r\n            .container{\r\n                position: relative;\r\n                border-bottom: 1px solid;\r\n                color: white;\r\n                background: var(--brand-color);\r\n                width: 100%;\r\n                height: 100%;\r\n                display: flex;\r\n                justify-content: flex-start;\r\n                align-items: center;\r\n            }\r\n\r\n            .container:hover{\r\n                color: var(--brand-color);\r\n                background: white;\r\n                border: 0 1px 1px 1px solid white;\r\n                cursor: pointer;\r\n            }\r\n\r\n            .icon{\r\n                padding-left: 2rem;\r\n                display: flex;\r\n                justify-content: center;\r\n                align-items: center;\r\n            }\r\n\r\n            .icon slot{\r\n                width: 2rem;\r\n            }\r\n\r\n            .active-indicator{\r\n                height: 100%; \r\n                width: 10px; \r\n                position: absolute; \r\n                right: 0;\r\n            }\r\n\r\n            .active-indicator.active{\r\n                background: white;\r\n            }\r\n        </style>\r\n\r\n        <link href=\"https://fonts.googleapis.com/icon?family=Material+Icons\" rel=\"stylesheet\">\r\n            <div class=\"container\" part=\"container\">\r\n            ${this.path === \"icons\" ? html `\r\n            <span class=\"material-icons icon\" style=\"font-size: 2rem;\">${this.icon}</span>\r\n            `: html `\r\n            <img class=\"icon\" style=\"width: auto; height: 40px;\" src=${this.icon}></span>\r\n            `}\r\n            <h3>${this.textContent}</h3>\r\n            <div class=\"active-indicator\" part=\"active-indicator\"></div>\r\n        </div>\r\n        `\r\n    }\r\n}\r\n\r\ncustomElements.define('aa-accordion-button', AccordionButton)","import { LitElement, html, css } from \"@polymer/lit-element\";\r\nimport { anchorRoute, gotoRoute } from '../Router'\r\nimport Auth from '../Auth'\r\nimport App from '../App'\r\n\r\n// const template = document.createElement\r\nclass PanelTemplate extends LitElement {\r\n    constructor() {\r\n        super()\r\n    }\r\n\r\n    // element attributes\r\n    static get properties() {\r\n        return {\r\n            title: {\r\n                type: String\r\n            },\r\n            icon: {\r\n                type: String\r\n            },\r\n            path: {\r\n                type: String\r\n            },\r\n            active: {\r\n                type: String\r\n            }\r\n        }\r\n    }\r\n\r\n    firstUpdated() {\r\n        super.firstUpdated()\r\n    }\r\n\r\n    render() {\r\n            return html `\r\n        <style>\r\n            .container{\r\n                position: relative;\r\n                color: white;\r\n                background: var(--panel-color);\r\n                width: 100%;\r\n                height: 100%;\r\n                border-radius: 10px;\r\n                box-shadow: 10px 10px 10px rgba(0, 0, 0, 0.65);\r\n                padding: 0 1.5rem;\r\n                overflow-y: scroll;\r\n            }\r\n\r\n            .header{\r\n                display: flex;\r\n                justify-content: space-between;\r\n                align-items: center;\r\n                margin-bottom: 1rem;\r\n            }\r\n\r\n            .icon{\r\n                cursor: pointer;\r\n            }\r\n\r\n            .body-container{\r\n                height: 100%;\r\n                /* overflow-y: scroll; */\r\n                /* overflow: hidden; */\r\n            }\r\n\r\n            .body{\r\n                height: 100%;\r\n                /* overflow-y: scroll; */\r\n            }\r\n\r\n        </style>\r\n\r\n        <link href=\"https://fonts.googleapis.com/icon?family=Material+Icons\" rel=\"stylesheet\">\r\n        <div class=\"container\" part=\"container\">\r\n            <div class=\"header\">\r\n                ${localStorage.accessLevel == 2 ? html`<div class=\"material-icons add-icon icon\">add</div>` : ``}\r\n                <slot name=\"header-title\" part=\"title\"><h2>${this.title}</h2></slot>\r\n                ${localStorage.accessLevel == 2 ? html`<div class=\"material-icons settings-icon icon\"></div>` : ``}\r\n            </div>\r\n            <div class=\"body-container\">\r\n                <slot class=\"table-heading\" name=\"table-heading\" part=\"table-heading\"></slot>\r\n                <slot class=\"body\" name=\"body\" part=\"body\"></slot>\r\n            </div>\r\n        </div>\r\n        `\r\n    }\r\n}\r\n\r\ncustomElements.define('aa-panel-template', PanelTemplate)","import App from './App.js'\n\n// components (custom web components)\nimport './components/va-app-header'\nimport './components/aa-accordion-button'\nimport './components/aa-panel-template'\n\n// styles\nimport './scss/master.scss'\n\n// app.init\ndocument.addEventListener('DOMContentLoaded', () => {\n    App.init()\n})","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}